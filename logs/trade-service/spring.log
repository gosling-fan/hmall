13:13:21:386  INFO 140764 --- [main] com.jndx.trade.TradeApplication          : Starting TradeApplication using Java 17.0.11 on DESKTOP-IJRS560 with PID 140764 (D:\BaiduNetdiskDownload\spring_cloud\day02-Docker\资料\hmall\trade-service\target\classes started by gosling in D:\BaiduNetdiskDownload\spring_cloud\day02-Docker\资料\hmall)
13:13:21:388 DEBUG 140764 --- [main] com.jndx.trade.TradeApplication          : Running with Spring Boot v2.7.12, Spring v5.3.27
13:13:21:388  INFO 140764 --- [main] com.jndx.trade.TradeApplication          : The following 1 profile is active: "dev"
13:13:22:019  INFO 140764 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=750c76f0-4121-3990-bebc-96361424e007
13:13:22:334  INFO 140764 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8084 (http)
13:13:22:335  INFO 140764 --- [main] o.a.catalina.core.AprLifecycleListener   : Loaded Apache Tomcat Native library [1.2.39] using APR version [1.7.4].
13:13:22:335  INFO 140764 --- [main] o.a.catalina.core.AprLifecycleListener   : APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true], UDS [true].
13:13:22:335  INFO 140764 --- [main] o.a.catalina.core.AprLifecycleListener   : APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]
13:13:22:340  INFO 140764 --- [main] o.a.catalina.core.AprLifecycleListener   : OpenSSL successfully initialized [OpenSSL 3.0.11 19 Sep 2023]
13:13:22:347  INFO 140764 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
13:13:22:348  INFO 140764 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.75]
13:13:22:448  INFO 140764 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
13:13:22:448  INFO 140764 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1031 ms
13:13:22:494  WARN 140764 --- [main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'orderController' defined in file [D:\BaiduNetdiskDownload\spring_cloud\day02-Docker\资料\hmall\trade-service\target\classes\com\jndx\trade\controller\OrderController.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'orderServiceImpl' defined in file [D:\BaiduNetdiskDownload\spring_cloud\day02-Docker\资料\hmall\trade-service\target\classes\com\jndx\trade\service\impl\OrderServiceImpl.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'com.jndx.api.client.ItemClient' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}
13:13:22:496  INFO 140764 --- [main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
13:13:22:507  INFO 140764 --- [main] ConditionEvaluationReportLoggingListener : 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
13:13:22:522 ERROR 140764 --- [main] o.s.b.d.LoggingFailureAnalysisReporter   : 

***************************
APPLICATION FAILED TO START
***************************

Description:

Parameter 0 of constructor in com.jndx.trade.service.impl.OrderServiceImpl required a bean of type 'com.jndx.api.client.ItemClient' that could not be found.


Action:

Consider defining a bean of type 'com.jndx.api.client.ItemClient' in your configuration.

13:15:33:999  INFO 124660 --- [main] com.jndx.trade.TradeApplication          : Starting TradeApplication using Java 17.0.11 on DESKTOP-IJRS560 with PID 124660 (D:\BaiduNetdiskDownload\spring_cloud\day02-Docker\资料\hmall\trade-service\target\classes started by gosling in D:\BaiduNetdiskDownload\spring_cloud\day02-Docker\资料\hmall)
13:15:34:001 DEBUG 124660 --- [main] com.jndx.trade.TradeApplication          : Running with Spring Boot v2.7.12, Spring v5.3.27
13:15:34:001  INFO 124660 --- [main] com.jndx.trade.TradeApplication          : The following 1 profile is active: "local"
13:15:34:672  INFO 124660 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6d728199-2db6-3b6b-8a47-65e4b643e3ca
13:15:35:013  INFO 124660 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8084 (http)
13:15:35:014  INFO 124660 --- [main] o.a.catalina.core.AprLifecycleListener   : Loaded Apache Tomcat Native library [1.2.39] using APR version [1.7.4].
13:15:35:014  INFO 124660 --- [main] o.a.catalina.core.AprLifecycleListener   : APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true], UDS [true].
13:15:35:014  INFO 124660 --- [main] o.a.catalina.core.AprLifecycleListener   : APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]
13:15:35:019  INFO 124660 --- [main] o.a.catalina.core.AprLifecycleListener   : OpenSSL successfully initialized [OpenSSL 3.0.11 19 Sep 2023]
13:15:35:026  INFO 124660 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
13:15:35:026  INFO 124660 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.75]
13:15:35:137  INFO 124660 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
13:15:35:137  INFO 124660 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1107 ms
13:15:35:275  INFO 124660 --- [main] o.s.c.openfeign.FeignClientFactoryBean   : For 'item-service' URL not provided. Will try picking an instance via load-balancing.
13:15:35:647  INFO 124660 --- [main] o.s.c.openfeign.FeignClientFactoryBean   : For 'cart-service' URL not provided. Will try picking an instance via load-balancing.
13:15:35:949  INFO 124660 --- [main] pertySourcedRequestMappingHandlerMapping : Mapped URL path [/v2/api-docs] onto method [springfox.documentation.swagger2.web.Swagger2ControllerWebMvc#getDocumentation(String, HttpServletRequest)]
13:15:36:642  INFO 124660 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8084 (http) with context path ''
13:15:37:083  INFO 124660 --- [main] d.s.w.p.DocumentationPluginsBootstrapper : Documentation plugins bootstrapped
13:15:37:085  INFO 124660 --- [main] d.s.w.p.DocumentationPluginsBootstrapper : Found 1 custom documentation plugin(s)
13:15:37:102  INFO 124660 --- [main] s.d.s.w.s.ApiListingReferenceScanner     : Scanning for api listing references
13:15:37:168  INFO 124660 --- [main] com.jndx.trade.TradeApplication          : Started TradeApplication in 4.033 seconds (JVM running for 4.549)
13:15:58:423  INFO 124660 --- [http-nio-8084-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
13:15:58:423  INFO 124660 --- [http-nio-8084-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
13:15:58:424  INFO 124660 --- [http-nio-8084-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 0 ms
13:16:19:311  INFO 124660 --- [http-nio-8084-exec-7] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
13:16:19:560  INFO 124660 --- [http-nio-8084-exec-7] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
13:16:19:565 DEBUG 124660 --- [http-nio-8084-exec-7] c.j.trade.mapper.OrderMapper.selectById  : ==>  Preparing: SELECT id,total_fee,payment_type,user_id,status,create_time,pay_time,consign_time,end_time,close_time,comment_time,update_time FROM `order` WHERE id=?
13:16:19:583 DEBUG 124660 --- [http-nio-8084-exec-7] c.j.trade.mapper.OrderMapper.selectById  : ==> Parameters: 123865420(Long)
13:16:19:605 DEBUG 124660 --- [http-nio-8084-exec-7] c.j.trade.mapper.OrderMapper.selectById  : <==      Total: 1
14:44:20:320  INFO 124660 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
14:44:20:338  INFO 124660 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
14:44:40:858  INFO 136428 --- [main] com.jndx.trade.TradeApplication          : Starting TradeApplication using Java 17.0.11 on DESKTOP-IJRS560 with PID 136428 (D:\BaiduNetdiskDownload\spring_cloud\day02-Docker\资料\hmall\trade-service\target\classes started by gosling in D:\BaiduNetdiskDownload\spring_cloud\day02-Docker\资料\hmall)
14:44:40:859 DEBUG 136428 --- [main] com.jndx.trade.TradeApplication          : Running with Spring Boot v2.7.12, Spring v5.3.27
14:44:40:860  INFO 136428 --- [main] com.jndx.trade.TradeApplication          : The following 1 profile is active: "local"
14:44:41:590  INFO 136428 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=e320df59-40f4-3115-a15c-099e341b7d9d
14:44:41:891  INFO 136428 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8084 (http)
14:44:41:892  INFO 136428 --- [main] o.a.catalina.core.AprLifecycleListener   : Loaded Apache Tomcat Native library [1.2.39] using APR version [1.7.4].
14:44:41:892  INFO 136428 --- [main] o.a.catalina.core.AprLifecycleListener   : APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true], UDS [true].
14:44:41:892  INFO 136428 --- [main] o.a.catalina.core.AprLifecycleListener   : APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]
14:44:41:897  INFO 136428 --- [main] o.a.catalina.core.AprLifecycleListener   : OpenSSL successfully initialized [OpenSSL 3.0.11 19 Sep 2023]
14:44:41:903  INFO 136428 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
14:44:41:904  INFO 136428 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.75]
14:44:42:013  INFO 136428 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
14:44:42:014  INFO 136428 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1122 ms
14:44:42:161  INFO 136428 --- [main] o.s.c.openfeign.FeignClientFactoryBean   : For 'item-service' URL not provided. Will try picking an instance via load-balancing.
14:44:42:501  INFO 136428 --- [main] o.s.c.openfeign.FeignClientFactoryBean   : For 'cart-service' URL not provided. Will try picking an instance via load-balancing.
14:44:42:812  INFO 136428 --- [main] pertySourcedRequestMappingHandlerMapping : Mapped URL path [/v2/api-docs] onto method [springfox.documentation.swagger2.web.Swagger2ControllerWebMvc#getDocumentation(String, HttpServletRequest)]
14:44:43:550  INFO 136428 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8084 (http) with context path ''
14:44:44:120  INFO 136428 --- [main] d.s.w.p.DocumentationPluginsBootstrapper : Documentation plugins bootstrapped
14:44:44:123  INFO 136428 --- [main] d.s.w.p.DocumentationPluginsBootstrapper : Found 1 custom documentation plugin(s)
14:44:44:144  INFO 136428 --- [main] s.d.s.w.s.ApiListingReferenceScanner     : Scanning for api listing references
14:44:44:235  INFO 136428 --- [main] com.jndx.trade.TradeApplication          : Started TradeApplication in 4.303 seconds (JVM running for 4.884)
15:05:31:242  INFO 143692 --- [main] com.jndx.trade.TradeApplication          : Starting TradeApplication using Java 17.0.11 on DESKTOP-IJRS560 with PID 143692 (D:\BaiduNetdiskDownload\spring_cloud\day02-Docker\资料\hmall\trade-service\target\classes started by gosling in D:\BaiduNetdiskDownload\spring_cloud\day02-Docker\资料\hmall)
15:05:31:244 DEBUG 143692 --- [main] com.jndx.trade.TradeApplication          : Running with Spring Boot v2.7.12, Spring v5.3.27
15:05:31:244  INFO 143692 --- [main] com.jndx.trade.TradeApplication          : The following 1 profile is active: "local"
15:05:31:863  INFO 143692 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=e320df59-40f4-3115-a15c-099e341b7d9d
15:05:32:147  INFO 143692 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8084 (http)
15:05:32:147  INFO 143692 --- [main] o.a.catalina.core.AprLifecycleListener   : Loaded Apache Tomcat Native library [1.2.39] using APR version [1.7.4].
15:05:32:148  INFO 143692 --- [main] o.a.catalina.core.AprLifecycleListener   : APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true], UDS [true].
15:05:32:148  INFO 143692 --- [main] o.a.catalina.core.AprLifecycleListener   : APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]
15:05:32:152  INFO 143692 --- [main] o.a.catalina.core.AprLifecycleListener   : OpenSSL successfully initialized [OpenSSL 3.0.11 19 Sep 2023]
15:05:32:158  INFO 143692 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
15:05:32:158  INFO 143692 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.75]
15:05:32:250  INFO 143692 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
15:05:32:250  INFO 143692 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 977 ms
15:05:32:371  INFO 143692 --- [main] o.s.c.openfeign.FeignClientFactoryBean   : For 'item-service' URL not provided. Will try picking an instance via load-balancing.
15:05:32:706  INFO 143692 --- [main] o.s.c.openfeign.FeignClientFactoryBean   : For 'cart-service' URL not provided. Will try picking an instance via load-balancing.
15:05:32:991  INFO 143692 --- [main] pertySourcedRequestMappingHandlerMapping : Mapped URL path [/v2/api-docs] onto method [springfox.documentation.swagger2.web.Swagger2ControllerWebMvc#getDocumentation(String, HttpServletRequest)]
15:05:33:657  INFO 143692 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8084 (http) with context path ''
15:05:34:147  INFO 143692 --- [main] d.s.w.p.DocumentationPluginsBootstrapper : Documentation plugins bootstrapped
15:05:34:149  INFO 143692 --- [main] d.s.w.p.DocumentationPluginsBootstrapper : Found 1 custom documentation plugin(s)
15:05:34:163  INFO 143692 --- [main] s.d.s.w.s.ApiListingReferenceScanner     : Scanning for api listing references
15:05:34:228  INFO 143692 --- [main] com.jndx.trade.TradeApplication          : Started TradeApplication in 3.834 seconds (JVM running for 4.344)
15:10:35:040  INFO 134480 --- [main] com.jndx.trade.TradeApplication          : Starting TradeApplication using Java 17.0.11 on DESKTOP-IJRS560 with PID 134480 (D:\BaiduNetdiskDownload\spring_cloud\day02-Docker\资料\hmall\trade-service\target\classes started by gosling in D:\BaiduNetdiskDownload\spring_cloud\day02-Docker\资料\hmall)
15:10:35:042 DEBUG 134480 --- [main] com.jndx.trade.TradeApplication          : Running with Spring Boot v2.7.12, Spring v5.3.27
15:10:35:042  INFO 134480 --- [main] com.jndx.trade.TradeApplication          : The following 1 profile is active: "local"
15:10:35:709  INFO 134480 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=102a77e8-1614-3642-b0b5-05009bdd46d2
15:10:36:000  INFO 134480 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8084 (http)
15:10:36:000  INFO 134480 --- [main] o.a.catalina.core.AprLifecycleListener   : Loaded Apache Tomcat Native library [1.2.39] using APR version [1.7.4].
15:10:36:000  INFO 134480 --- [main] o.a.catalina.core.AprLifecycleListener   : APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true], UDS [true].
15:10:36:000  INFO 134480 --- [main] o.a.catalina.core.AprLifecycleListener   : APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]
15:10:36:005  INFO 134480 --- [main] o.a.catalina.core.AprLifecycleListener   : OpenSSL successfully initialized [OpenSSL 3.0.11 19 Sep 2023]
15:10:36:011  INFO 134480 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
15:10:36:012  INFO 134480 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.75]
15:10:36:108  INFO 134480 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
15:10:36:109  INFO 134480 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1037 ms
15:10:36:229  INFO 134480 --- [main] o.s.c.openfeign.FeignClientFactoryBean   : For 'item-service' URL not provided. Will try picking an instance via load-balancing.
15:10:36:549  INFO 134480 --- [main] o.s.c.openfeign.FeignClientFactoryBean   : For 'cart-service' URL not provided. Will try picking an instance via load-balancing.
15:10:37:334  INFO 134480 --- [main] pertySourcedRequestMappingHandlerMapping : Mapped URL path [/v2/api-docs] onto method [springfox.documentation.swagger2.web.Swagger2ControllerWebMvc#getDocumentation(String, HttpServletRequest)]
15:10:38:012  INFO 134480 --- [main] com.alibaba.nacos.common.remote.client   : [RpcClientFactory] create a new rpc client of 33558ab0-4375-4249-beb7-f273c6c63ce3
15:10:38:053  INFO 134480 --- [main] org.reflections.Reflections              : Reflections took 19 ms to scan 1 urls, producing 3 keys and 6 values 
15:10:38:069  INFO 134480 --- [main] org.reflections.Reflections              : Reflections took 6 ms to scan 1 urls, producing 4 keys and 9 values 
15:10:38:076  INFO 134480 --- [main] org.reflections.Reflections              : Reflections took 5 ms to scan 1 urls, producing 3 keys and 10 values 
15:10:38:077  WARN 134480 --- [main] org.reflections.Reflections              : given scan urls are empty. set urls in the configuration
15:10:38:081  INFO 134480 --- [main] org.reflections.Reflections              : Reflections took 4 ms to scan 1 urls, producing 1 keys and 5 values 
15:10:38:090  INFO 134480 --- [main] org.reflections.Reflections              : Reflections took 7 ms to scan 1 urls, producing 1 keys and 7 values 
15:10:38:096  INFO 134480 --- [main] org.reflections.Reflections              : Reflections took 4 ms to scan 1 urls, producing 2 keys and 8 values 
15:10:38:098  WARN 134480 --- [main] org.reflections.Reflections              : given scan urls are empty. set urls in the configuration
15:10:38:098  INFO 134480 --- [main] com.alibaba.nacos.common.remote.client   : [33558ab0-4375-4249-beb7-f273c6c63ce3] RpcClient init label, labels = {module=naming, source=sdk}
15:10:38:100  INFO 134480 --- [main] com.alibaba.nacos.common.remote.client   : [33558ab0-4375-4249-beb7-f273c6c63ce3] RpcClient init, ServerListFactory = com.alibaba.nacos.client.naming.core.ServerListManager
15:10:38:100  INFO 134480 --- [main] com.alibaba.nacos.common.remote.client   : [33558ab0-4375-4249-beb7-f273c6c63ce3] Registry connection listener to current client:com.alibaba.nacos.client.naming.remote.gprc.redo.NamingGrpcRedoService
15:10:38:100  INFO 134480 --- [main] com.alibaba.nacos.common.remote.client   : [33558ab0-4375-4249-beb7-f273c6c63ce3] Register server push request handler:com.alibaba.nacos.client.naming.remote.gprc.NamingPushRequestHandler
15:10:38:101  INFO 134480 --- [main] com.alibaba.nacos.common.remote.client   : [33558ab0-4375-4249-beb7-f273c6c63ce3] Try to connect to server on start up, server: {serverIp = '192.168.10.3', server main port = 8848}
15:10:39:298  INFO 134480 --- [main] com.alibaba.nacos.common.remote.client   : [33558ab0-4375-4249-beb7-f273c6c63ce3] Success to connect to server [192.168.10.3:8848] on start up, connectionId = 1720077039673_192.168.10.5_13746
15:10:39:298  INFO 134480 --- [com.alibaba.nacos.client.remote.worker] com.alibaba.nacos.common.remote.client   : [33558ab0-4375-4249-beb7-f273c6c63ce3] Notify connected event to listeners.
15:10:39:298  INFO 134480 --- [main] com.alibaba.nacos.common.remote.client   : [33558ab0-4375-4249-beb7-f273c6c63ce3] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$ConnectResetRequestHandler
15:10:39:299  INFO 134480 --- [main] com.alibaba.nacos.common.remote.client   : [33558ab0-4375-4249-beb7-f273c6c63ce3] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$$Lambda$987/0x0000024a01793928
15:10:39:332  INFO 134480 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8084 (http) with context path ''
15:10:39:340  INFO 134480 --- [main] c.a.c.n.registry.NacosServiceRegistry    : nacos registry, DEFAULT_GROUP trade-service 192.168.0.101:8084 register finished
15:10:39:828  INFO 134480 --- [main] d.s.w.p.DocumentationPluginsBootstrapper : Documentation plugins bootstrapped
15:10:39:831  INFO 134480 --- [main] d.s.w.p.DocumentationPluginsBootstrapper : Found 1 custom documentation plugin(s)
15:10:39:844  INFO 134480 --- [main] s.d.s.w.s.ApiListingReferenceScanner     : Scanning for api listing references
15:10:39:865  INFO 134480 --- [nacos-grpc-client-executor-11] com.alibaba.nacos.common.remote.client   : [33558ab0-4375-4249-beb7-f273c6c63ce3] Receive server push request, request = NotifySubscriberRequest, requestId = 9
15:10:39:867  INFO 134480 --- [nacos-grpc-client-executor-11] com.alibaba.nacos.common.remote.client   : [33558ab0-4375-4249-beb7-f273c6c63ce3] Ack server push request, request = NotifySubscriberRequest, requestId = 9
15:10:39:901  INFO 134480 --- [main] com.jndx.trade.TradeApplication          : Started TradeApplication in 5.699 seconds (JVM running for 6.213)
17:41:23:464  WARN 134480 --- [Thread-7] c.a.n.common.http.HttpClientBeanHolder   : [HttpClientBeanHolder] Start destroying common HttpClient
17:41:23:464  WARN 134480 --- [Thread-4] c.a.nacos.common.notify.NotifyCenter     : [NotifyCenter] Start destroying Publisher
17:41:23:491  WARN 134480 --- [Thread-4] c.a.nacos.common.notify.NotifyCenter     : [NotifyCenter] Destruction of the end
17:41:23:517  WARN 134480 --- [Thread-7] c.a.n.common.http.HttpClientBeanHolder   : [HttpClientBeanHolder] Destruction of the end
17:41:23:898  INFO 134480 --- [SpringApplicationShutdownHook] c.a.c.n.registry.NacosServiceRegistry    : De-registering from Nacos Server now...
17:41:23:906  INFO 134480 --- [SpringApplicationShutdownHook] c.a.c.n.registry.NacosServiceRegistry    : De-registration finished.
17:41:24:213  INFO 134480 --- [SpringApplicationShutdownHook] com.alibaba.nacos.common.remote.client   : Shutdown rpc client, set status to shutdown
17:41:24:214  INFO 134480 --- [SpringApplicationShutdownHook] com.alibaba.nacos.common.remote.client   : Shutdown client event executor java.util.concurrent.ScheduledThreadPoolExecutor@1e85254d[Running, pool size = 2, active threads = 2, queued tasks = 0, completed tasks = 0]
17:41:24:215  INFO 134480 --- [SpringApplicationShutdownHook] com.alibaba.nacos.common.remote.client   : Close current connection 1720077039673_192.168.10.5_13746
17:41:24:221  INFO 134480 --- [nacos-grpc-client-executor-1907] c.a.n.c.remote.client.grpc.GrpcClient    : [1720077039673_192.168.10.5_13746]Ignore complete event,isRunning:false,isAbandon=false
17:41:24:250  INFO 134480 --- [SpringApplicationShutdownHook] c.a.n.c.remote.client.grpc.GrpcClient    : Shutdown grpc executor java.util.concurrent.ThreadPoolExecutor@31ce969e[Running, pool size = 5, active threads = 0, queued tasks = 0, completed tasks = 1908]
17:41:31:315  INFO 148776 --- [main] com.jndx.trade.TradeApplication          : Starting TradeApplication using Java 17.0.11 on DESKTOP-IJRS560 with PID 148776 (D:\BaiduNetdiskDownload\spring_cloud\day02-Docker\资料\hmall\trade-service\target\classes started by gosling in D:\BaiduNetdiskDownload\spring_cloud\day02-Docker\资料\hmall)
17:41:31:317 DEBUG 148776 --- [main] com.jndx.trade.TradeApplication          : Running with Spring Boot v2.7.12, Spring v5.3.27
17:41:31:318  INFO 148776 --- [main] com.jndx.trade.TradeApplication          : The following 1 profile is active: "local"
17:41:32:077  INFO 148776 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=46787a88-83a1-3bc5-a31a-3618d40b6861
17:41:32:443  INFO 148776 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8084 (http)
17:41:32:444  INFO 148776 --- [main] o.a.catalina.core.AprLifecycleListener   : Loaded Apache Tomcat Native library [1.2.39] using APR version [1.7.4].
17:41:32:444  INFO 148776 --- [main] o.a.catalina.core.AprLifecycleListener   : APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true], UDS [true].
17:41:32:444  INFO 148776 --- [main] o.a.catalina.core.AprLifecycleListener   : APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]
17:41:32:451  INFO 148776 --- [main] o.a.catalina.core.AprLifecycleListener   : OpenSSL successfully initialized [OpenSSL 3.0.11 19 Sep 2023]
17:41:32:459  INFO 148776 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
17:41:32:459  INFO 148776 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.75]
17:41:32:571  INFO 148776 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
17:41:32:572  INFO 148776 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1219 ms
17:41:32:718  INFO 148776 --- [main] o.s.c.openfeign.FeignClientFactoryBean   : For 'item-service' URL not provided. Will try picking an instance via load-balancing.
17:41:33:100  INFO 148776 --- [main] o.s.c.openfeign.FeignClientFactoryBean   : For 'cart-service' URL not provided. Will try picking an instance via load-balancing.
17:41:33:971  INFO 148776 --- [main] pertySourcedRequestMappingHandlerMapping : Mapped URL path [/v2/api-docs] onto method [springfox.documentation.swagger2.web.Swagger2ControllerWebMvc#getDocumentation(String, HttpServletRequest)]
17:41:34:730  INFO 148776 --- [main] com.alibaba.nacos.common.remote.client   : [RpcClientFactory] create a new rpc client of 109e18b2-e652-419d-9101-00b030be930a
17:41:34:783  INFO 148776 --- [main] org.reflections.Reflections              : Reflections took 22 ms to scan 1 urls, producing 3 keys and 6 values 
17:41:34:802  INFO 148776 --- [main] org.reflections.Reflections              : Reflections took 6 ms to scan 1 urls, producing 4 keys and 9 values 
17:41:34:809  INFO 148776 --- [main] org.reflections.Reflections              : Reflections took 5 ms to scan 1 urls, producing 3 keys and 10 values 
17:41:34:810  WARN 148776 --- [main] org.reflections.Reflections              : given scan urls are empty. set urls in the configuration
17:41:34:818  INFO 148776 --- [main] org.reflections.Reflections              : Reflections took 7 ms to scan 1 urls, producing 1 keys and 5 values 
17:41:34:824  INFO 148776 --- [main] org.reflections.Reflections              : Reflections took 5 ms to scan 1 urls, producing 1 keys and 7 values 
17:41:34:830  INFO 148776 --- [main] org.reflections.Reflections              : Reflections took 4 ms to scan 1 urls, producing 2 keys and 8 values 
17:41:34:832  WARN 148776 --- [main] org.reflections.Reflections              : given scan urls are empty. set urls in the configuration
17:41:34:832  INFO 148776 --- [main] com.alibaba.nacos.common.remote.client   : [109e18b2-e652-419d-9101-00b030be930a] RpcClient init label, labels = {module=naming, source=sdk}
17:41:34:834  INFO 148776 --- [main] com.alibaba.nacos.common.remote.client   : [109e18b2-e652-419d-9101-00b030be930a] RpcClient init, ServerListFactory = com.alibaba.nacos.client.naming.core.ServerListManager
17:41:34:834  INFO 148776 --- [main] com.alibaba.nacos.common.remote.client   : [109e18b2-e652-419d-9101-00b030be930a] Registry connection listener to current client:com.alibaba.nacos.client.naming.remote.gprc.redo.NamingGrpcRedoService
17:41:34:834  INFO 148776 --- [main] com.alibaba.nacos.common.remote.client   : [109e18b2-e652-419d-9101-00b030be930a] Register server push request handler:com.alibaba.nacos.client.naming.remote.gprc.NamingPushRequestHandler
17:41:34:835  INFO 148776 --- [main] com.alibaba.nacos.common.remote.client   : [109e18b2-e652-419d-9101-00b030be930a] Try to connect to server on start up, server: {serverIp = '192.168.10.3', server main port = 8848}
17:41:36:202  INFO 148776 --- [main] com.alibaba.nacos.common.remote.client   : [109e18b2-e652-419d-9101-00b030be930a] Success to connect to server [192.168.10.3:8848] on start up, connectionId = 1720086096635_192.168.10.5_5529
17:41:36:202  INFO 148776 --- [com.alibaba.nacos.client.remote.worker] com.alibaba.nacos.common.remote.client   : [109e18b2-e652-419d-9101-00b030be930a] Notify connected event to listeners.
17:41:36:202  INFO 148776 --- [main] com.alibaba.nacos.common.remote.client   : [109e18b2-e652-419d-9101-00b030be930a] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$ConnectResetRequestHandler
17:41:36:203  INFO 148776 --- [main] com.alibaba.nacos.common.remote.client   : [109e18b2-e652-419d-9101-00b030be930a] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$$Lambda$984/0x0000018a90791ed8
17:41:36:238  INFO 148776 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8084 (http) with context path ''
17:41:36:244  INFO 148776 --- [main] c.a.c.n.registry.NacosServiceRegistry    : nacos registry, DEFAULT_GROUP trade-service 192.168.0.101:8084 register finished
17:41:36:725  INFO 148776 --- [main] d.s.w.p.DocumentationPluginsBootstrapper : Documentation plugins bootstrapped
17:41:36:728  INFO 148776 --- [main] d.s.w.p.DocumentationPluginsBootstrapper : Found 1 custom documentation plugin(s)
17:41:36:744  INFO 148776 --- [main] s.d.s.w.s.ApiListingReferenceScanner     : Scanning for api listing references
17:41:36:812  INFO 148776 --- [main] com.jndx.trade.TradeApplication          : Started TradeApplication in 6.391 seconds (JVM running for 7.087)
17:41:36:817  INFO 148776 --- [nacos-grpc-client-executor-9] com.alibaba.nacos.common.remote.client   : [109e18b2-e652-419d-9101-00b030be930a] Receive server push request, request = NotifySubscriberRequest, requestId = 43
17:41:36:819  INFO 148776 --- [nacos-grpc-client-executor-9] com.alibaba.nacos.common.remote.client   : [109e18b2-e652-419d-9101-00b030be930a] Ack server push request, request = NotifySubscriberRequest, requestId = 43
17:41:55:004  INFO 148776 --- [http-nio-8084-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
17:41:55:004  INFO 148776 --- [http-nio-8084-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
17:41:55:005  INFO 148776 --- [http-nio-8084-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
17:41:55:042  INFO 148776 --- [http-nio-8084-exec-1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
17:41:55:291  INFO 148776 --- [http-nio-8084-exec-1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
17:41:55:303 DEBUG 148776 --- [http-nio-8084-exec-1] com.jndx.api.client.ItemClient           : [ItemClient#queryItemByIds] ---> GET http://item-service/items?ids=1334962 HTTP/1.1
17:41:55:304 DEBUG 148776 --- [http-nio-8084-exec-1] com.jndx.api.client.ItemClient           : [ItemClient#queryItemByIds] user-info: 1
17:41:55:304 DEBUG 148776 --- [http-nio-8084-exec-1] com.jndx.api.client.ItemClient           : [ItemClient#queryItemByIds] ---> END HTTP (0-byte body)
17:41:55:387 DEBUG 148776 --- [http-nio-8084-exec-1] com.jndx.api.client.ItemClient           : [ItemClient#queryItemByIds] <--- HTTP/1.1 200 (83ms)
17:41:55:387 DEBUG 148776 --- [http-nio-8084-exec-1] com.jndx.api.client.ItemClient           : [ItemClient#queryItemByIds] connection: keep-alive
17:41:55:387 DEBUG 148776 --- [http-nio-8084-exec-1] com.jndx.api.client.ItemClient           : [ItemClient#queryItemByIds] content-type: application/json
17:41:55:387 DEBUG 148776 --- [http-nio-8084-exec-1] com.jndx.api.client.ItemClient           : [ItemClient#queryItemByIds] date: Thu, 04 Jul 2024 09:41:55 GMT
17:41:55:387 DEBUG 148776 --- [http-nio-8084-exec-1] com.jndx.api.client.ItemClient           : [ItemClient#queryItemByIds] keep-alive: timeout=60
17:41:55:387 DEBUG 148776 --- [http-nio-8084-exec-1] com.jndx.api.client.ItemClient           : [ItemClient#queryItemByIds] transfer-encoding: chunked
17:41:55:388 DEBUG 148776 --- [http-nio-8084-exec-1] com.jndx.api.client.ItemClient           : [ItemClient#queryItemByIds] 
17:41:55:388 DEBUG 148776 --- [http-nio-8084-exec-1] com.jndx.api.client.ItemClient           : [ItemClient#queryItemByIds] [{"id":"1334962","name":"美旅拉杆箱 男女商务静音飞机轮行李箱大容量可扩展 24英寸密码箱海关锁旅行箱79B蓝色","price":64800,"stock":10000,"image":"https://m.360buyimg.com/mobilecms/s720x720_jfs/t3088/283/1613041457/190407/e33fc70d/57d0c321Nad4b3340.jpg!q70.jpg.webp","category":"拉杆箱","brand":"美旅箱包","spec":"{\"颜色\": \"蓝色\", \"尺寸\": \"24英寸\"}","sold":0,"commentCount":0,"isAD":false,"status":1}]
17:41:55:388 DEBUG 148776 --- [http-nio-8084-exec-1] com.jndx.api.client.ItemClient           : [ItemClient#queryItemByIds] <--- END HTTP (456-byte body)
17:41:55:425 DEBUG 148776 --- [http-nio-8084-exec-1] c.jndx.trade.mapper.OrderMapper.insert   : ==>  Preparing: INSERT INTO `order` ( id, total_fee, payment_type, user_id, status ) VALUES ( ?, ?, ?, ?, ? )
17:41:55:445 DEBUG 148776 --- [http-nio-8084-exec-1] c.jndx.trade.mapper.OrderMapper.insert   : ==> Parameters: 1808798384701173761(Long), 64800(Integer), 3(Integer), 1(Long), 1(Integer)
17:41:55:448 DEBUG 148776 --- [http-nio-8084-exec-1] c.jndx.trade.mapper.OrderMapper.insert   : <==    Updates: 1
17:41:55:455 DEBUG 148776 --- [http-nio-8084-exec-1] c.j.t.mapper.OrderDetailMapper.insert    : ==>  Preparing: INSERT INTO order_detail ( order_id, item_id, num, name, spec, price, image ) VALUES ( ?, ?, ?, ?, ?, ?, ? )
17:41:55:456 DEBUG 148776 --- [http-nio-8084-exec-1] c.j.t.mapper.OrderDetailMapper.insert    : ==> Parameters: 1808798384701173761(Long), 1334962(Long), 1(Integer), 美旅拉杆箱 男女商务静音飞机轮行李箱大容量可扩展 24英寸密码箱海关锁旅行箱79B蓝色(String), {"颜色": "蓝色", "尺寸": "24英寸"}(String), 64800(Integer), https://m.360buyimg.com/mobilecms/s720x720_jfs/t3088/283/1613041457/190407/e33fc70d/57d0c321Nad4b3340.jpg!q70.jpg.webp(String)
17:41:55:470 DEBUG 148776 --- [http-nio-8084-exec-1] com.jndx.api.client.CartClient           : [CartClient#removeByItemIds] ---> DELETE http://cart-service/carts?ids=1334962 HTTP/1.1
17:41:55:470 DEBUG 148776 --- [http-nio-8084-exec-1] com.jndx.api.client.CartClient           : [CartClient#removeByItemIds] user-info: 1
17:41:55:470 DEBUG 148776 --- [http-nio-8084-exec-1] com.jndx.api.client.CartClient           : [CartClient#removeByItemIds] ---> END HTTP (0-byte body)
17:41:55:557 DEBUG 148776 --- [http-nio-8084-exec-1] com.jndx.api.client.CartClient           : [CartClient#removeByItemIds] <--- HTTP/1.1 200 (87ms)
17:41:55:557 DEBUG 148776 --- [http-nio-8084-exec-1] com.jndx.api.client.CartClient           : [CartClient#removeByItemIds] connection: keep-alive
17:41:55:558 DEBUG 148776 --- [http-nio-8084-exec-1] com.jndx.api.client.CartClient           : [CartClient#removeByItemIds] content-length: 0
17:41:55:558 DEBUG 148776 --- [http-nio-8084-exec-1] com.jndx.api.client.CartClient           : [CartClient#removeByItemIds] date: Thu, 04 Jul 2024 09:41:55 GMT
17:41:55:558 DEBUG 148776 --- [http-nio-8084-exec-1] com.jndx.api.client.CartClient           : [CartClient#removeByItemIds] keep-alive: timeout=60
17:41:55:558 DEBUG 148776 --- [http-nio-8084-exec-1] com.jndx.api.client.CartClient           : [CartClient#removeByItemIds] 
17:41:55:558 DEBUG 148776 --- [http-nio-8084-exec-1] com.jndx.api.client.CartClient           : [CartClient#removeByItemIds] <--- END HTTP (0-byte body)
17:41:55:565 DEBUG 148776 --- [http-nio-8084-exec-1] com.jndx.api.client.ItemClient           : [ItemClient#deductStock] ---> PUT http://item-service/items/stock/deduct HTTP/1.1
17:41:55:565 DEBUG 148776 --- [http-nio-8084-exec-1] com.jndx.api.client.ItemClient           : [ItemClient#deductStock] Content-Length: 28
17:41:55:565 DEBUG 148776 --- [http-nio-8084-exec-1] com.jndx.api.client.ItemClient           : [ItemClient#deductStock] Content-Type: application/json
17:41:55:566 DEBUG 148776 --- [http-nio-8084-exec-1] com.jndx.api.client.ItemClient           : [ItemClient#deductStock] user-info: 1
17:41:55:566 DEBUG 148776 --- [http-nio-8084-exec-1] com.jndx.api.client.ItemClient           : [ItemClient#deductStock] 
17:41:55:566 DEBUG 148776 --- [http-nio-8084-exec-1] com.jndx.api.client.ItemClient           : [ItemClient#deductStock] [{"itemId":1334962,"num":1}]
17:41:55:566 DEBUG 148776 --- [http-nio-8084-exec-1] com.jndx.api.client.ItemClient           : [ItemClient#deductStock] ---> END HTTP (28-byte body)
17:41:55:862  INFO 148776 --- [nacos-grpc-client-executor-17] com.alibaba.nacos.common.remote.client   : [109e18b2-e652-419d-9101-00b030be930a] Receive server push request, request = NotifySubscriberRequest, requestId = 45
17:41:55:863  INFO 148776 --- [nacos-grpc-client-executor-17] com.alibaba.nacos.common.remote.client   : [109e18b2-e652-419d-9101-00b030be930a] Ack server push request, request = NotifySubscriberRequest, requestId = 45
17:41:56:063  INFO 148776 --- [nacos-grpc-client-executor-18] com.alibaba.nacos.common.remote.client   : [109e18b2-e652-419d-9101-00b030be930a] Receive server push request, request = NotifySubscriberRequest, requestId = 46
17:41:56:063  INFO 148776 --- [nacos-grpc-client-executor-18] com.alibaba.nacos.common.remote.client   : [109e18b2-e652-419d-9101-00b030be930a] Ack server push request, request = NotifySubscriberRequest, requestId = 46
17:41:56:275 DEBUG 148776 --- [http-nio-8084-exec-1] com.jndx.api.client.ItemClient           : [ItemClient#deductStock] <--- HTTP/1.1 500 (709ms)
17:41:56:275 DEBUG 148776 --- [http-nio-8084-exec-1] com.jndx.api.client.ItemClient           : [ItemClient#deductStock] connection: close
17:41:56:275 DEBUG 148776 --- [http-nio-8084-exec-1] com.jndx.api.client.ItemClient           : [ItemClient#deductStock] content-type: application/json
17:41:56:275 DEBUG 148776 --- [http-nio-8084-exec-1] com.jndx.api.client.ItemClient           : [ItemClient#deductStock] date: Thu, 04 Jul 2024 09:41:55 GMT
17:41:56:275 DEBUG 148776 --- [http-nio-8084-exec-1] com.jndx.api.client.ItemClient           : [ItemClient#deductStock] transfer-encoding: chunked
17:41:56:275 DEBUG 148776 --- [http-nio-8084-exec-1] com.jndx.api.client.ItemClient           : [ItemClient#deductStock] 
17:41:56:275 DEBUG 148776 --- [http-nio-8084-exec-1] com.jndx.api.client.ItemClient           : [ItemClient#deductStock] {"timestamp":"2024-07-04T09:41:56.253+00:00","status":500,"error":"Internal Server Error","path":"/items/stock/deduct"}
17:41:56:275 DEBUG 148776 --- [http-nio-8084-exec-1] com.jndx.api.client.ItemClient           : [ItemClient#deductStock] <--- END HTTP (119-byte body)
17:41:56:289 ERROR 148776 --- [http-nio-8084-exec-1] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.RuntimeException: 库存不足！] with root cause

java.lang.RuntimeException: 库存不足！
	at com.jndx.trade.service.impl.OrderServiceImpl.createOrder(OrderServiceImpl.java:88) ~[classes/:na]
	at com.jndx.trade.service.impl.OrderServiceImpl$$FastClassBySpringCGLIB$$681a9ea9.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.27.jar:5.3.27]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.27.jar:5.3.27]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708) ~[spring-aop-5.3.27.jar:5.3.27]
	at com.jndx.trade.service.impl.OrderServiceImpl$$EnhancerBySpringCGLIB$$992b8f17.createOrder(<generated>) ~[classes/:na]
	at com.jndx.trade.controller.OrderController.createOrder(OrderController.java:31) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:555) ~[tomcat-embed-core-9.0.75.jar:4.0.FR]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623) ~[tomcat-embed-core-9.0.75.jar:4.0.FR]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.27.jar:5.3.27]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.27.jar:5.3.27]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.27.jar:5.3.27]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at java.base/java.lang.Thread.run(Thread.java:842) ~[na:na]

17:44:00:425 DEBUG 148776 --- [http-nio-8084-exec-2] com.jndx.api.client.ItemClient           : [ItemClient#queryItemByIds] ---> GET http://item-service/items?ids=100001511821 HTTP/1.1
17:44:00:426 DEBUG 148776 --- [http-nio-8084-exec-2] com.jndx.api.client.ItemClient           : [ItemClient#queryItemByIds] user-info: 1
17:44:00:426 DEBUG 148776 --- [http-nio-8084-exec-2] com.jndx.api.client.ItemClient           : [ItemClient#queryItemByIds] ---> END HTTP (0-byte body)
17:44:00:434 DEBUG 148776 --- [http-nio-8084-exec-2] com.jndx.api.client.ItemClient           : [ItemClient#queryItemByIds] <--- HTTP/1.1 200 (7ms)
17:44:00:434 DEBUG 148776 --- [http-nio-8084-exec-2] com.jndx.api.client.ItemClient           : [ItemClient#queryItemByIds] connection: keep-alive
17:44:00:434 DEBUG 148776 --- [http-nio-8084-exec-2] com.jndx.api.client.ItemClient           : [ItemClient#queryItemByIds] content-type: application/json
17:44:00:434 DEBUG 148776 --- [http-nio-8084-exec-2] com.jndx.api.client.ItemClient           : [ItemClient#queryItemByIds] date: Thu, 04 Jul 2024 09:44:00 GMT
17:44:00:434 DEBUG 148776 --- [http-nio-8084-exec-2] com.jndx.api.client.ItemClient           : [ItemClient#queryItemByIds] keep-alive: timeout=60
17:44:00:434 DEBUG 148776 --- [http-nio-8084-exec-2] com.jndx.api.client.ItemClient           : [ItemClient#queryItemByIds] transfer-encoding: chunked
17:44:00:434 DEBUG 148776 --- [http-nio-8084-exec-2] com.jndx.api.client.ItemClient           : [ItemClient#queryItemByIds] 
17:44:00:434 DEBUG 148776 --- [http-nio-8084-exec-2] com.jndx.api.client.ItemClient           : [ItemClient#queryItemByIds] [{"id":"100001511821","name":"HMDIME 牛仔背带裤女2018秋冬新品 韩版学院风潮流百搭弹力修身补丁学生吊带长裤女 AXNZ369 深蓝 30","price":13700,"stock":10000,"image":"https://m.360buyimg.com/mobilecms/s720x720_jfs/t30892/263/313055374/557791/c98e9abc/5bef811aN036f7c3b.jpg!q70.jpg.webp","category":"牛仔裤","brand":"HMDIME","spec":"{\"颜色\": \"蓝色\", \"尺码\": \"30\"}","sold":0,"commentCount":0,"isAD":false,"status":1}]
17:44:00:434 DEBUG 148776 --- [http-nio-8084-exec-2] com.jndx.api.client.ItemClient           : [ItemClient#queryItemByIds] <--- END HTTP (460-byte body)
17:44:00:435 DEBUG 148776 --- [http-nio-8084-exec-2] c.jndx.trade.mapper.OrderMapper.insert   : ==>  Preparing: INSERT INTO `order` ( id, total_fee, payment_type, user_id, status ) VALUES ( ?, ?, ?, ?, ? )
17:44:00:436 DEBUG 148776 --- [http-nio-8084-exec-2] c.jndx.trade.mapper.OrderMapper.insert   : ==> Parameters: 1808798909060476930(Long), 13700(Integer), 3(Integer), 1(Long), 1(Integer)
17:44:00:438 DEBUG 148776 --- [http-nio-8084-exec-2] c.jndx.trade.mapper.OrderMapper.insert   : <==    Updates: 1
17:44:00:438 DEBUG 148776 --- [http-nio-8084-exec-2] c.j.t.mapper.OrderDetailMapper.insert    : ==>  Preparing: INSERT INTO order_detail ( order_id, item_id, num, name, spec, price, image ) VALUES ( ?, ?, ?, ?, ?, ?, ? )
17:44:00:439 DEBUG 148776 --- [http-nio-8084-exec-2] c.j.t.mapper.OrderDetailMapper.insert    : ==> Parameters: 1808798909060476930(Long), 100001511821(Long), 1(Integer), HMDIME 牛仔背带裤女2018秋冬新品 韩版学院风潮流百搭弹力修身补丁学生吊带长裤女 AXNZ369 深蓝 30(String), {"颜色": "蓝色", "尺码": "30"}(String), 13700(Integer), https://m.360buyimg.com/mobilecms/s720x720_jfs/t30892/263/313055374/557791/c98e9abc/5bef811aN036f7c3b.jpg!q70.jpg.webp(String)
17:44:00:440 DEBUG 148776 --- [http-nio-8084-exec-2] com.jndx.api.client.CartClient           : [CartClient#removeByItemIds] ---> DELETE http://cart-service/carts?ids=100001511821 HTTP/1.1
17:44:00:440 DEBUG 148776 --- [http-nio-8084-exec-2] com.jndx.api.client.CartClient           : [CartClient#removeByItemIds] user-info: 1
17:44:00:440 DEBUG 148776 --- [http-nio-8084-exec-2] com.jndx.api.client.CartClient           : [CartClient#removeByItemIds] ---> END HTTP (0-byte body)
17:44:00:450 DEBUG 148776 --- [http-nio-8084-exec-2] com.jndx.api.client.CartClient           : [CartClient#removeByItemIds] <--- HTTP/1.1 200 (9ms)
17:44:00:450 DEBUG 148776 --- [http-nio-8084-exec-2] com.jndx.api.client.CartClient           : [CartClient#removeByItemIds] connection: keep-alive
17:44:00:450 DEBUG 148776 --- [http-nio-8084-exec-2] com.jndx.api.client.CartClient           : [CartClient#removeByItemIds] content-length: 0
17:44:00:450 DEBUG 148776 --- [http-nio-8084-exec-2] com.jndx.api.client.CartClient           : [CartClient#removeByItemIds] date: Thu, 04 Jul 2024 09:44:00 GMT
17:44:00:450 DEBUG 148776 --- [http-nio-8084-exec-2] com.jndx.api.client.CartClient           : [CartClient#removeByItemIds] keep-alive: timeout=60
17:44:00:450 DEBUG 148776 --- [http-nio-8084-exec-2] com.jndx.api.client.CartClient           : [CartClient#removeByItemIds] 
17:44:00:450 DEBUG 148776 --- [http-nio-8084-exec-2] com.jndx.api.client.CartClient           : [CartClient#removeByItemIds] <--- END HTTP (0-byte body)
17:44:00:451 DEBUG 148776 --- [http-nio-8084-exec-2] com.jndx.api.client.ItemClient           : [ItemClient#deductStock] ---> PUT http://item-service/items/stock/deduct HTTP/1.1
17:44:00:451 DEBUG 148776 --- [http-nio-8084-exec-2] com.jndx.api.client.ItemClient           : [ItemClient#deductStock] Content-Length: 33
17:44:00:451 DEBUG 148776 --- [http-nio-8084-exec-2] com.jndx.api.client.ItemClient           : [ItemClient#deductStock] Content-Type: application/json
17:44:00:451 DEBUG 148776 --- [http-nio-8084-exec-2] com.jndx.api.client.ItemClient           : [ItemClient#deductStock] user-info: 1
17:44:00:451 DEBUG 148776 --- [http-nio-8084-exec-2] com.jndx.api.client.ItemClient           : [ItemClient#deductStock] 
17:44:00:451 DEBUG 148776 --- [http-nio-8084-exec-2] com.jndx.api.client.ItemClient           : [ItemClient#deductStock] [{"itemId":100001511821,"num":1}]
17:44:00:451 DEBUG 148776 --- [http-nio-8084-exec-2] com.jndx.api.client.ItemClient           : [ItemClient#deductStock] ---> END HTTP (33-byte body)
17:44:00:459 DEBUG 148776 --- [http-nio-8084-exec-2] com.jndx.api.client.ItemClient           : [ItemClient#deductStock] <--- HTTP/1.1 500 (7ms)
17:44:00:459 DEBUG 148776 --- [http-nio-8084-exec-2] com.jndx.api.client.ItemClient           : [ItemClient#deductStock] connection: close
17:44:00:459 DEBUG 148776 --- [http-nio-8084-exec-2] com.jndx.api.client.ItemClient           : [ItemClient#deductStock] content-type: application/json
17:44:00:459 DEBUG 148776 --- [http-nio-8084-exec-2] com.jndx.api.client.ItemClient           : [ItemClient#deductStock] date: Thu, 04 Jul 2024 09:44:00 GMT
17:44:00:459 DEBUG 148776 --- [http-nio-8084-exec-2] com.jndx.api.client.ItemClient           : [ItemClient#deductStock] transfer-encoding: chunked
17:44:00:459 DEBUG 148776 --- [http-nio-8084-exec-2] com.jndx.api.client.ItemClient           : [ItemClient#deductStock] 
17:44:00:459 DEBUG 148776 --- [http-nio-8084-exec-2] com.jndx.api.client.ItemClient           : [ItemClient#deductStock] {"timestamp":"2024-07-04T09:44:00.458+00:00","status":500,"error":"Internal Server Error","path":"/items/stock/deduct"}
17:44:00:459 DEBUG 148776 --- [http-nio-8084-exec-2] com.jndx.api.client.ItemClient           : [ItemClient#deductStock] <--- END HTTP (119-byte body)
17:44:00:462 ERROR 148776 --- [http-nio-8084-exec-2] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.RuntimeException: 库存不足！] with root cause

java.lang.RuntimeException: 库存不足！
	at com.jndx.trade.service.impl.OrderServiceImpl.createOrder(OrderServiceImpl.java:88) ~[classes/:na]
	at com.jndx.trade.service.impl.OrderServiceImpl$$FastClassBySpringCGLIB$$681a9ea9.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.27.jar:5.3.27]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.27.jar:5.3.27]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708) ~[spring-aop-5.3.27.jar:5.3.27]
	at com.jndx.trade.service.impl.OrderServiceImpl$$EnhancerBySpringCGLIB$$992b8f17.createOrder(<generated>) ~[classes/:na]
	at com.jndx.trade.controller.OrderController.createOrder(OrderController.java:31) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:555) ~[tomcat-embed-core-9.0.75.jar:4.0.FR]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623) ~[tomcat-embed-core-9.0.75.jar:4.0.FR]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.27.jar:5.3.27]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.27.jar:5.3.27]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.27.jar:5.3.27]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at java.base/java.lang.Thread.run(Thread.java:842) ~[na:na]

17:45:03:521 DEBUG 148776 --- [http-nio-8084-exec-3] com.jndx.api.client.ItemClient           : [ItemClient#queryItemByIds] ---> GET http://item-service/items?ids=40305713537 HTTP/1.1
17:45:03:521 DEBUG 148776 --- [http-nio-8084-exec-3] com.jndx.api.client.ItemClient           : [ItemClient#queryItemByIds] user-info: 1
17:45:03:521 DEBUG 148776 --- [http-nio-8084-exec-3] com.jndx.api.client.ItemClient           : [ItemClient#queryItemByIds] ---> END HTTP (0-byte body)
17:45:03:528 DEBUG 148776 --- [http-nio-8084-exec-3] com.jndx.api.client.ItemClient           : [ItemClient#queryItemByIds] <--- HTTP/1.1 200 (6ms)
17:45:03:528 DEBUG 148776 --- [http-nio-8084-exec-3] com.jndx.api.client.ItemClient           : [ItemClient#queryItemByIds] connection: keep-alive
17:45:03:528 DEBUG 148776 --- [http-nio-8084-exec-3] com.jndx.api.client.ItemClient           : [ItemClient#queryItemByIds] content-type: application/json
17:45:03:528 DEBUG 148776 --- [http-nio-8084-exec-3] com.jndx.api.client.ItemClient           : [ItemClient#queryItemByIds] date: Thu, 04 Jul 2024 09:45:03 GMT
17:45:03:529 DEBUG 148776 --- [http-nio-8084-exec-3] com.jndx.api.client.ItemClient           : [ItemClient#queryItemByIds] keep-alive: timeout=60
17:45:03:529 DEBUG 148776 --- [http-nio-8084-exec-3] com.jndx.api.client.ItemClient           : [ItemClient#queryItemByIds] transfer-encoding: chunked
17:45:03:529 DEBUG 148776 --- [http-nio-8084-exec-3] com.jndx.api.client.ItemClient           : [ItemClient#queryItemByIds] 
17:45:03:529 DEBUG 148776 --- [http-nio-8084-exec-3] com.jndx.api.client.ItemClient           : [ItemClient#queryItemByIds] [{"id":"40305713537","name":"【官方正品 品牌直营】奥古狮登小白鞋女秋季透气2018新款百搭韩版休闲鞋运动鞋女鞋厚底板鞋女 浅蓝【厚底】 41","price":35400,"stock":10000,"image":"https://m.360buyimg.com/mobilecms/s720x720_jfs/t1/14147/34/2890/275451/5c225484Ebd346404/e61513be4639ee2e.jpg!q70.jpg.webp","category":"休闲鞋","brand":"奥古狮登","spec":"{\"颜色\": \"金色\", \"尺码\": \"41\"}","sold":0,"commentCount":0,"isAD":false,"status":1}]
17:45:03:529 DEBUG 148776 --- [http-nio-8084-exec-3] com.jndx.api.client.ItemClient           : [ItemClient#queryItemByIds] <--- END HTTP (493-byte body)
17:45:03:530 DEBUG 148776 --- [http-nio-8084-exec-3] c.jndx.trade.mapper.OrderMapper.insert   : ==>  Preparing: INSERT INTO `order` ( id, total_fee, payment_type, user_id, status ) VALUES ( ?, ?, ?, ?, ? )
17:45:03:530 DEBUG 148776 --- [http-nio-8084-exec-3] c.jndx.trade.mapper.OrderMapper.insert   : ==> Parameters: 1808799173700087810(Long), 35400(Integer), 3(Integer), 1(Long), 1(Integer)
17:45:03:532 DEBUG 148776 --- [http-nio-8084-exec-3] c.jndx.trade.mapper.OrderMapper.insert   : <==    Updates: 1
17:45:03:533 DEBUG 148776 --- [http-nio-8084-exec-3] c.j.t.mapper.OrderDetailMapper.insert    : ==>  Preparing: INSERT INTO order_detail ( order_id, item_id, num, name, spec, price, image ) VALUES ( ?, ?, ?, ?, ?, ?, ? )
17:45:03:533 DEBUG 148776 --- [http-nio-8084-exec-3] c.j.t.mapper.OrderDetailMapper.insert    : ==> Parameters: 1808799173700087810(Long), 40305713537(Long), 1(Integer), 【官方正品 品牌直营】奥古狮登小白鞋女秋季透气2018新款百搭韩版休闲鞋运动鞋女鞋厚底板鞋女 浅蓝【厚底】 41(String), {"颜色": "金色", "尺码": "41"}(String), 35400(Integer), https://m.360buyimg.com/mobilecms/s720x720_jfs/t1/14147/34/2890/275451/5c225484Ebd346404/e61513be4639ee2e.jpg!q70.jpg.webp(String)
17:45:03:535 DEBUG 148776 --- [http-nio-8084-exec-3] com.jndx.api.client.CartClient           : [CartClient#removeByItemIds] ---> DELETE http://cart-service/carts?ids=40305713537 HTTP/1.1
17:45:03:535 DEBUG 148776 --- [http-nio-8084-exec-3] com.jndx.api.client.CartClient           : [CartClient#removeByItemIds] user-info: 1
17:45:03:535 DEBUG 148776 --- [http-nio-8084-exec-3] com.jndx.api.client.CartClient           : [CartClient#removeByItemIds] ---> END HTTP (0-byte body)
17:45:03:552 DEBUG 148776 --- [http-nio-8084-exec-3] com.jndx.api.client.CartClient           : [CartClient#removeByItemIds] <--- HTTP/1.1 200 (16ms)
17:45:03:552 DEBUG 148776 --- [http-nio-8084-exec-3] com.jndx.api.client.CartClient           : [CartClient#removeByItemIds] connection: keep-alive
17:45:03:552 DEBUG 148776 --- [http-nio-8084-exec-3] com.jndx.api.client.CartClient           : [CartClient#removeByItemIds] content-length: 0
17:45:03:552 DEBUG 148776 --- [http-nio-8084-exec-3] com.jndx.api.client.CartClient           : [CartClient#removeByItemIds] date: Thu, 04 Jul 2024 09:45:03 GMT
17:45:03:552 DEBUG 148776 --- [http-nio-8084-exec-3] com.jndx.api.client.CartClient           : [CartClient#removeByItemIds] keep-alive: timeout=60
17:45:03:552 DEBUG 148776 --- [http-nio-8084-exec-3] com.jndx.api.client.CartClient           : [CartClient#removeByItemIds] 
17:45:03:552 DEBUG 148776 --- [http-nio-8084-exec-3] com.jndx.api.client.CartClient           : [CartClient#removeByItemIds] <--- END HTTP (0-byte body)
17:45:03:553 DEBUG 148776 --- [http-nio-8084-exec-3] com.jndx.api.client.ItemClient           : [ItemClient#deductStock] ---> PUT http://item-service/items/stock/deduct HTTP/1.1
17:45:03:553 DEBUG 148776 --- [http-nio-8084-exec-3] com.jndx.api.client.ItemClient           : [ItemClient#deductStock] Content-Length: 32
17:45:03:553 DEBUG 148776 --- [http-nio-8084-exec-3] com.jndx.api.client.ItemClient           : [ItemClient#deductStock] Content-Type: application/json
17:45:03:553 DEBUG 148776 --- [http-nio-8084-exec-3] com.jndx.api.client.ItemClient           : [ItemClient#deductStock] user-info: 1
17:45:03:553 DEBUG 148776 --- [http-nio-8084-exec-3] com.jndx.api.client.ItemClient           : [ItemClient#deductStock] 
17:45:03:553 DEBUG 148776 --- [http-nio-8084-exec-3] com.jndx.api.client.ItemClient           : [ItemClient#deductStock] [{"itemId":40305713537,"num":1}]
17:45:03:553 DEBUG 148776 --- [http-nio-8084-exec-3] com.jndx.api.client.ItemClient           : [ItemClient#deductStock] ---> END HTTP (32-byte body)
17:45:03:561 DEBUG 148776 --- [http-nio-8084-exec-3] com.jndx.api.client.ItemClient           : [ItemClient#deductStock] <--- HTTP/1.1 500 (8ms)
17:45:03:561 DEBUG 148776 --- [http-nio-8084-exec-3] com.jndx.api.client.ItemClient           : [ItemClient#deductStock] connection: close
17:45:03:561 DEBUG 148776 --- [http-nio-8084-exec-3] com.jndx.api.client.ItemClient           : [ItemClient#deductStock] content-type: application/json
17:45:03:561 DEBUG 148776 --- [http-nio-8084-exec-3] com.jndx.api.client.ItemClient           : [ItemClient#deductStock] date: Thu, 04 Jul 2024 09:45:03 GMT
17:45:03:561 DEBUG 148776 --- [http-nio-8084-exec-3] com.jndx.api.client.ItemClient           : [ItemClient#deductStock] transfer-encoding: chunked
17:45:03:561 DEBUG 148776 --- [http-nio-8084-exec-3] com.jndx.api.client.ItemClient           : [ItemClient#deductStock] 
17:45:03:562 DEBUG 148776 --- [http-nio-8084-exec-3] com.jndx.api.client.ItemClient           : [ItemClient#deductStock] {"timestamp":"2024-07-04T09:45:03.560+00:00","status":500,"error":"Internal Server Error","path":"/items/stock/deduct"}
17:45:03:562 DEBUG 148776 --- [http-nio-8084-exec-3] com.jndx.api.client.ItemClient           : [ItemClient#deductStock] <--- END HTTP (119-byte body)
17:45:03:564 ERROR 148776 --- [http-nio-8084-exec-3] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.RuntimeException: 库存不足！] with root cause

java.lang.RuntimeException: 库存不足！
	at com.jndx.trade.service.impl.OrderServiceImpl.createOrder(OrderServiceImpl.java:88) ~[classes/:na]
	at com.jndx.trade.service.impl.OrderServiceImpl$$FastClassBySpringCGLIB$$681a9ea9.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.27.jar:5.3.27]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.27.jar:5.3.27]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708) ~[spring-aop-5.3.27.jar:5.3.27]
	at com.jndx.trade.service.impl.OrderServiceImpl$$EnhancerBySpringCGLIB$$992b8f17.createOrder(<generated>) ~[classes/:na]
	at com.jndx.trade.controller.OrderController.createOrder(OrderController.java:31) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:555) ~[tomcat-embed-core-9.0.75.jar:4.0.FR]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623) ~[tomcat-embed-core-9.0.75.jar:4.0.FR]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.27.jar:5.3.27]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.27.jar:5.3.27]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.27.jar:5.3.27]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at java.base/java.lang.Thread.run(Thread.java:842) ~[na:na]

17:46:03:811  WARN 148776 --- [Thread-4] c.a.nacos.common.notify.NotifyCenter     : [NotifyCenter] Start destroying Publisher
17:46:03:811  WARN 148776 --- [Thread-7] c.a.n.common.http.HttpClientBeanHolder   : [HttpClientBeanHolder] Start destroying common HttpClient
17:46:03:812  WARN 148776 --- [Thread-4] c.a.nacos.common.notify.NotifyCenter     : [NotifyCenter] Destruction of the end
17:46:03:815  WARN 148776 --- [Thread-7] c.a.n.common.http.HttpClientBeanHolder   : [HttpClientBeanHolder] Destruction of the end
17:46:03:914  INFO 148776 --- [SpringApplicationShutdownHook] c.a.c.n.registry.NacosServiceRegistry    : De-registering from Nacos Server now...
17:46:03:917  INFO 148776 --- [SpringApplicationShutdownHook] c.a.c.n.registry.NacosServiceRegistry    : De-registration finished.
17:46:04:231  INFO 148776 --- [SpringApplicationShutdownHook] com.alibaba.nacos.common.remote.client   : Shutdown rpc client, set status to shutdown
17:46:04:232  INFO 148776 --- [SpringApplicationShutdownHook] com.alibaba.nacos.common.remote.client   : Shutdown client event executor java.util.concurrent.ScheduledThreadPoolExecutor@2866d95f[Running, pool size = 2, active threads = 2, queued tasks = 0, completed tasks = 0]
17:46:04:232  INFO 148776 --- [SpringApplicationShutdownHook] com.alibaba.nacos.common.remote.client   : Close current connection 1720086096635_192.168.10.5_5529
17:46:04:234  INFO 148776 --- [nacos-grpc-client-executor-82] c.a.n.c.remote.client.grpc.GrpcClient    : [1720086096635_192.168.10.5_5529]Ignore complete event,isRunning:false,isAbandon=false
17:46:04:245  INFO 148776 --- [SpringApplicationShutdownHook] c.a.n.c.remote.client.grpc.GrpcClient    : Shutdown grpc executor java.util.concurrent.ThreadPoolExecutor@6a452291[Running, pool size = 7, active threads = 0, queued tasks = 0, completed tasks = 83]
17:46:04:251  INFO 148776 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
17:46:04:266  INFO 148776 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
17:46:09:074  INFO 148668 --- [main] com.jndx.trade.TradeApplication          : Starting TradeApplication using Java 17.0.11 on DESKTOP-IJRS560 with PID 148668 (D:\BaiduNetdiskDownload\spring_cloud\day02-Docker\资料\hmall\trade-service\target\classes started by gosling in D:\BaiduNetdiskDownload\spring_cloud\day02-Docker\资料\hmall)
17:46:09:076 DEBUG 148668 --- [main] com.jndx.trade.TradeApplication          : Running with Spring Boot v2.7.12, Spring v5.3.27
17:46:09:076  INFO 148668 --- [main] com.jndx.trade.TradeApplication          : The following 1 profile is active: "local"
17:46:09:849  INFO 148668 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=46787a88-83a1-3bc5-a31a-3618d40b6861
17:46:10:189  INFO 148668 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8084 (http)
17:46:10:190  INFO 148668 --- [main] o.a.catalina.core.AprLifecycleListener   : Loaded Apache Tomcat Native library [1.2.39] using APR version [1.7.4].
17:46:10:190  INFO 148668 --- [main] o.a.catalina.core.AprLifecycleListener   : APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true], UDS [true].
17:46:10:190  INFO 148668 --- [main] o.a.catalina.core.AprLifecycleListener   : APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]
17:46:10:196  INFO 148668 --- [main] o.a.catalina.core.AprLifecycleListener   : OpenSSL successfully initialized [OpenSSL 3.0.11 19 Sep 2023]
17:46:10:204  INFO 148668 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
17:46:10:204  INFO 148668 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.75]
17:46:10:314  INFO 148668 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
17:46:10:315  INFO 148668 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1201 ms
17:46:10:480  INFO 148668 --- [main] o.s.c.openfeign.FeignClientFactoryBean   : For 'item-service' URL not provided. Will try picking an instance via load-balancing.
17:46:10:882  INFO 148668 --- [main] o.s.c.openfeign.FeignClientFactoryBean   : For 'cart-service' URL not provided. Will try picking an instance via load-balancing.
17:46:11:795  INFO 148668 --- [main] pertySourcedRequestMappingHandlerMapping : Mapped URL path [/v2/api-docs] onto method [springfox.documentation.swagger2.web.Swagger2ControllerWebMvc#getDocumentation(String, HttpServletRequest)]
17:46:12:629  INFO 148668 --- [main] com.alibaba.nacos.common.remote.client   : [RpcClientFactory] create a new rpc client of a7250b7c-5802-4557-a662-08e56fecee9a
17:46:12:693  INFO 148668 --- [main] org.reflections.Reflections              : Reflections took 32 ms to scan 1 urls, producing 3 keys and 6 values 
17:46:12:716  INFO 148668 --- [main] org.reflections.Reflections              : Reflections took 8 ms to scan 1 urls, producing 4 keys and 9 values 
17:46:12:724  INFO 148668 --- [main] org.reflections.Reflections              : Reflections took 5 ms to scan 1 urls, producing 3 keys and 10 values 
17:46:12:726  WARN 148668 --- [main] org.reflections.Reflections              : given scan urls are empty. set urls in the configuration
17:46:12:733  INFO 148668 --- [main] org.reflections.Reflections              : Reflections took 6 ms to scan 1 urls, producing 1 keys and 5 values 
17:46:12:740  INFO 148668 --- [main] org.reflections.Reflections              : Reflections took 6 ms to scan 1 urls, producing 1 keys and 7 values 
17:46:12:750  INFO 148668 --- [main] org.reflections.Reflections              : Reflections took 6 ms to scan 1 urls, producing 2 keys and 8 values 
17:46:12:752  WARN 148668 --- [main] org.reflections.Reflections              : given scan urls are empty. set urls in the configuration
17:46:12:753  INFO 148668 --- [main] com.alibaba.nacos.common.remote.client   : [a7250b7c-5802-4557-a662-08e56fecee9a] RpcClient init label, labels = {module=naming, source=sdk}
17:46:12:754  INFO 148668 --- [main] com.alibaba.nacos.common.remote.client   : [a7250b7c-5802-4557-a662-08e56fecee9a] RpcClient init, ServerListFactory = com.alibaba.nacos.client.naming.core.ServerListManager
17:46:12:754  INFO 148668 --- [main] com.alibaba.nacos.common.remote.client   : [a7250b7c-5802-4557-a662-08e56fecee9a] Registry connection listener to current client:com.alibaba.nacos.client.naming.remote.gprc.redo.NamingGrpcRedoService
17:46:12:754  INFO 148668 --- [main] com.alibaba.nacos.common.remote.client   : [a7250b7c-5802-4557-a662-08e56fecee9a] Register server push request handler:com.alibaba.nacos.client.naming.remote.gprc.NamingPushRequestHandler
17:46:12:756  INFO 148668 --- [main] com.alibaba.nacos.common.remote.client   : [a7250b7c-5802-4557-a662-08e56fecee9a] Try to connect to server on start up, server: {serverIp = '192.168.10.3', server main port = 8848}
17:46:14:282  INFO 148668 --- [main] com.alibaba.nacos.common.remote.client   : [a7250b7c-5802-4557-a662-08e56fecee9a] Success to connect to server [192.168.10.3:8848] on start up, connectionId = 1720086374708_192.168.10.5_5906
17:46:14:282  INFO 148668 --- [com.alibaba.nacos.client.remote.worker] com.alibaba.nacos.common.remote.client   : [a7250b7c-5802-4557-a662-08e56fecee9a] Notify connected event to listeners.
17:46:14:283  INFO 148668 --- [main] com.alibaba.nacos.common.remote.client   : [a7250b7c-5802-4557-a662-08e56fecee9a] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$ConnectResetRequestHandler
17:46:14:283  INFO 148668 --- [main] com.alibaba.nacos.common.remote.client   : [a7250b7c-5802-4557-a662-08e56fecee9a] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$$Lambda$984/0x000002040179ab90
17:46:14:322  INFO 148668 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8084 (http) with context path ''
17:46:14:328  INFO 148668 --- [main] c.a.c.n.registry.NacosServiceRegistry    : nacos registry, DEFAULT_GROUP trade-service 192.168.0.101:8084 register finished
17:46:14:865  INFO 148668 --- [main] d.s.w.p.DocumentationPluginsBootstrapper : Documentation plugins bootstrapped
17:46:14:868  INFO 148668 --- [nacos-grpc-client-executor-9] com.alibaba.nacos.common.remote.client   : [a7250b7c-5802-4557-a662-08e56fecee9a] Receive server push request, request = NotifySubscriberRequest, requestId = 60
17:46:14:868  INFO 148668 --- [main] d.s.w.p.DocumentationPluginsBootstrapper : Found 1 custom documentation plugin(s)
17:46:14:870  INFO 148668 --- [nacos-grpc-client-executor-9] com.alibaba.nacos.common.remote.client   : [a7250b7c-5802-4557-a662-08e56fecee9a] Ack server push request, request = NotifySubscriberRequest, requestId = 60
17:46:14:886  INFO 148668 --- [main] s.d.s.w.s.ApiListingReferenceScanner     : Scanning for api listing references
17:46:14:954  INFO 148668 --- [main] com.jndx.trade.TradeApplication          : Started TradeApplication in 6.841 seconds (JVM running for 7.561)
17:46:34:363  INFO 148668 --- [http-nio-8084-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
17:46:34:363  INFO 148668 --- [http-nio-8084-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
17:46:34:364  INFO 148668 --- [http-nio-8084-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
17:46:34:415  INFO 148668 --- [http-nio-8084-exec-1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
17:46:34:706  INFO 148668 --- [http-nio-8084-exec-1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
17:46:34:721 DEBUG 148668 --- [http-nio-8084-exec-1] com.jndx.api.client.ItemClient           : [ItemClient#queryItemByIds] ---> GET http://item-service/items?ids=4242118 HTTP/1.1
17:46:34:721 DEBUG 148668 --- [http-nio-8084-exec-1] com.jndx.api.client.ItemClient           : [ItemClient#queryItemByIds] user-info: 1
17:46:34:721 DEBUG 148668 --- [http-nio-8084-exec-1] com.jndx.api.client.ItemClient           : [ItemClient#queryItemByIds] ---> END HTTP (0-byte body)
17:46:34:809 DEBUG 148668 --- [http-nio-8084-exec-1] com.jndx.api.client.ItemClient           : [ItemClient#queryItemByIds] <--- HTTP/1.1 200 (86ms)
17:46:34:809 DEBUG 148668 --- [http-nio-8084-exec-1] com.jndx.api.client.ItemClient           : [ItemClient#queryItemByIds] connection: keep-alive
17:46:34:809 DEBUG 148668 --- [http-nio-8084-exec-1] com.jndx.api.client.ItemClient           : [ItemClient#queryItemByIds] content-type: application/json
17:46:34:809 DEBUG 148668 --- [http-nio-8084-exec-1] com.jndx.api.client.ItemClient           : [ItemClient#queryItemByIds] date: Thu, 04 Jul 2024 09:46:34 GMT
17:46:34:809 DEBUG 148668 --- [http-nio-8084-exec-1] com.jndx.api.client.ItemClient           : [ItemClient#queryItemByIds] keep-alive: timeout=60
17:46:34:809 DEBUG 148668 --- [http-nio-8084-exec-1] com.jndx.api.client.ItemClient           : [ItemClient#queryItemByIds] transfer-encoding: chunked
17:46:34:809 DEBUG 148668 --- [http-nio-8084-exec-1] com.jndx.api.client.ItemClient           : [ItemClient#queryItemByIds] 
17:46:34:810 DEBUG 148668 --- [http-nio-8084-exec-1] com.jndx.api.client.ItemClient           : [ItemClient#queryItemByIds] [{"id":"4242118","name":"西部数据(WD) 日常--存储解决方案 (蓝盘1TB HDD + Green系列120G SSD固态硬盘)","price":90400,"stock":10000,"image":"https://m.360buyimg.com/mobilecms/s720x720_jfs/t3934/106/759829705/202485/264b81db/585b8abfN6e98c943.jpg!q70.jpg.webp","category":"硬盘","brand":"西部数据","spec":"{}","sold":0,"commentCount":0,"isAD":false,"status":1}]
17:46:34:810 DEBUG 148668 --- [http-nio-8084-exec-1] com.jndx.api.client.ItemClient           : [ItemClient#queryItemByIds] <--- END HTTP (382-byte body)
17:46:34:857 DEBUG 148668 --- [http-nio-8084-exec-1] c.jndx.trade.mapper.OrderMapper.insert   : ==>  Preparing: INSERT INTO `order` ( id, total_fee, payment_type, user_id, status ) VALUES ( ?, ?, ?, ?, ? )
17:46:34:878 DEBUG 148668 --- [http-nio-8084-exec-1] c.jndx.trade.mapper.OrderMapper.insert   : ==> Parameters: 1808799556719611906(Long), 90400(Integer), 3(Integer), 1(Long), 1(Integer)
17:46:34:883 DEBUG 148668 --- [http-nio-8084-exec-1] c.jndx.trade.mapper.OrderMapper.insert   : <==    Updates: 1
17:46:34:892 DEBUG 148668 --- [http-nio-8084-exec-1] c.j.t.mapper.OrderDetailMapper.insert    : ==>  Preparing: INSERT INTO order_detail ( order_id, item_id, num, name, spec, price, image ) VALUES ( ?, ?, ?, ?, ?, ?, ? )
17:46:34:893 DEBUG 148668 --- [http-nio-8084-exec-1] c.j.t.mapper.OrderDetailMapper.insert    : ==> Parameters: 1808799556719611906(Long), 4242118(Long), 1(Integer), 西部数据(WD) 日常--存储解决方案 (蓝盘1TB HDD + Green系列120G SSD固态硬盘)(String), {}(String), 90400(Integer), https://m.360buyimg.com/mobilecms/s720x720_jfs/t3934/106/759829705/202485/264b81db/585b8abfN6e98c943.jpg!q70.jpg.webp(String)
17:46:34:907 DEBUG 148668 --- [http-nio-8084-exec-1] com.jndx.api.client.CartClient           : [CartClient#removeByItemIds] ---> DELETE http://cart-service/carts?ids=4242118 HTTP/1.1
17:46:34:907 DEBUG 148668 --- [http-nio-8084-exec-1] com.jndx.api.client.CartClient           : [CartClient#removeByItemIds] user-info: 1
17:46:34:907 DEBUG 148668 --- [http-nio-8084-exec-1] com.jndx.api.client.CartClient           : [CartClient#removeByItemIds] ---> END HTTP (0-byte body)
17:46:34:932 DEBUG 148668 --- [http-nio-8084-exec-1] com.jndx.api.client.CartClient           : [CartClient#removeByItemIds] <--- HTTP/1.1 200 (24ms)
17:46:34:932 DEBUG 148668 --- [http-nio-8084-exec-1] com.jndx.api.client.CartClient           : [CartClient#removeByItemIds] connection: keep-alive
17:46:34:932 DEBUG 148668 --- [http-nio-8084-exec-1] com.jndx.api.client.CartClient           : [CartClient#removeByItemIds] content-length: 0
17:46:34:932 DEBUG 148668 --- [http-nio-8084-exec-1] com.jndx.api.client.CartClient           : [CartClient#removeByItemIds] date: Thu, 04 Jul 2024 09:46:34 GMT
17:46:34:932 DEBUG 148668 --- [http-nio-8084-exec-1] com.jndx.api.client.CartClient           : [CartClient#removeByItemIds] keep-alive: timeout=60
17:46:34:932 DEBUG 148668 --- [http-nio-8084-exec-1] com.jndx.api.client.CartClient           : [CartClient#removeByItemIds] 
17:46:34:932 DEBUG 148668 --- [http-nio-8084-exec-1] com.jndx.api.client.CartClient           : [CartClient#removeByItemIds] <--- END HTTP (0-byte body)
17:47:43:251  WARN 148668 --- [HikariPool-1 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=1m8s444ms455µs).
17:47:43:251  INFO 148668 --- [nacos-grpc-client-executor-18] com.alibaba.nacos.common.remote.client   : [a7250b7c-5802-4557-a662-08e56fecee9a] Receive server push request, request = NotifySubscriberRequest, requestId = 61
17:47:43:252  INFO 148668 --- [nacos-grpc-client-executor-18] com.alibaba.nacos.common.remote.client   : [a7250b7c-5802-4557-a662-08e56fecee9a] Ack server push request, request = NotifySubscriberRequest, requestId = 61
17:47:43:255  INFO 148668 --- [com.alibaba.nacos.client.remote.worker] com.alibaba.nacos.common.remote.client   : [a7250b7c-5802-4557-a662-08e56fecee9a] Server healthy check fail, currentConnection = 1720086374708_192.168.10.5_5906
17:47:43:255 ERROR 148668 --- [com.alibaba.nacos.client.naming.updater.1] com.alibaba.nacos.common.remote.client   : Send request fail, request = ServiceQueryRequest{headers={}, requestId='null'}, retryTimes = 0, errorMessage = java.util.concurrent.TimeoutException: Waited 3000 milliseconds (plus 38052 milliseconds, 343200 nanoseconds delay) for com.alibaba.nacos.shaded.io.grpc.stub.ClientCalls$GrpcFuture@4e4f3c58[status=PENDING, info=[GrpcFuture{clientCall={delegate={delegate=ClientCallImpl{method=MethodDescriptor{fullMethodName=Request/request, type=UNARY, idempotent=false, safe=false, sampledToLocalTracing=true, requestMarshaller=com.alibaba.nacos.shaded.io.grpc.protobuf.lite.ProtoLiteUtils$MessageMarshaller@4a70a149, responseMarshaller=com.alibaba.nacos.shaded.io.grpc.protobuf.lite.ProtoLiteUtils$MessageMarshaller@f723663, schemaDescriptor=com.alibaba.nacos.api.grpc.auto.RequestGrpc$RequestMethodDescriptorSupplier@9adfcb6}}}}}]]
17:47:43:255 ERROR 148668 --- [com.alibaba.nacos.client.naming.updater.0] com.alibaba.nacos.common.remote.client   : Send request fail, request = ServiceQueryRequest{headers={}, requestId='null'}, retryTimes = 0, errorMessage = java.util.concurrent.TimeoutException: Waited 3000 milliseconds (plus 38052 milliseconds, 855900 nanoseconds delay) for com.alibaba.nacos.shaded.io.grpc.stub.ClientCalls$GrpcFuture@752b3f6[status=PENDING, info=[GrpcFuture{clientCall={delegate={delegate=ClientCallImpl{method=MethodDescriptor{fullMethodName=Request/request, type=UNARY, idempotent=false, safe=false, sampledToLocalTracing=true, requestMarshaller=com.alibaba.nacos.shaded.io.grpc.protobuf.lite.ProtoLiteUtils$MessageMarshaller@4a70a149, responseMarshaller=com.alibaba.nacos.shaded.io.grpc.protobuf.lite.ProtoLiteUtils$MessageMarshaller@f723663, schemaDescriptor=com.alibaba.nacos.api.grpc.auto.RequestGrpc$RequestMethodDescriptorSupplier@9adfcb6}}}}}]]
17:47:43:256  INFO 148668 --- [com.alibaba.nacos.client.remote.worker] com.alibaba.nacos.common.remote.client   : [a7250b7c-5802-4557-a662-08e56fecee9a] Try to reconnect to a new server, server is  not appointed, will choose a random server.
17:47:43:259 ERROR 148668 --- [com.alibaba.nacos.client.naming.updater.2] com.alibaba.nacos.common.remote.client   : Send request fail, request = ServiceQueryRequest{headers={}, requestId='null'}, retryTimes = 0, errorMessage = java.util.concurrent.ExecutionException: com.alibaba.nacos.shaded.io.grpc.StatusRuntimeException: UNAVAILABLE: HTTP/2 error code: NO_ERROR
Received Goaway
app_requested
17:47:43:261  INFO 148668 --- [nacos-grpc-client-executor-23] com.alibaba.nacos.common.remote.client   : [a7250b7c-5802-4557-a662-08e56fecee9a] Receive server push request, request = NotifySubscriberRequest, requestId = 62
17:47:43:261  INFO 148668 --- [nacos-grpc-client-executor-23] com.alibaba.nacos.common.remote.client   : [a7250b7c-5802-4557-a662-08e56fecee9a] Ack server push request, request = NotifySubscriberRequest, requestId = 62
17:47:43:269  INFO 148668 --- [nacos-grpc-client-executor-25] com.alibaba.nacos.common.remote.client   : [a7250b7c-5802-4557-a662-08e56fecee9a] Receive server push request, request = NotifySubscriberRequest, requestId = 63
17:47:43:271  INFO 148668 --- [nacos-grpc-client-executor-25] com.alibaba.nacos.common.remote.client   : [a7250b7c-5802-4557-a662-08e56fecee9a] Ack server push request, request = NotifySubscriberRequest, requestId = 63
17:47:43:280  INFO 148668 --- [nacos-grpc-client-executor-28] com.alibaba.nacos.common.remote.client   : [a7250b7c-5802-4557-a662-08e56fecee9a] Receive server push request, request = NotifySubscriberRequest, requestId = 64
17:47:43:280  INFO 148668 --- [nacos-grpc-client-executor-28] com.alibaba.nacos.common.remote.client   : [a7250b7c-5802-4557-a662-08e56fecee9a] Ack server push request, request = NotifySubscriberRequest, requestId = 64
17:47:43:286 DEBUG 148668 --- [http-nio-8084-exec-1] com.jndx.api.client.ItemClient           : [ItemClient#deductStock] ---> PUT http://item-service/items/stock/deduct HTTP/1.1
17:47:43:286 DEBUG 148668 --- [http-nio-8084-exec-1] com.jndx.api.client.ItemClient           : [ItemClient#deductStock] Content-Length: 28
17:47:43:287 DEBUG 148668 --- [http-nio-8084-exec-1] com.jndx.api.client.ItemClient           : [ItemClient#deductStock] Content-Type: application/json
17:47:43:288 DEBUG 148668 --- [http-nio-8084-exec-1] com.jndx.api.client.ItemClient           : [ItemClient#deductStock] user-info: 1
17:47:43:288 DEBUG 148668 --- [http-nio-8084-exec-1] com.jndx.api.client.ItemClient           : [ItemClient#deductStock] 
17:47:43:289  INFO 148668 --- [nacos-grpc-client-executor-29] com.alibaba.nacos.common.remote.client   : [a7250b7c-5802-4557-a662-08e56fecee9a] Receive server push request, request = NotifySubscriberRequest, requestId = 65
17:47:43:289  INFO 148668 --- [nacos-grpc-client-executor-29] com.alibaba.nacos.common.remote.client   : [a7250b7c-5802-4557-a662-08e56fecee9a] Ack server push request, request = NotifySubscriberRequest, requestId = 65
17:47:43:289 DEBUG 148668 --- [http-nio-8084-exec-1] com.jndx.api.client.ItemClient           : [ItemClient#deductStock] [{"itemId":4242118,"num":1}]
17:47:43:290 DEBUG 148668 --- [http-nio-8084-exec-1] com.jndx.api.client.ItemClient           : [ItemClient#deductStock] ---> END HTTP (28-byte body)
17:47:43:299  INFO 148668 --- [nacos-grpc-client-executor-30] com.alibaba.nacos.common.remote.client   : [a7250b7c-5802-4557-a662-08e56fecee9a] Receive server push request, request = NotifySubscriberRequest, requestId = 66
17:47:43:300  INFO 148668 --- [nacos-grpc-client-executor-30] com.alibaba.nacos.common.remote.client   : [a7250b7c-5802-4557-a662-08e56fecee9a] Ack server push request, request = NotifySubscriberRequest, requestId = 66
17:47:43:309  INFO 148668 --- [nacos-grpc-client-executor-31] com.alibaba.nacos.common.remote.client   : [a7250b7c-5802-4557-a662-08e56fecee9a] Receive server push request, request = NotifySubscriberRequest, requestId = 67
17:47:43:309  INFO 148668 --- [nacos-grpc-client-executor-31] com.alibaba.nacos.common.remote.client   : [a7250b7c-5802-4557-a662-08e56fecee9a] Ack server push request, request = NotifySubscriberRequest, requestId = 67
17:47:43:312 DEBUG 148668 --- [http-nio-8084-exec-1] com.jndx.api.client.ItemClient           : [ItemClient#deductStock] <--- HTTP/1.1 500 (21ms)
17:47:43:312 DEBUG 148668 --- [http-nio-8084-exec-1] com.jndx.api.client.ItemClient           : [ItemClient#deductStock] connection: close
17:47:43:313 DEBUG 148668 --- [http-nio-8084-exec-1] com.jndx.api.client.ItemClient           : [ItemClient#deductStock] content-type: application/json
17:47:43:313 DEBUG 148668 --- [http-nio-8084-exec-1] com.jndx.api.client.ItemClient           : [ItemClient#deductStock] date: Thu, 04 Jul 2024 09:47:43 GMT
17:47:43:313 DEBUG 148668 --- [http-nio-8084-exec-1] com.jndx.api.client.ItemClient           : [ItemClient#deductStock] transfer-encoding: chunked
17:47:43:314 DEBUG 148668 --- [http-nio-8084-exec-1] com.jndx.api.client.ItemClient           : [ItemClient#deductStock] 
17:47:43:314 DEBUG 148668 --- [http-nio-8084-exec-1] com.jndx.api.client.ItemClient           : [ItemClient#deductStock] {"timestamp":"2024-07-04T09:47:43.308+00:00","status":500,"error":"Internal Server Error","path":"/items/stock/deduct"}
17:47:43:315 DEBUG 148668 --- [http-nio-8084-exec-1] com.jndx.api.client.ItemClient           : [ItemClient#deductStock] <--- END HTTP (119-byte body)
17:47:43:318  INFO 148668 --- [nacos-grpc-client-executor-32] com.alibaba.nacos.common.remote.client   : [a7250b7c-5802-4557-a662-08e56fecee9a] Receive server push request, request = NotifySubscriberRequest, requestId = 68
17:47:43:318  INFO 148668 --- [nacos-grpc-client-executor-32] com.alibaba.nacos.common.remote.client   : [a7250b7c-5802-4557-a662-08e56fecee9a] Ack server push request, request = NotifySubscriberRequest, requestId = 68
17:47:43:327  INFO 148668 --- [nacos-grpc-client-executor-33] com.alibaba.nacos.common.remote.client   : [a7250b7c-5802-4557-a662-08e56fecee9a] Receive server push request, request = ClientDetectionRequest, requestId = 69
17:47:43:327  INFO 148668 --- [nacos-grpc-client-executor-33] com.alibaba.nacos.common.remote.client   : [a7250b7c-5802-4557-a662-08e56fecee9a] Ack server push request, request = ClientDetectionRequest, requestId = 69
17:47:43:335  INFO 148668 --- [nacos-grpc-client-executor-33] c.a.n.c.remote.client.grpc.GrpcClient    : [1720086374708_192.168.10.5_5906]Ignore complete event,isRunning:false,isAbandon=false
17:47:43:351 ERROR 148668 --- [http-nio-8084-exec-1] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.RuntimeException: 库存不足！] with root cause

java.lang.RuntimeException: 库存不足！
	at com.jndx.trade.service.impl.OrderServiceImpl.createOrder(OrderServiceImpl.java:87) ~[classes/:na]
	at com.jndx.trade.service.impl.OrderServiceImpl$$FastClassBySpringCGLIB$$681a9ea9.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.27.jar:5.3.27]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.27.jar:5.3.27]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708) ~[spring-aop-5.3.27.jar:5.3.27]
	at com.jndx.trade.service.impl.OrderServiceImpl$$EnhancerBySpringCGLIB$$b25ce107.createOrder(<generated>) ~[classes/:na]
	at com.jndx.trade.controller.OrderController.createOrder(OrderController.java:31) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:555) ~[tomcat-embed-core-9.0.75.jar:4.0.FR]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623) ~[tomcat-embed-core-9.0.75.jar:4.0.FR]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.27.jar:5.3.27]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.27.jar:5.3.27]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.27.jar:5.3.27]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at java.base/java.lang.Thread.run(Thread.java:842) ~[na:na]

17:47:43:361 ERROR 148668 --- [com.alibaba.nacos.client.naming.updater.2] com.alibaba.nacos.common.remote.client   : Send request fail, request = ServiceQueryRequest{headers={}, requestId='null'}, retryTimes = 1, errorMessage = Client not connected, current status:UNHEALTHY
17:47:43:378  INFO 148668 --- [com.alibaba.nacos.client.remote.worker] com.alibaba.nacos.common.remote.client   : [a7250b7c-5802-4557-a662-08e56fecee9a] Success to connect a server [192.168.10.3:8848], connectionId = 1720086463878_192.168.10.5_6027
17:47:43:378  INFO 148668 --- [com.alibaba.nacos.client.remote.worker] com.alibaba.nacos.common.remote.client   : [a7250b7c-5802-4557-a662-08e56fecee9a] Abandon prev connection, server is 192.168.10.3:8848, connectionId is 1720086374708_192.168.10.5_5906
17:47:43:378  INFO 148668 --- [com.alibaba.nacos.client.remote.worker] com.alibaba.nacos.common.remote.client   : Close current connection 1720086374708_192.168.10.5_5906
17:47:43:382  INFO 148668 --- [com.alibaba.nacos.client.remote.worker] com.alibaba.nacos.common.remote.client   : [a7250b7c-5802-4557-a662-08e56fecee9a] Notify disconnected event to listeners
17:47:43:382  INFO 148668 --- [com.alibaba.nacos.client.remote.worker] com.alibaba.nacos.common.remote.client   : [a7250b7c-5802-4557-a662-08e56fecee9a] Notify connected event to listeners.
17:47:43:463 ERROR 148668 --- [com.alibaba.nacos.client.naming.updater.2] com.alibaba.nacos.common.remote.client   : Send request fail, request = ServiceQueryRequest{headers={}, requestId='null'}, retryTimes = 2, errorMessage = Client not connected, current status:UNHEALTHY
17:47:43:466  INFO 148668 --- [com.alibaba.nacos.client.remote.worker] com.alibaba.nacos.common.remote.client   : [a7250b7c-5802-4557-a662-08e56fecee9a] Server check success, currentServer is 192.168.10.3:8848 
17:47:46:833  INFO 148668 --- [nacos-grpc-client-executor-45] com.alibaba.nacos.common.remote.client   : [a7250b7c-5802-4557-a662-08e56fecee9a] Receive server push request, request = NotifySubscriberRequest, requestId = 71
17:47:46:833  INFO 148668 --- [nacos-grpc-client-executor-45] com.alibaba.nacos.common.remote.client   : [a7250b7c-5802-4557-a662-08e56fecee9a] Ack server push request, request = NotifySubscriberRequest, requestId = 71
17:47:46:868  INFO 148668 --- [nacos-grpc-client-executor-46] com.alibaba.nacos.common.remote.client   : [a7250b7c-5802-4557-a662-08e56fecee9a] Receive server push request, request = NotifySubscriberRequest, requestId = 72
17:47:46:868  INFO 148668 --- [nacos-grpc-client-executor-46] com.alibaba.nacos.common.remote.client   : [a7250b7c-5802-4557-a662-08e56fecee9a] Ack server push request, request = NotifySubscriberRequest, requestId = 72
17:47:46:878  INFO 148668 --- [nacos-grpc-client-executor-47] com.alibaba.nacos.common.remote.client   : [a7250b7c-5802-4557-a662-08e56fecee9a] Receive server push request, request = NotifySubscriberRequest, requestId = 73
17:47:46:879  INFO 148668 --- [nacos-grpc-client-executor-47] com.alibaba.nacos.common.remote.client   : [a7250b7c-5802-4557-a662-08e56fecee9a] Ack server push request, request = NotifySubscriberRequest, requestId = 73
17:48:05:761  WARN 148668 --- [Thread-7] c.a.n.common.http.HttpClientBeanHolder   : [HttpClientBeanHolder] Start destroying common HttpClient
17:48:05:761  WARN 148668 --- [Thread-4] c.a.nacos.common.notify.NotifyCenter     : [NotifyCenter] Start destroying Publisher
17:48:05:761  WARN 148668 --- [Thread-4] c.a.nacos.common.notify.NotifyCenter     : [NotifyCenter] Destruction of the end
17:48:05:762  WARN 148668 --- [Thread-7] c.a.n.common.http.HttpClientBeanHolder   : [HttpClientBeanHolder] Destruction of the end
17:48:05:811  INFO 148668 --- [SpringApplicationShutdownHook] c.a.c.n.registry.NacosServiceRegistry    : De-registering from Nacos Server now...
17:48:05:812  INFO 148668 --- [SpringApplicationShutdownHook] c.a.c.n.registry.NacosServiceRegistry    : De-registration finished.
17:48:06:116  INFO 148668 --- [SpringApplicationShutdownHook] com.alibaba.nacos.common.remote.client   : Shutdown rpc client, set status to shutdown
17:48:06:116  INFO 148668 --- [SpringApplicationShutdownHook] com.alibaba.nacos.common.remote.client   : Shutdown client event executor java.util.concurrent.ScheduledThreadPoolExecutor@1ab3f363[Running, pool size = 2, active threads = 2, queued tasks = 0, completed tasks = 0]
17:48:06:116  INFO 148668 --- [SpringApplicationShutdownHook] com.alibaba.nacos.common.remote.client   : Close current connection 1720086463878_192.168.10.5_6027
17:48:06:118  INFO 148668 --- [nacos-grpc-client-executor-53] c.a.n.c.remote.client.grpc.GrpcClient    : [1720086463878_192.168.10.5_6027]Ignore complete event,isRunning:false,isAbandon=false
17:48:06:119  INFO 148668 --- [SpringApplicationShutdownHook] c.a.n.c.remote.client.grpc.GrpcClient    : Shutdown grpc executor java.util.concurrent.ThreadPoolExecutor@2e772389[Running, pool size = 5, active threads = 0, queued tasks = 0, completed tasks = 54]
17:48:06:122  INFO 148668 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
17:48:06:128  INFO 148668 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
17:48:11:409  INFO 147644 --- [main] com.jndx.trade.TradeApplication          : Starting TradeApplication using Java 17.0.11 on DESKTOP-IJRS560 with PID 147644 (D:\BaiduNetdiskDownload\spring_cloud\day02-Docker\资料\hmall\trade-service\target\classes started by gosling in D:\BaiduNetdiskDownload\spring_cloud\day02-Docker\资料\hmall)
17:48:11:411 DEBUG 147644 --- [main] com.jndx.trade.TradeApplication          : Running with Spring Boot v2.7.12, Spring v5.3.27
17:48:11:411  INFO 147644 --- [main] com.jndx.trade.TradeApplication          : The following 1 profile is active: "local"
17:48:12:214  INFO 147644 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=46787a88-83a1-3bc5-a31a-3618d40b6861
17:48:12:597  INFO 147644 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8084 (http)
17:48:12:598  INFO 147644 --- [main] o.a.catalina.core.AprLifecycleListener   : Loaded Apache Tomcat Native library [1.2.39] using APR version [1.7.4].
17:48:12:598  INFO 147644 --- [main] o.a.catalina.core.AprLifecycleListener   : APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true], UDS [true].
17:48:12:598  INFO 147644 --- [main] o.a.catalina.core.AprLifecycleListener   : APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]
17:48:12:603  INFO 147644 --- [main] o.a.catalina.core.AprLifecycleListener   : OpenSSL successfully initialized [OpenSSL 3.0.11 19 Sep 2023]
17:48:12:610  INFO 147644 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
17:48:12:611  INFO 147644 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.75]
17:48:12:717  INFO 147644 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
17:48:12:718  INFO 147644 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1271 ms
17:48:12:873  INFO 147644 --- [main] o.s.c.openfeign.FeignClientFactoryBean   : For 'item-service' URL not provided. Will try picking an instance via load-balancing.
17:48:13:253  INFO 147644 --- [main] o.s.c.openfeign.FeignClientFactoryBean   : For 'cart-service' URL not provided. Will try picking an instance via load-balancing.
17:48:14:085  INFO 147644 --- [main] pertySourcedRequestMappingHandlerMapping : Mapped URL path [/v2/api-docs] onto method [springfox.documentation.swagger2.web.Swagger2ControllerWebMvc#getDocumentation(String, HttpServletRequest)]
17:48:14:835  INFO 147644 --- [main] com.alibaba.nacos.common.remote.client   : [RpcClientFactory] create a new rpc client of f08708a4-6c30-43bc-b56d-3cb70379df37
17:48:14:888  INFO 147644 --- [main] org.reflections.Reflections              : Reflections took 24 ms to scan 1 urls, producing 3 keys and 6 values 
17:48:14:909  INFO 147644 --- [main] org.reflections.Reflections              : Reflections took 7 ms to scan 1 urls, producing 4 keys and 9 values 
17:48:14:916  INFO 147644 --- [main] org.reflections.Reflections              : Reflections took 5 ms to scan 1 urls, producing 3 keys and 10 values 
17:48:14:918  WARN 147644 --- [main] org.reflections.Reflections              : given scan urls are empty. set urls in the configuration
17:48:14:923  INFO 147644 --- [main] org.reflections.Reflections              : Reflections took 5 ms to scan 1 urls, producing 1 keys and 5 values 
17:48:14:932  INFO 147644 --- [main] org.reflections.Reflections              : Reflections took 8 ms to scan 1 urls, producing 1 keys and 7 values 
17:48:14:940  INFO 147644 --- [main] org.reflections.Reflections              : Reflections took 5 ms to scan 1 urls, producing 2 keys and 8 values 
17:48:14:942  WARN 147644 --- [main] org.reflections.Reflections              : given scan urls are empty. set urls in the configuration
17:48:14:943  INFO 147644 --- [main] com.alibaba.nacos.common.remote.client   : [f08708a4-6c30-43bc-b56d-3cb70379df37] RpcClient init label, labels = {module=naming, source=sdk}
17:48:14:945  INFO 147644 --- [main] com.alibaba.nacos.common.remote.client   : [f08708a4-6c30-43bc-b56d-3cb70379df37] RpcClient init, ServerListFactory = com.alibaba.nacos.client.naming.core.ServerListManager
17:48:14:945  INFO 147644 --- [main] com.alibaba.nacos.common.remote.client   : [f08708a4-6c30-43bc-b56d-3cb70379df37] Registry connection listener to current client:com.alibaba.nacos.client.naming.remote.gprc.redo.NamingGrpcRedoService
17:48:14:945  INFO 147644 --- [main] com.alibaba.nacos.common.remote.client   : [f08708a4-6c30-43bc-b56d-3cb70379df37] Register server push request handler:com.alibaba.nacos.client.naming.remote.gprc.NamingPushRequestHandler
17:48:14:947  INFO 147644 --- [main] com.alibaba.nacos.common.remote.client   : [f08708a4-6c30-43bc-b56d-3cb70379df37] Try to connect to server on start up, server: {serverIp = '192.168.10.3', server main port = 8848}
17:48:16:371  INFO 147644 --- [main] com.alibaba.nacos.common.remote.client   : [f08708a4-6c30-43bc-b56d-3cb70379df37] Success to connect to server [192.168.10.3:8848] on start up, connectionId = 1720086496798_192.168.10.5_6076
17:48:16:371  INFO 147644 --- [com.alibaba.nacos.client.remote.worker] com.alibaba.nacos.common.remote.client   : [f08708a4-6c30-43bc-b56d-3cb70379df37] Notify connected event to listeners.
17:48:16:372  INFO 147644 --- [main] com.alibaba.nacos.common.remote.client   : [f08708a4-6c30-43bc-b56d-3cb70379df37] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$ConnectResetRequestHandler
17:48:16:372  INFO 147644 --- [main] com.alibaba.nacos.common.remote.client   : [f08708a4-6c30-43bc-b56d-3cb70379df37] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$$Lambda$984/0x000001b046799ed8
17:48:16:409  INFO 147644 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8084 (http) with context path ''
17:48:16:416  INFO 147644 --- [main] c.a.c.n.registry.NacosServiceRegistry    : nacos registry, DEFAULT_GROUP trade-service 192.168.0.101:8084 register finished
17:48:16:907  INFO 147644 --- [nacos-grpc-client-executor-9] com.alibaba.nacos.common.remote.client   : [f08708a4-6c30-43bc-b56d-3cb70379df37] Receive server push request, request = NotifySubscriberRequest, requestId = 77
17:48:16:909  INFO 147644 --- [nacos-grpc-client-executor-9] com.alibaba.nacos.common.remote.client   : [f08708a4-6c30-43bc-b56d-3cb70379df37] Ack server push request, request = NotifySubscriberRequest, requestId = 77
17:48:16:973  INFO 147644 --- [main] d.s.w.p.DocumentationPluginsBootstrapper : Documentation plugins bootstrapped
17:48:16:976  INFO 147644 --- [main] d.s.w.p.DocumentationPluginsBootstrapper : Found 1 custom documentation plugin(s)
17:48:16:993  INFO 147644 --- [main] s.d.s.w.s.ApiListingReferenceScanner     : Scanning for api listing references
17:48:17:067  INFO 147644 --- [main] com.jndx.trade.TradeApplication          : Started TradeApplication in 6.637 seconds (JVM running for 7.405)
17:48:32:081  INFO 147644 --- [http-nio-8084-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
17:48:32:081  INFO 147644 --- [http-nio-8084-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
17:48:32:082  INFO 147644 --- [http-nio-8084-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
17:48:32:132  INFO 147644 --- [http-nio-8084-exec-1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
17:48:32:398  INFO 147644 --- [http-nio-8084-exec-1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
17:48:32:410 DEBUG 147644 --- [http-nio-8084-exec-1] com.jndx.api.client.ItemClient           : [ItemClient#queryItemByIds] ---> GET http://item-service/items?ids=2120808 HTTP/1.1
17:48:32:410 DEBUG 147644 --- [http-nio-8084-exec-1] com.jndx.api.client.ItemClient           : [ItemClient#queryItemByIds] user-info: 1
17:48:32:411 DEBUG 147644 --- [http-nio-8084-exec-1] com.jndx.api.client.ItemClient           : [ItemClient#queryItemByIds] ---> END HTTP (0-byte body)
17:48:32:498 DEBUG 147644 --- [http-nio-8084-exec-1] com.jndx.api.client.ItemClient           : [ItemClient#queryItemByIds] <--- HTTP/1.1 200 (86ms)
17:48:32:498 DEBUG 147644 --- [http-nio-8084-exec-1] com.jndx.api.client.ItemClient           : [ItemClient#queryItemByIds] connection: keep-alive
17:48:32:498 DEBUG 147644 --- [http-nio-8084-exec-1] com.jndx.api.client.ItemClient           : [ItemClient#queryItemByIds] content-type: application/json
17:48:32:498 DEBUG 147644 --- [http-nio-8084-exec-1] com.jndx.api.client.ItemClient           : [ItemClient#queryItemByIds] date: Thu, 04 Jul 2024 09:48:32 GMT
17:48:32:498 DEBUG 147644 --- [http-nio-8084-exec-1] com.jndx.api.client.ItemClient           : [ItemClient#queryItemByIds] keep-alive: timeout=60
17:48:32:498 DEBUG 147644 --- [http-nio-8084-exec-1] com.jndx.api.client.ItemClient           : [ItemClient#queryItemByIds] transfer-encoding: chunked
17:48:32:498 DEBUG 147644 --- [http-nio-8084-exec-1] com.jndx.api.client.ItemClient           : [ItemClient#queryItemByIds] 
17:48:32:499 DEBUG 147644 --- [http-nio-8084-exec-1] com.jndx.api.client.ItemClient           : [ItemClient#queryItemByIds] [{"id":"2120808","name":"姬龙雪 guy laroche女包 GL经典手提包女牛皮大容量单肩包女欧美时尚包包女包GS1210001-06杏色","price":71800,"stock":1,"image":"https://m.360buyimg.com/mobilecms/s720x720_jfs/t30694/267/398774087/90954/6fc143cf/5bf25358N14dadbf7.jpg!q70.jpg.webp","category":"真皮包","brand":"姬龙雪","spec":"{}","sold":0,"commentCount":0,"isAD":false,"status":1}]
17:48:32:499 DEBUG 147644 --- [http-nio-8084-exec-1] com.jndx.api.client.ItemClient           : [ItemClient#queryItemByIds] <--- END HTTP (402-byte body)
17:48:32:540 DEBUG 147644 --- [http-nio-8084-exec-1] c.jndx.trade.mapper.OrderMapper.insert   : ==>  Preparing: INSERT INTO `order` ( id, total_fee, payment_type, user_id, status ) VALUES ( ?, ?, ?, ?, ? )
17:48:32:563 DEBUG 147644 --- [http-nio-8084-exec-1] c.jndx.trade.mapper.OrderMapper.insert   : ==> Parameters: 1808800050322079746(Long), 71800(Integer), 3(Integer), 1(Long), 1(Integer)
17:48:32:565 DEBUG 147644 --- [http-nio-8084-exec-1] c.jndx.trade.mapper.OrderMapper.insert   : <==    Updates: 1
17:48:32:574 DEBUG 147644 --- [http-nio-8084-exec-1] c.j.t.mapper.OrderDetailMapper.insert    : ==>  Preparing: INSERT INTO order_detail ( order_id, item_id, num, name, spec, price, image ) VALUES ( ?, ?, ?, ?, ?, ?, ? )
17:48:32:575 DEBUG 147644 --- [http-nio-8084-exec-1] c.j.t.mapper.OrderDetailMapper.insert    : ==> Parameters: 1808800050322079746(Long), 2120808(Long), 1(Integer), 姬龙雪 guy laroche女包 GL经典手提包女牛皮大容量单肩包女欧美时尚包包女包GS1210001-06杏色(String), {}(String), 71800(Integer), https://m.360buyimg.com/mobilecms/s720x720_jfs/t30694/267/398774087/90954/6fc143cf/5bf25358N14dadbf7.jpg!q70.jpg.webp(String)
17:48:32:588 DEBUG 147644 --- [http-nio-8084-exec-1] com.jndx.api.client.CartClient           : [CartClient#removeByItemIds] ---> DELETE http://cart-service/carts?ids=2120808 HTTP/1.1
17:48:32:588 DEBUG 147644 --- [http-nio-8084-exec-1] com.jndx.api.client.CartClient           : [CartClient#removeByItemIds] user-info: 1
17:48:32:588 DEBUG 147644 --- [http-nio-8084-exec-1] com.jndx.api.client.CartClient           : [CartClient#removeByItemIds] ---> END HTTP (0-byte body)
17:48:32:613 DEBUG 147644 --- [http-nio-8084-exec-1] com.jndx.api.client.CartClient           : [CartClient#removeByItemIds] <--- HTTP/1.1 200 (24ms)
17:48:32:613 DEBUG 147644 --- [http-nio-8084-exec-1] com.jndx.api.client.CartClient           : [CartClient#removeByItemIds] connection: keep-alive
17:48:32:613 DEBUG 147644 --- [http-nio-8084-exec-1] com.jndx.api.client.CartClient           : [CartClient#removeByItemIds] content-length: 0
17:48:32:613 DEBUG 147644 --- [http-nio-8084-exec-1] com.jndx.api.client.CartClient           : [CartClient#removeByItemIds] date: Thu, 04 Jul 2024 09:48:32 GMT
17:48:32:613 DEBUG 147644 --- [http-nio-8084-exec-1] com.jndx.api.client.CartClient           : [CartClient#removeByItemIds] keep-alive: timeout=60
17:48:32:613 DEBUG 147644 --- [http-nio-8084-exec-1] com.jndx.api.client.CartClient           : [CartClient#removeByItemIds] 
17:48:32:613 DEBUG 147644 --- [http-nio-8084-exec-1] com.jndx.api.client.CartClient           : [CartClient#removeByItemIds] <--- END HTTP (0-byte body)
17:48:36:442  INFO 147644 --- [nacos-grpc-client-executor-15] com.alibaba.nacos.common.remote.client   : [f08708a4-6c30-43bc-b56d-3cb70379df37] Receive server push request, request = NotifySubscriberRequest, requestId = 78
17:48:36:443  INFO 147644 --- [nacos-grpc-client-executor-15] com.alibaba.nacos.common.remote.client   : [f08708a4-6c30-43bc-b56d-3cb70379df37] Ack server push request, request = NotifySubscriberRequest, requestId = 78
17:48:36:462  INFO 147644 --- [nacos-grpc-client-executor-19] com.alibaba.nacos.common.remote.client   : [f08708a4-6c30-43bc-b56d-3cb70379df37] Receive server push request, request = NotifySubscriberRequest, requestId = 79
17:48:36:463  INFO 147644 --- [nacos-grpc-client-executor-19] com.alibaba.nacos.common.remote.client   : [f08708a4-6c30-43bc-b56d-3cb70379df37] Ack server push request, request = NotifySubscriberRequest, requestId = 79
17:48:36:466 DEBUG 147644 --- [http-nio-8084-exec-1] com.jndx.api.client.ItemClient           : [ItemClient#deductStock] ---> PUT http://item-service/items/stock/deduct HTTP/1.1
17:48:36:466 DEBUG 147644 --- [http-nio-8084-exec-1] com.jndx.api.client.ItemClient           : [ItemClient#deductStock] Content-Length: 28
17:48:36:466 DEBUG 147644 --- [http-nio-8084-exec-1] com.jndx.api.client.ItemClient           : [ItemClient#deductStock] Content-Type: application/json
17:48:36:466 DEBUG 147644 --- [http-nio-8084-exec-1] com.jndx.api.client.ItemClient           : [ItemClient#deductStock] user-info: 1
17:48:36:466 DEBUG 147644 --- [http-nio-8084-exec-1] com.jndx.api.client.ItemClient           : [ItemClient#deductStock] 
17:48:36:466 DEBUG 147644 --- [http-nio-8084-exec-1] com.jndx.api.client.ItemClient           : [ItemClient#deductStock] [{"itemId":2120808,"num":1}]
17:48:36:466 DEBUG 147644 --- [http-nio-8084-exec-1] com.jndx.api.client.ItemClient           : [ItemClient#deductStock] ---> END HTTP (28-byte body)
17:48:36:476 DEBUG 147644 --- [http-nio-8084-exec-1] com.jndx.api.client.ItemClient           : [ItemClient#deductStock] <--- HTTP/1.1 500 (9ms)
17:48:36:476 DEBUG 147644 --- [http-nio-8084-exec-1] com.jndx.api.client.ItemClient           : [ItemClient#deductStock] connection: close
17:48:36:476 DEBUG 147644 --- [http-nio-8084-exec-1] com.jndx.api.client.ItemClient           : [ItemClient#deductStock] content-type: application/json
17:48:36:476 DEBUG 147644 --- [http-nio-8084-exec-1] com.jndx.api.client.ItemClient           : [ItemClient#deductStock] date: Thu, 04 Jul 2024 09:48:36 GMT
17:48:36:476 DEBUG 147644 --- [http-nio-8084-exec-1] com.jndx.api.client.ItemClient           : [ItemClient#deductStock] transfer-encoding: chunked
17:48:36:476 DEBUG 147644 --- [http-nio-8084-exec-1] com.jndx.api.client.ItemClient           : [ItemClient#deductStock] 
17:48:36:477 DEBUG 147644 --- [http-nio-8084-exec-1] com.jndx.api.client.ItemClient           : [ItemClient#deductStock] {"timestamp":"2024-07-04T09:48:36.475+00:00","status":500,"error":"Internal Server Error","path":"/items/stock/deduct"}
17:48:36:477 DEBUG 147644 --- [http-nio-8084-exec-1] com.jndx.api.client.ItemClient           : [ItemClient#deductStock] <--- END HTTP (119-byte body)
17:48:36:490 ERROR 147644 --- [http-nio-8084-exec-1] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.RuntimeException: 库存不足！] with root cause

java.lang.RuntimeException: 库存不足！
	at com.jndx.trade.service.impl.OrderServiceImpl.createOrder(OrderServiceImpl.java:87) ~[classes/:na]
	at com.jndx.trade.service.impl.OrderServiceImpl$$FastClassBySpringCGLIB$$681a9ea9.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.27.jar:5.3.27]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.27.jar:5.3.27]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708) ~[spring-aop-5.3.27.jar:5.3.27]
	at com.jndx.trade.service.impl.OrderServiceImpl$$EnhancerBySpringCGLIB$$b25ce107.createOrder(<generated>) ~[classes/:na]
	at com.jndx.trade.controller.OrderController.createOrder(OrderController.java:31) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:555) ~[tomcat-embed-core-9.0.75.jar:4.0.FR]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623) ~[tomcat-embed-core-9.0.75.jar:4.0.FR]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.27.jar:5.3.27]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.27.jar:5.3.27]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.27.jar:5.3.27]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at java.base/java.lang.Thread.run(Thread.java:842) ~[na:na]

17:59:13:387  WARN 147644 --- [Thread-7] c.a.n.common.http.HttpClientBeanHolder   : [HttpClientBeanHolder] Start destroying common HttpClient
17:59:13:386  WARN 147644 --- [Thread-4] c.a.nacos.common.notify.NotifyCenter     : [NotifyCenter] Start destroying Publisher
17:59:13:405  WARN 147644 --- [Thread-4] c.a.nacos.common.notify.NotifyCenter     : [NotifyCenter] Destruction of the end
17:59:13:421  WARN 147644 --- [Thread-7] c.a.n.common.http.HttpClientBeanHolder   : [HttpClientBeanHolder] Destruction of the end
17:59:13:711  INFO 147644 --- [SpringApplicationShutdownHook] c.a.c.n.registry.NacosServiceRegistry    : De-registering from Nacos Server now...
17:59:13:719  INFO 147644 --- [SpringApplicationShutdownHook] c.a.c.n.registry.NacosServiceRegistry    : De-registration finished.
17:59:14:029  INFO 147644 --- [SpringApplicationShutdownHook] com.alibaba.nacos.common.remote.client   : Shutdown rpc client, set status to shutdown
17:59:14:029  INFO 147644 --- [SpringApplicationShutdownHook] com.alibaba.nacos.common.remote.client   : Shutdown client event executor java.util.concurrent.ScheduledThreadPoolExecutor@4e6637fb[Running, pool size = 2, active threads = 2, queued tasks = 0, completed tasks = 0]
17:59:14:030  INFO 147644 --- [SpringApplicationShutdownHook] com.alibaba.nacos.common.remote.client   : Close current connection 1720086496798_192.168.10.5_6076
17:59:14:032  INFO 147644 --- [nacos-grpc-client-executor-170] c.a.n.c.remote.client.grpc.GrpcClient    : [1720086496798_192.168.10.5_6076]Ignore complete event,isRunning:false,isAbandon=false
17:59:14:048  INFO 147644 --- [SpringApplicationShutdownHook] c.a.n.c.remote.client.grpc.GrpcClient    : Shutdown grpc executor java.util.concurrent.ThreadPoolExecutor@1c6a85f3[Running, pool size = 5, active threads = 0, queued tasks = 0, completed tasks = 171]
17:59:14:056  INFO 147644 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
17:59:14:088  INFO 147644 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
18:09:43:289  INFO 143320 --- [main] com.jndx.trade.TradeApplication          : Starting TradeApplication using Java 17.0.11 on DESKTOP-IJRS560 with PID 143320 (D:\BaiduNetdiskDownload\spring_cloud\day02-Docker\资料\hmall\trade-service\target\classes started by gosling in D:\BaiduNetdiskDownload\spring_cloud\day02-Docker\资料\hmall)
18:09:43:291 DEBUG 143320 --- [main] com.jndx.trade.TradeApplication          : Running with Spring Boot v2.7.12, Spring v5.3.27
18:09:43:291  INFO 143320 --- [main] com.jndx.trade.TradeApplication          : The following 1 profile is active: "local"
18:09:43:991  INFO 143320 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=46787a88-83a1-3bc5-a31a-3618d40b6861
18:09:44:349  INFO 143320 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8084 (http)
18:09:44:349  INFO 143320 --- [main] o.a.catalina.core.AprLifecycleListener   : Loaded Apache Tomcat Native library [1.2.39] using APR version [1.7.4].
18:09:44:350  INFO 143320 --- [main] o.a.catalina.core.AprLifecycleListener   : APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true], UDS [true].
18:09:44:350  INFO 143320 --- [main] o.a.catalina.core.AprLifecycleListener   : APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]
18:09:44:372  INFO 143320 --- [main] o.a.catalina.core.AprLifecycleListener   : OpenSSL successfully initialized [OpenSSL 3.0.11 19 Sep 2023]
18:09:44:379  INFO 143320 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
18:09:44:380  INFO 143320 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.75]
18:09:44:490  INFO 143320 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
18:09:44:491  INFO 143320 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1169 ms
18:09:44:629  INFO 143320 --- [main] o.s.c.openfeign.FeignClientFactoryBean   : For 'item-service' URL not provided. Will try picking an instance via load-balancing.
18:09:45:034  INFO 143320 --- [main] o.s.c.openfeign.FeignClientFactoryBean   : For 'cart-service' URL not provided. Will try picking an instance via load-balancing.
18:09:45:824  INFO 143320 --- [main] pertySourcedRequestMappingHandlerMapping : Mapped URL path [/v2/api-docs] onto method [springfox.documentation.swagger2.web.Swagger2ControllerWebMvc#getDocumentation(String, HttpServletRequest)]
18:09:46:520  INFO 143320 --- [main] com.alibaba.nacos.common.remote.client   : [RpcClientFactory] create a new rpc client of f6cfa232-e7f1-4a09-965b-f3f0a84ae929
18:09:46:574  INFO 143320 --- [main] org.reflections.Reflections              : Reflections took 23 ms to scan 1 urls, producing 3 keys and 6 values 
18:09:46:594  INFO 143320 --- [main] org.reflections.Reflections              : Reflections took 6 ms to scan 1 urls, producing 4 keys and 9 values 
18:09:46:601  INFO 143320 --- [main] org.reflections.Reflections              : Reflections took 5 ms to scan 1 urls, producing 3 keys and 10 values 
18:09:46:602  WARN 143320 --- [main] org.reflections.Reflections              : given scan urls are empty. set urls in the configuration
18:09:46:607  INFO 143320 --- [main] org.reflections.Reflections              : Reflections took 5 ms to scan 1 urls, producing 1 keys and 5 values 
18:09:46:613  INFO 143320 --- [main] org.reflections.Reflections              : Reflections took 4 ms to scan 1 urls, producing 1 keys and 7 values 
18:09:46:622  INFO 143320 --- [main] org.reflections.Reflections              : Reflections took 5 ms to scan 1 urls, producing 2 keys and 8 values 
18:09:46:623  WARN 143320 --- [main] org.reflections.Reflections              : given scan urls are empty. set urls in the configuration
18:09:46:623  INFO 143320 --- [main] com.alibaba.nacos.common.remote.client   : [f6cfa232-e7f1-4a09-965b-f3f0a84ae929] RpcClient init label, labels = {module=naming, source=sdk}
18:09:46:625  INFO 143320 --- [main] com.alibaba.nacos.common.remote.client   : [f6cfa232-e7f1-4a09-965b-f3f0a84ae929] RpcClient init, ServerListFactory = com.alibaba.nacos.client.naming.core.ServerListManager
18:09:46:625  INFO 143320 --- [main] com.alibaba.nacos.common.remote.client   : [f6cfa232-e7f1-4a09-965b-f3f0a84ae929] Registry connection listener to current client:com.alibaba.nacos.client.naming.remote.gprc.redo.NamingGrpcRedoService
18:09:46:625  INFO 143320 --- [main] com.alibaba.nacos.common.remote.client   : [f6cfa232-e7f1-4a09-965b-f3f0a84ae929] Register server push request handler:com.alibaba.nacos.client.naming.remote.gprc.NamingPushRequestHandler
18:09:46:626  INFO 143320 --- [main] com.alibaba.nacos.common.remote.client   : [f6cfa232-e7f1-4a09-965b-f3f0a84ae929] Try to connect to server on start up, server: {serverIp = '192.168.10.3', server main port = 8848}
18:09:47:899  INFO 143320 --- [main] com.alibaba.nacos.common.remote.client   : [f6cfa232-e7f1-4a09-965b-f3f0a84ae929] Success to connect to server [192.168.10.3:8848] on start up, connectionId = 1720087788346_192.168.10.5_7020
18:09:47:899  INFO 143320 --- [com.alibaba.nacos.client.remote.worker] com.alibaba.nacos.common.remote.client   : [f6cfa232-e7f1-4a09-965b-f3f0a84ae929] Notify connected event to listeners.
18:09:47:900  INFO 143320 --- [main] com.alibaba.nacos.common.remote.client   : [f6cfa232-e7f1-4a09-965b-f3f0a84ae929] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$ConnectResetRequestHandler
18:09:47:900  INFO 143320 --- [main] com.alibaba.nacos.common.remote.client   : [f6cfa232-e7f1-4a09-965b-f3f0a84ae929] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$$Lambda$984/0x00000205a5793928
18:09:47:937  INFO 143320 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8084 (http) with context path ''
18:09:47:944  INFO 143320 --- [main] c.a.c.n.registry.NacosServiceRegistry    : nacos registry, DEFAULT_GROUP trade-service 192.168.0.101:8084 register finished
18:09:48:399  INFO 143320 --- [main] d.s.w.p.DocumentationPluginsBootstrapper : Documentation plugins bootstrapped
18:09:48:401  INFO 143320 --- [main] d.s.w.p.DocumentationPluginsBootstrapper : Found 1 custom documentation plugin(s)
18:09:48:415  INFO 143320 --- [main] s.d.s.w.s.ApiListingReferenceScanner     : Scanning for api listing references
18:09:48:473  INFO 143320 --- [main] com.jndx.trade.TradeApplication          : Started TradeApplication in 6.086 seconds (JVM running for 6.702)
18:09:48:508  INFO 143320 --- [nacos-grpc-client-executor-9] com.alibaba.nacos.common.remote.client   : [f6cfa232-e7f1-4a09-965b-f3f0a84ae929] Receive server push request, request = NotifySubscriberRequest, requestId = 82
18:09:48:510  INFO 143320 --- [nacos-grpc-client-executor-9] com.alibaba.nacos.common.remote.client   : [f6cfa232-e7f1-4a09-965b-f3f0a84ae929] Ack server push request, request = NotifySubscriberRequest, requestId = 82
18:11:07:164  INFO 143320 --- [http-nio-8084-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
18:11:07:165  INFO 143320 --- [http-nio-8084-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
18:11:07:185  INFO 143320 --- [http-nio-8084-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 19 ms
18:11:07:262  INFO 143320 --- [http-nio-8084-exec-1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
18:11:07:583  INFO 143320 --- [http-nio-8084-exec-1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
18:11:07:598 DEBUG 143320 --- [http-nio-8084-exec-1] com.jndx.api.client.ItemClient           : [ItemClient#queryItemByIds] ---> GET http://item-service/items?ids=14741770661 HTTP/1.1
18:11:07:598 DEBUG 143320 --- [http-nio-8084-exec-1] com.jndx.api.client.ItemClient           : [ItemClient#queryItemByIds] user-info: 1
18:11:07:598 DEBUG 143320 --- [http-nio-8084-exec-1] com.jndx.api.client.ItemClient           : [ItemClient#queryItemByIds] ---> END HTTP (0-byte body)
18:11:07:692 DEBUG 143320 --- [http-nio-8084-exec-1] com.jndx.api.client.ItemClient           : [ItemClient#queryItemByIds] <--- HTTP/1.1 200 (93ms)
18:11:07:692 DEBUG 143320 --- [http-nio-8084-exec-1] com.jndx.api.client.ItemClient           : [ItemClient#queryItemByIds] connection: keep-alive
18:11:07:692 DEBUG 143320 --- [http-nio-8084-exec-1] com.jndx.api.client.ItemClient           : [ItemClient#queryItemByIds] content-type: application/json
18:11:07:692 DEBUG 143320 --- [http-nio-8084-exec-1] com.jndx.api.client.ItemClient           : [ItemClient#queryItemByIds] date: Thu, 04 Jul 2024 10:11:07 GMT
18:11:07:692 DEBUG 143320 --- [http-nio-8084-exec-1] com.jndx.api.client.ItemClient           : [ItemClient#queryItemByIds] keep-alive: timeout=60
18:11:07:693 DEBUG 143320 --- [http-nio-8084-exec-1] com.jndx.api.client.ItemClient           : [ItemClient#queryItemByIds] transfer-encoding: chunked
18:11:07:693 DEBUG 143320 --- [http-nio-8084-exec-1] com.jndx.api.client.ItemClient           : [ItemClient#queryItemByIds] 
18:11:07:693 DEBUG 143320 --- [http-nio-8084-exec-1] com.jndx.api.client.ItemClient           : [ItemClient#queryItemByIds] [{"id":14741770661,"name":"康佳（KONKA） LED49UC3 49英寸超薄曲面36核4K HDR人工智能电视","price":144600,"stock":10000,"image":"https://m.360buyimg.com/mobilecms/s720x720_jfs/t16477/84/2032772431/400946/2887be91/5a912776N7e343ec3.jpg!q70.jpg.webp","category":"曲面电视","brand":"康佳","spec":"{}","sold":0,"commentCount":0,"isAD":false,"status":1}]
18:11:07:693 DEBUG 143320 --- [http-nio-8084-exec-1] com.jndx.api.client.ItemClient           : [ItemClient#queryItemByIds] <--- END HTTP (369-byte body)
18:11:07:742 DEBUG 143320 --- [http-nio-8084-exec-1] c.jndx.trade.mapper.OrderMapper.insert   : ==>  Preparing: INSERT INTO `order` ( id, total_fee, payment_type, user_id, status ) VALUES ( ?, ?, ?, ?, ? )
18:11:07:766 DEBUG 143320 --- [http-nio-8084-exec-1] c.jndx.trade.mapper.OrderMapper.insert   : ==> Parameters: 1808805734442987521(Long), 144600(Integer), 3(Integer), 1(Long), 1(Integer)
18:11:07:768 DEBUG 143320 --- [http-nio-8084-exec-1] c.jndx.trade.mapper.OrderMapper.insert   : <==    Updates: 1
18:11:07:783 DEBUG 143320 --- [http-nio-8084-exec-1] c.j.t.mapper.OrderDetailMapper.insert    : ==>  Preparing: INSERT INTO order_detail ( order_id, item_id, num, name, spec, price, image ) VALUES ( ?, ?, ?, ?, ?, ?, ? )
18:11:07:784 DEBUG 143320 --- [http-nio-8084-exec-1] c.j.t.mapper.OrderDetailMapper.insert    : ==> Parameters: 1808805734442987521(Long), 14741770661(Long), 1(Integer), 康佳（KONKA） LED49UC3 49英寸超薄曲面36核4K HDR人工智能电视(String), {}(String), 144600(Integer), https://m.360buyimg.com/mobilecms/s720x720_jfs/t16477/84/2032772431/400946/2887be91/5a912776N7e343ec3.jpg!q70.jpg.webp(String)
18:11:07:801 DEBUG 143320 --- [http-nio-8084-exec-1] com.jndx.api.client.CartClient           : [CartClient#removeByItemIds] ---> DELETE http://cart-service/carts?ids=14741770661 HTTP/1.1
18:11:07:801 DEBUG 143320 --- [http-nio-8084-exec-1] com.jndx.api.client.CartClient           : [CartClient#removeByItemIds] user-info: 1
18:11:07:801 DEBUG 143320 --- [http-nio-8084-exec-1] com.jndx.api.client.CartClient           : [CartClient#removeByItemIds] ---> END HTTP (0-byte body)
18:11:07:835 DEBUG 143320 --- [http-nio-8084-exec-1] com.jndx.api.client.CartClient           : [CartClient#removeByItemIds] <--- HTTP/1.1 200 (34ms)
18:11:07:835 DEBUG 143320 --- [http-nio-8084-exec-1] com.jndx.api.client.CartClient           : [CartClient#removeByItemIds] connection: keep-alive
18:11:07:835 DEBUG 143320 --- [http-nio-8084-exec-1] com.jndx.api.client.CartClient           : [CartClient#removeByItemIds] content-length: 0
18:11:07:836 DEBUG 143320 --- [http-nio-8084-exec-1] com.jndx.api.client.CartClient           : [CartClient#removeByItemIds] date: Thu, 04 Jul 2024 10:11:07 GMT
18:11:07:836 DEBUG 143320 --- [http-nio-8084-exec-1] com.jndx.api.client.CartClient           : [CartClient#removeByItemIds] keep-alive: timeout=60
18:11:07:836 DEBUG 143320 --- [http-nio-8084-exec-1] com.jndx.api.client.CartClient           : [CartClient#removeByItemIds] 
18:11:07:836 DEBUG 143320 --- [http-nio-8084-exec-1] com.jndx.api.client.CartClient           : [CartClient#removeByItemIds] <--- END HTTP (0-byte body)
18:11:07:843 DEBUG 143320 --- [http-nio-8084-exec-1] com.jndx.api.client.ItemClient           : [ItemClient#deductStock] ---> PUT http://item-service/items/stock/deduct HTTP/1.1
18:11:07:843 DEBUG 143320 --- [http-nio-8084-exec-1] com.jndx.api.client.ItemClient           : [ItemClient#deductStock] Content-Length: 32
18:11:07:844 DEBUG 143320 --- [http-nio-8084-exec-1] com.jndx.api.client.ItemClient           : [ItemClient#deductStock] Content-Type: application/json
18:11:07:844 DEBUG 143320 --- [http-nio-8084-exec-1] com.jndx.api.client.ItemClient           : [ItemClient#deductStock] user-info: 1
18:11:07:844 DEBUG 143320 --- [http-nio-8084-exec-1] com.jndx.api.client.ItemClient           : [ItemClient#deductStock] 
18:11:07:844 DEBUG 143320 --- [http-nio-8084-exec-1] com.jndx.api.client.ItemClient           : [ItemClient#deductStock] [{"itemId":14741770661,"num":1}]
18:11:07:844 DEBUG 143320 --- [http-nio-8084-exec-1] com.jndx.api.client.ItemClient           : [ItemClient#deductStock] ---> END HTTP (32-byte body)
18:11:07:869 DEBUG 143320 --- [http-nio-8084-exec-1] com.jndx.api.client.ItemClient           : [ItemClient#deductStock] <--- HTTP/1.1 500 (24ms)
18:11:07:869 DEBUG 143320 --- [http-nio-8084-exec-1] com.jndx.api.client.ItemClient           : [ItemClient#deductStock] connection: close
18:11:07:869 DEBUG 143320 --- [http-nio-8084-exec-1] com.jndx.api.client.ItemClient           : [ItemClient#deductStock] content-type: application/json
18:11:07:869 DEBUG 143320 --- [http-nio-8084-exec-1] com.jndx.api.client.ItemClient           : [ItemClient#deductStock] date: Thu, 04 Jul 2024 10:11:07 GMT
18:11:07:869 DEBUG 143320 --- [http-nio-8084-exec-1] com.jndx.api.client.ItemClient           : [ItemClient#deductStock] transfer-encoding: chunked
18:11:07:869 DEBUG 143320 --- [http-nio-8084-exec-1] com.jndx.api.client.ItemClient           : [ItemClient#deductStock] 
18:11:07:869 DEBUG 143320 --- [http-nio-8084-exec-1] com.jndx.api.client.ItemClient           : [ItemClient#deductStock] {"timestamp":"2024-07-04T10:11:07.865+00:00","status":500,"error":"Internal Server Error","path":"/items/stock/deduct"}
18:11:07:869 DEBUG 143320 --- [http-nio-8084-exec-1] com.jndx.api.client.ItemClient           : [ItemClient#deductStock] <--- END HTTP (119-byte body)
18:11:07:882 ERROR 143320 --- [http-nio-8084-exec-1] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.RuntimeException: 库存不足！] with root cause

java.lang.RuntimeException: 库存不足！
	at com.jndx.trade.service.impl.OrderServiceImpl.createOrder(OrderServiceImpl.java:86) ~[classes/:na]
	at com.jndx.trade.service.impl.OrderServiceImpl$$FastClassBySpringCGLIB$$681a9ea9.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.27.jar:5.3.27]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.27.jar:5.3.27]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708) ~[spring-aop-5.3.27.jar:5.3.27]
	at com.jndx.trade.service.impl.OrderServiceImpl$$EnhancerBySpringCGLIB$$bc2c3839.createOrder(<generated>) ~[classes/:na]
	at com.jndx.trade.controller.OrderController.createOrder(OrderController.java:31) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:555) ~[tomcat-embed-core-9.0.75.jar:4.0.FR]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623) ~[tomcat-embed-core-9.0.75.jar:4.0.FR]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.27.jar:5.3.27]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.27.jar:5.3.27]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.27.jar:5.3.27]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at java.base/java.lang.Thread.run(Thread.java:842) ~[na:na]

18:11:08:251  INFO 143320 --- [nacos-grpc-client-executor-30] com.alibaba.nacos.common.remote.client   : [f6cfa232-e7f1-4a09-965b-f3f0a84ae929] Receive server push request, request = NotifySubscriberRequest, requestId = 88
18:11:08:251  INFO 143320 --- [nacos-grpc-client-executor-30] com.alibaba.nacos.common.remote.client   : [f6cfa232-e7f1-4a09-965b-f3f0a84ae929] Ack server push request, request = NotifySubscriberRequest, requestId = 88
18:11:08:351  INFO 143320 --- [nacos-grpc-client-executor-31] com.alibaba.nacos.common.remote.client   : [f6cfa232-e7f1-4a09-965b-f3f0a84ae929] Receive server push request, request = NotifySubscriberRequest, requestId = 89
18:11:08:353  INFO 143320 --- [nacos-grpc-client-executor-31] com.alibaba.nacos.common.remote.client   : [f6cfa232-e7f1-4a09-965b-f3f0a84ae929] Ack server push request, request = NotifySubscriberRequest, requestId = 89
18:13:28:582  WARN 143320 --- [Thread-4] c.a.nacos.common.notify.NotifyCenter     : [NotifyCenter] Start destroying Publisher
18:13:28:582  WARN 143320 --- [Thread-7] c.a.n.common.http.HttpClientBeanHolder   : [HttpClientBeanHolder] Start destroying common HttpClient
18:13:28:604  WARN 143320 --- [Thread-4] c.a.nacos.common.notify.NotifyCenter     : [NotifyCenter] Destruction of the end
18:13:28:635  WARN 143320 --- [Thread-7] c.a.n.common.http.HttpClientBeanHolder   : [HttpClientBeanHolder] Destruction of the end
18:13:29:055  INFO 143320 --- [SpringApplicationShutdownHook] c.a.c.n.registry.NacosServiceRegistry    : De-registering from Nacos Server now...
18:13:29:067  INFO 143320 --- [SpringApplicationShutdownHook] c.a.c.n.registry.NacosServiceRegistry    : De-registration finished.
18:13:29:375  INFO 143320 --- [SpringApplicationShutdownHook] com.alibaba.nacos.common.remote.client   : Shutdown rpc client, set status to shutdown
18:13:29:375  INFO 143320 --- [SpringApplicationShutdownHook] com.alibaba.nacos.common.remote.client   : Shutdown client event executor java.util.concurrent.ScheduledThreadPoolExecutor@45dfa589[Running, pool size = 2, active threads = 2, queued tasks = 0, completed tasks = 0]
18:13:29:377  INFO 143320 --- [SpringApplicationShutdownHook] com.alibaba.nacos.common.remote.client   : Close current connection 1720087788346_192.168.10.5_7020
18:13:29:381  INFO 143320 --- [nacos-grpc-client-executor-71] c.a.n.c.remote.client.grpc.GrpcClient    : [1720087788346_192.168.10.5_7020]Ignore complete event,isRunning:false,isAbandon=false
18:13:29:411  INFO 143320 --- [SpringApplicationShutdownHook] c.a.n.c.remote.client.grpc.GrpcClient    : Shutdown grpc executor java.util.concurrent.ThreadPoolExecutor@637ab87a[Running, pool size = 5, active threads = 0, queued tasks = 0, completed tasks = 72]
18:13:29:423  INFO 143320 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
18:13:29:491  INFO 143320 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
18:13:33:557  INFO 132028 --- [main] com.jndx.trade.TradeApplication          : Starting TradeApplication using Java 17.0.11 on DESKTOP-IJRS560 with PID 132028 (D:\BaiduNetdiskDownload\spring_cloud\day02-Docker\资料\hmall\trade-service\target\classes started by gosling in D:\BaiduNetdiskDownload\spring_cloud\day02-Docker\资料\hmall)
18:13:33:559 DEBUG 132028 --- [main] com.jndx.trade.TradeApplication          : Running with Spring Boot v2.7.12, Spring v5.3.27
18:13:33:559  INFO 132028 --- [main] com.jndx.trade.TradeApplication          : The following 1 profile is active: "local"
18:13:34:347  INFO 132028 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=46787a88-83a1-3bc5-a31a-3618d40b6861
18:13:34:724  INFO 132028 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8084 (http)
18:13:34:725  INFO 132028 --- [main] o.a.catalina.core.AprLifecycleListener   : Loaded Apache Tomcat Native library [1.2.39] using APR version [1.7.4].
18:13:34:725  INFO 132028 --- [main] o.a.catalina.core.AprLifecycleListener   : APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true], UDS [true].
18:13:34:725  INFO 132028 --- [main] o.a.catalina.core.AprLifecycleListener   : APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]
18:13:34:744  INFO 132028 --- [main] o.a.catalina.core.AprLifecycleListener   : OpenSSL successfully initialized [OpenSSL 3.0.11 19 Sep 2023]
18:13:34:753  INFO 132028 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
18:13:34:753  INFO 132028 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.75]
18:13:34:872  INFO 132028 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
18:13:34:872  INFO 132028 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1277 ms
18:13:35:034  INFO 132028 --- [main] o.s.c.openfeign.FeignClientFactoryBean   : For 'item-service' URL not provided. Will try picking an instance via load-balancing.
18:13:35:461  INFO 132028 --- [main] o.s.c.openfeign.FeignClientFactoryBean   : For 'cart-service' URL not provided. Will try picking an instance via load-balancing.
18:13:36:435  INFO 132028 --- [main] pertySourcedRequestMappingHandlerMapping : Mapped URL path [/v2/api-docs] onto method [springfox.documentation.swagger2.web.Swagger2ControllerWebMvc#getDocumentation(String, HttpServletRequest)]
18:13:37:187  INFO 132028 --- [main] com.alibaba.nacos.common.remote.client   : [RpcClientFactory] create a new rpc client of 9ddf258c-e361-45f0-93ac-a763af894f07
18:13:37:251  INFO 132028 --- [main] org.reflections.Reflections              : Reflections took 28 ms to scan 1 urls, producing 3 keys and 6 values 
18:13:37:274  INFO 132028 --- [main] org.reflections.Reflections              : Reflections took 7 ms to scan 1 urls, producing 4 keys and 9 values 
18:13:37:281  INFO 132028 --- [main] org.reflections.Reflections              : Reflections took 5 ms to scan 1 urls, producing 3 keys and 10 values 
18:13:37:283  WARN 132028 --- [main] org.reflections.Reflections              : given scan urls are empty. set urls in the configuration
18:13:37:290  INFO 132028 --- [main] org.reflections.Reflections              : Reflections took 7 ms to scan 1 urls, producing 1 keys and 5 values 
18:13:37:297  INFO 132028 --- [main] org.reflections.Reflections              : Reflections took 6 ms to scan 1 urls, producing 1 keys and 7 values 
18:13:37:305  INFO 132028 --- [main] org.reflections.Reflections              : Reflections took 6 ms to scan 1 urls, producing 2 keys and 8 values 
18:13:37:307  WARN 132028 --- [main] org.reflections.Reflections              : given scan urls are empty. set urls in the configuration
18:13:37:307  INFO 132028 --- [main] com.alibaba.nacos.common.remote.client   : [9ddf258c-e361-45f0-93ac-a763af894f07] RpcClient init label, labels = {module=naming, source=sdk}
18:13:37:309  INFO 132028 --- [main] com.alibaba.nacos.common.remote.client   : [9ddf258c-e361-45f0-93ac-a763af894f07] RpcClient init, ServerListFactory = com.alibaba.nacos.client.naming.core.ServerListManager
18:13:37:309  INFO 132028 --- [main] com.alibaba.nacos.common.remote.client   : [9ddf258c-e361-45f0-93ac-a763af894f07] Registry connection listener to current client:com.alibaba.nacos.client.naming.remote.gprc.redo.NamingGrpcRedoService
18:13:37:309  INFO 132028 --- [main] com.alibaba.nacos.common.remote.client   : [9ddf258c-e361-45f0-93ac-a763af894f07] Register server push request handler:com.alibaba.nacos.client.naming.remote.gprc.NamingPushRequestHandler
18:13:37:311  INFO 132028 --- [main] com.alibaba.nacos.common.remote.client   : [9ddf258c-e361-45f0-93ac-a763af894f07] Try to connect to server on start up, server: {serverIp = '192.168.10.3', server main port = 8848}
18:13:38:830  INFO 132028 --- [main] com.alibaba.nacos.common.remote.client   : [9ddf258c-e361-45f0-93ac-a763af894f07] Success to connect to server [192.168.10.3:8848] on start up, connectionId = 1720088019262_192.168.10.5_7257
18:13:38:831  INFO 132028 --- [com.alibaba.nacos.client.remote.worker] com.alibaba.nacos.common.remote.client   : [9ddf258c-e361-45f0-93ac-a763af894f07] Notify connected event to listeners.
18:13:38:832  INFO 132028 --- [main] com.alibaba.nacos.common.remote.client   : [9ddf258c-e361-45f0-93ac-a763af894f07] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$ConnectResetRequestHandler
18:13:38:832  INFO 132028 --- [main] com.alibaba.nacos.common.remote.client   : [9ddf258c-e361-45f0-93ac-a763af894f07] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$$Lambda$984/0x000002f9b4792d98
18:13:38:888  INFO 132028 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8084 (http) with context path ''
18:13:38:896  INFO 132028 --- [main] c.a.c.n.registry.NacosServiceRegistry    : nacos registry, DEFAULT_GROUP trade-service 192.168.0.101:8084 register finished
18:13:39:447  INFO 132028 --- [nacos-grpc-client-executor-10] com.alibaba.nacos.common.remote.client   : [9ddf258c-e361-45f0-93ac-a763af894f07] Receive server push request, request = NotifySubscriberRequest, requestId = 92
18:13:39:449  INFO 132028 --- [nacos-grpc-client-executor-10] com.alibaba.nacos.common.remote.client   : [9ddf258c-e361-45f0-93ac-a763af894f07] Ack server push request, request = NotifySubscriberRequest, requestId = 92
18:13:39:480  INFO 132028 --- [main] d.s.w.p.DocumentationPluginsBootstrapper : Documentation plugins bootstrapped
18:13:39:482  INFO 132028 --- [main] d.s.w.p.DocumentationPluginsBootstrapper : Found 1 custom documentation plugin(s)
18:13:39:500  INFO 132028 --- [main] s.d.s.w.s.ApiListingReferenceScanner     : Scanning for api listing references
18:13:39:571  INFO 132028 --- [main] com.jndx.trade.TradeApplication          : Started TradeApplication in 7.142 seconds (JVM running for 8.027)
18:13:57:736  INFO 132028 --- [http-nio-8084-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
18:13:57:736  INFO 132028 --- [http-nio-8084-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
18:13:57:737  INFO 132028 --- [http-nio-8084-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
18:13:57:781  INFO 132028 --- [http-nio-8084-exec-1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
18:13:58:082  INFO 132028 --- [http-nio-8084-exec-1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
18:13:58:097 DEBUG 132028 --- [http-nio-8084-exec-1] com.jndx.api.client.ItemClient           : [ItemClient#queryItemByIds] ---> GET http://item-service/items?ids=40305713537 HTTP/1.1
18:13:58:097 DEBUG 132028 --- [http-nio-8084-exec-1] com.jndx.api.client.ItemClient           : [ItemClient#queryItemByIds] user-info: 1
18:13:58:101 DEBUG 132028 --- [http-nio-8084-exec-1] com.jndx.api.client.ItemClient           : [ItemClient#queryItemByIds] ---> END HTTP (0-byte body)
18:13:58:239 DEBUG 132028 --- [http-nio-8084-exec-1] com.jndx.api.client.ItemClient           : [ItemClient#queryItemByIds] <--- HTTP/1.1 200 (136ms)
18:13:58:239 DEBUG 132028 --- [http-nio-8084-exec-1] com.jndx.api.client.ItemClient           : [ItemClient#queryItemByIds] connection: keep-alive
18:13:58:239 DEBUG 132028 --- [http-nio-8084-exec-1] com.jndx.api.client.ItemClient           : [ItemClient#queryItemByIds] content-type: application/json
18:13:58:239 DEBUG 132028 --- [http-nio-8084-exec-1] com.jndx.api.client.ItemClient           : [ItemClient#queryItemByIds] date: Thu, 04 Jul 2024 10:13:58 GMT
18:13:58:239 DEBUG 132028 --- [http-nio-8084-exec-1] com.jndx.api.client.ItemClient           : [ItemClient#queryItemByIds] keep-alive: timeout=60
18:13:58:239 DEBUG 132028 --- [http-nio-8084-exec-1] com.jndx.api.client.ItemClient           : [ItemClient#queryItemByIds] transfer-encoding: chunked
18:13:58:239 DEBUG 132028 --- [http-nio-8084-exec-1] com.jndx.api.client.ItemClient           : [ItemClient#queryItemByIds] 
18:13:58:240 DEBUG 132028 --- [http-nio-8084-exec-1] com.jndx.api.client.ItemClient           : [ItemClient#queryItemByIds] [{"id":40305713537,"name":"【官方正品 品牌直营】奥古狮登小白鞋女秋季透气2018新款百搭韩版休闲鞋运动鞋女鞋厚底板鞋女 浅蓝【厚底】 41","price":35400,"stock":10000,"image":"https://m.360buyimg.com/mobilecms/s720x720_jfs/t1/14147/34/2890/275451/5c225484Ebd346404/e61513be4639ee2e.jpg!q70.jpg.webp","category":"休闲鞋","brand":"奥古狮登","spec":"{\"颜色\": \"金色\", \"尺码\": \"41\"}","sold":0,"commentCount":0,"isAD":false,"status":1}]
18:13:58:240 DEBUG 132028 --- [http-nio-8084-exec-1] com.jndx.api.client.ItemClient           : [ItemClient#queryItemByIds] <--- END HTTP (491-byte body)
18:13:58:281 DEBUG 132028 --- [http-nio-8084-exec-1] c.jndx.trade.mapper.OrderMapper.insert   : ==>  Preparing: INSERT INTO `order` ( id, total_fee, payment_type, user_id, status ) VALUES ( ?, ?, ?, ?, ? )
18:13:58:308 DEBUG 132028 --- [http-nio-8084-exec-1] c.jndx.trade.mapper.OrderMapper.insert   : ==> Parameters: 1808806449739481090(Long), 35400(Integer), 3(Integer), 1(Long), 1(Integer)
18:13:58:311 DEBUG 132028 --- [http-nio-8084-exec-1] c.jndx.trade.mapper.OrderMapper.insert   : <==    Updates: 1
18:13:58:321 DEBUG 132028 --- [http-nio-8084-exec-1] c.j.t.mapper.OrderDetailMapper.insert    : ==>  Preparing: INSERT INTO order_detail ( order_id, item_id, num, name, spec, price, image ) VALUES ( ?, ?, ?, ?, ?, ?, ? )
18:13:58:322 DEBUG 132028 --- [http-nio-8084-exec-1] c.j.t.mapper.OrderDetailMapper.insert    : ==> Parameters: 1808806449739481090(Long), 40305713537(Long), 1(Integer), 【官方正品 品牌直营】奥古狮登小白鞋女秋季透气2018新款百搭韩版休闲鞋运动鞋女鞋厚底板鞋女 浅蓝【厚底】 41(String), {"颜色": "金色", "尺码": "41"}(String), 35400(Integer), https://m.360buyimg.com/mobilecms/s720x720_jfs/t1/14147/34/2890/275451/5c225484Ebd346404/e61513be4639ee2e.jpg!q70.jpg.webp(String)
18:13:58:339 DEBUG 132028 --- [http-nio-8084-exec-1] com.jndx.api.client.CartClient           : [CartClient#removeByItemIds] ---> DELETE http://cart-service/carts?ids=40305713537 HTTP/1.1
18:13:58:340 DEBUG 132028 --- [http-nio-8084-exec-1] com.jndx.api.client.CartClient           : [CartClient#removeByItemIds] user-info: 1
18:13:58:340 DEBUG 132028 --- [http-nio-8084-exec-1] com.jndx.api.client.CartClient           : [CartClient#removeByItemIds] ---> END HTTP (0-byte body)
18:13:58:436 DEBUG 132028 --- [http-nio-8084-exec-1] com.jndx.api.client.CartClient           : [CartClient#removeByItemIds] <--- HTTP/1.1 200 (96ms)
18:13:58:436 DEBUG 132028 --- [http-nio-8084-exec-1] com.jndx.api.client.CartClient           : [CartClient#removeByItemIds] connection: keep-alive
18:13:58:436 DEBUG 132028 --- [http-nio-8084-exec-1] com.jndx.api.client.CartClient           : [CartClient#removeByItemIds] content-length: 0
18:13:58:436 DEBUG 132028 --- [http-nio-8084-exec-1] com.jndx.api.client.CartClient           : [CartClient#removeByItemIds] date: Thu, 04 Jul 2024 10:13:58 GMT
18:13:58:436 DEBUG 132028 --- [http-nio-8084-exec-1] com.jndx.api.client.CartClient           : [CartClient#removeByItemIds] keep-alive: timeout=60
18:13:58:437 DEBUG 132028 --- [http-nio-8084-exec-1] com.jndx.api.client.CartClient           : [CartClient#removeByItemIds] 
18:13:58:437 DEBUG 132028 --- [http-nio-8084-exec-1] com.jndx.api.client.CartClient           : [CartClient#removeByItemIds] <--- END HTTP (0-byte body)
18:13:58:446 DEBUG 132028 --- [http-nio-8084-exec-1] com.jndx.api.client.ItemClient           : [ItemClient#deductStock] ---> PUT http://item-service/items/stock/deduct HTTP/1.1
18:13:58:446 DEBUG 132028 --- [http-nio-8084-exec-1] com.jndx.api.client.ItemClient           : [ItemClient#deductStock] Content-Length: 32
18:13:58:446 DEBUG 132028 --- [http-nio-8084-exec-1] com.jndx.api.client.ItemClient           : [ItemClient#deductStock] Content-Type: application/json
18:13:58:446 DEBUG 132028 --- [http-nio-8084-exec-1] com.jndx.api.client.ItemClient           : [ItemClient#deductStock] user-info: 1
18:13:58:446 DEBUG 132028 --- [http-nio-8084-exec-1] com.jndx.api.client.ItemClient           : [ItemClient#deductStock] 
18:13:58:446 DEBUG 132028 --- [http-nio-8084-exec-1] com.jndx.api.client.ItemClient           : [ItemClient#deductStock] [{"itemId":40305713537,"num":1}]
18:13:58:446 DEBUG 132028 --- [http-nio-8084-exec-1] com.jndx.api.client.ItemClient           : [ItemClient#deductStock] ---> END HTTP (32-byte body)
18:13:58:715  INFO 132028 --- [nacos-grpc-client-executor-18] com.alibaba.nacos.common.remote.client   : [9ddf258c-e361-45f0-93ac-a763af894f07] Receive server push request, request = NotifySubscriberRequest, requestId = 93
18:13:58:716  INFO 132028 --- [nacos-grpc-client-executor-18] com.alibaba.nacos.common.remote.client   : [9ddf258c-e361-45f0-93ac-a763af894f07] Ack server push request, request = NotifySubscriberRequest, requestId = 93
18:13:58:884 DEBUG 132028 --- [http-nio-8084-exec-1] com.jndx.api.client.ItemClient           : [ItemClient#deductStock] <--- HTTP/1.1 500 (437ms)
18:13:58:884 DEBUG 132028 --- [http-nio-8084-exec-1] com.jndx.api.client.ItemClient           : [ItemClient#deductStock] connection: close
18:13:58:887 DEBUG 132028 --- [http-nio-8084-exec-1] com.jndx.api.client.ItemClient           : [ItemClient#deductStock] content-type: application/json
18:13:58:887 DEBUG 132028 --- [http-nio-8084-exec-1] com.jndx.api.client.ItemClient           : [ItemClient#deductStock] date: Thu, 04 Jul 2024 10:13:58 GMT
18:13:58:887 DEBUG 132028 --- [http-nio-8084-exec-1] com.jndx.api.client.ItemClient           : [ItemClient#deductStock] transfer-encoding: chunked
18:13:58:887 DEBUG 132028 --- [http-nio-8084-exec-1] com.jndx.api.client.ItemClient           : [ItemClient#deductStock] 
18:13:58:888 DEBUG 132028 --- [http-nio-8084-exec-1] com.jndx.api.client.ItemClient           : [ItemClient#deductStock] {"timestamp":"2024-07-04T10:13:58.859+00:00","status":500,"error":"Internal Server Error","path":"/items/stock/deduct"}
18:13:58:888 DEBUG 132028 --- [http-nio-8084-exec-1] com.jndx.api.client.ItemClient           : [ItemClient#deductStock] <--- END HTTP (119-byte body)
18:13:58:902 ERROR 132028 --- [http-nio-8084-exec-1] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.RuntimeException: 库存不足！] with root cause

java.lang.RuntimeException: 库存不足！
	at com.jndx.trade.service.impl.OrderServiceImpl.createOrder(OrderServiceImpl.java:86) ~[classes/:na]
	at com.jndx.trade.service.impl.OrderServiceImpl$$FastClassBySpringCGLIB$$681a9ea9.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.27.jar:5.3.27]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.27.jar:5.3.27]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708) ~[spring-aop-5.3.27.jar:5.3.27]
	at com.jndx.trade.service.impl.OrderServiceImpl$$EnhancerBySpringCGLIB$$bc2c3839.createOrder(<generated>) ~[classes/:na]
	at com.jndx.trade.controller.OrderController.createOrder(OrderController.java:31) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:555) ~[tomcat-embed-core-9.0.75.jar:4.0.FR]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623) ~[tomcat-embed-core-9.0.75.jar:4.0.FR]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.27.jar:5.3.27]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.27.jar:5.3.27]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.27.jar:5.3.27]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at java.base/java.lang.Thread.run(Thread.java:842) ~[na:na]

18:13:58:915  INFO 132028 --- [nacos-grpc-client-executor-19] com.alibaba.nacos.common.remote.client   : [9ddf258c-e361-45f0-93ac-a763af894f07] Receive server push request, request = NotifySubscriberRequest, requestId = 94
18:13:58:915  INFO 132028 --- [nacos-grpc-client-executor-19] com.alibaba.nacos.common.remote.client   : [9ddf258c-e361-45f0-93ac-a763af894f07] Ack server push request, request = NotifySubscriberRequest, requestId = 94
18:14:21:414 DEBUG 132028 --- [http-nio-8084-exec-2] com.jndx.api.client.ItemClient           : [ItemClient#queryItemByIds] ---> GET http://item-service/items?ids=100001905417 HTTP/1.1
18:14:21:414 DEBUG 132028 --- [http-nio-8084-exec-2] com.jndx.api.client.ItemClient           : [ItemClient#queryItemByIds] user-info: 1
18:14:21:414 DEBUG 132028 --- [http-nio-8084-exec-2] com.jndx.api.client.ItemClient           : [ItemClient#queryItemByIds] ---> END HTTP (0-byte body)
18:14:21:423 DEBUG 132028 --- [http-nio-8084-exec-2] com.jndx.api.client.ItemClient           : [ItemClient#queryItemByIds] <--- HTTP/1.1 200 (8ms)
18:14:21:423 DEBUG 132028 --- [http-nio-8084-exec-2] com.jndx.api.client.ItemClient           : [ItemClient#queryItemByIds] connection: keep-alive
18:14:21:423 DEBUG 132028 --- [http-nio-8084-exec-2] com.jndx.api.client.ItemClient           : [ItemClient#queryItemByIds] content-type: application/json
18:14:21:423 DEBUG 132028 --- [http-nio-8084-exec-2] com.jndx.api.client.ItemClient           : [ItemClient#queryItemByIds] date: Thu, 04 Jul 2024 10:14:21 GMT
18:14:21:423 DEBUG 132028 --- [http-nio-8084-exec-2] com.jndx.api.client.ItemClient           : [ItemClient#queryItemByIds] keep-alive: timeout=60
18:14:21:423 DEBUG 132028 --- [http-nio-8084-exec-2] com.jndx.api.client.ItemClient           : [ItemClient#queryItemByIds] transfer-encoding: chunked
18:14:21:423 DEBUG 132028 --- [http-nio-8084-exec-2] com.jndx.api.client.ItemClient           : [ItemClient#queryItemByIds] 
18:14:21:423 DEBUG 132028 --- [http-nio-8084-exec-2] com.jndx.api.client.ItemClient           : [ItemClient#queryItemByIds] [{"id":100001905417,"name":"【千玺代言】华为新品 HUAWEI nova 4 极点全面屏手机 2000万超广角三摄 8GB+128GB 蜜语红 全网通双卡双待","price":224900,"stock":10000,"image":"https://m.360buyimg.com/mobilecms/s720x720_jfs/t1/20085/14/1076/149604/5c0f8dd2Ebafd3bfd/0cb34a7826cbe1c3.jpg!q70.jpg.webp","category":"手机","brand":"华为","spec":"{\"颜色\": \"红色\"}","sold":0,"commentCount":0,"isAD":false,"status":1}]
18:14:21:423 DEBUG 132028 --- [http-nio-8084-exec-2] com.jndx.api.client.ItemClient           : [ItemClient#queryItemByIds] <--- END HTTP (445-byte body)
18:14:21:424 DEBUG 132028 --- [http-nio-8084-exec-2] c.jndx.trade.mapper.OrderMapper.insert   : ==>  Preparing: INSERT INTO `order` ( id, total_fee, payment_type, user_id, status ) VALUES ( ?, ?, ?, ?, ? )
18:14:21:425 DEBUG 132028 --- [http-nio-8084-exec-2] c.jndx.trade.mapper.OrderMapper.insert   : ==> Parameters: 1808806546841812993(Long), 224900(Integer), 3(Integer), 1(Long), 1(Integer)
18:14:21:426 DEBUG 132028 --- [http-nio-8084-exec-2] c.jndx.trade.mapper.OrderMapper.insert   : <==    Updates: 1
18:14:21:427 DEBUG 132028 --- [http-nio-8084-exec-2] c.j.t.mapper.OrderDetailMapper.insert    : ==>  Preparing: INSERT INTO order_detail ( order_id, item_id, num, name, spec, price, image ) VALUES ( ?, ?, ?, ?, ?, ?, ? )
18:14:21:427 DEBUG 132028 --- [http-nio-8084-exec-2] c.j.t.mapper.OrderDetailMapper.insert    : ==> Parameters: 1808806546841812993(Long), 100001905417(Long), 1(Integer), 【千玺代言】华为新品 HUAWEI nova 4 极点全面屏手机 2000万超广角三摄 8GB+128GB 蜜语红 全网通双卡双待(String), {"颜色": "红色"}(String), 224900(Integer), https://m.360buyimg.com/mobilecms/s720x720_jfs/t1/20085/14/1076/149604/5c0f8dd2Ebafd3bfd/0cb34a7826cbe1c3.jpg!q70.jpg.webp(String)
18:14:21:430 DEBUG 132028 --- [http-nio-8084-exec-2] com.jndx.api.client.CartClient           : [CartClient#removeByItemIds] ---> DELETE http://cart-service/carts?ids=100001905417 HTTP/1.1
18:14:21:430 DEBUG 132028 --- [http-nio-8084-exec-2] com.jndx.api.client.CartClient           : [CartClient#removeByItemIds] user-info: 1
18:14:21:430 DEBUG 132028 --- [http-nio-8084-exec-2] com.jndx.api.client.CartClient           : [CartClient#removeByItemIds] ---> END HTTP (0-byte body)
18:14:21:452 DEBUG 132028 --- [http-nio-8084-exec-2] com.jndx.api.client.CartClient           : [CartClient#removeByItemIds] <--- HTTP/1.1 200 (21ms)
18:14:21:452 DEBUG 132028 --- [http-nio-8084-exec-2] com.jndx.api.client.CartClient           : [CartClient#removeByItemIds] connection: keep-alive
18:14:21:452 DEBUG 132028 --- [http-nio-8084-exec-2] com.jndx.api.client.CartClient           : [CartClient#removeByItemIds] content-length: 0
18:14:21:452 DEBUG 132028 --- [http-nio-8084-exec-2] com.jndx.api.client.CartClient           : [CartClient#removeByItemIds] date: Thu, 04 Jul 2024 10:14:21 GMT
18:14:21:452 DEBUG 132028 --- [http-nio-8084-exec-2] com.jndx.api.client.CartClient           : [CartClient#removeByItemIds] keep-alive: timeout=60
18:14:21:452 DEBUG 132028 --- [http-nio-8084-exec-2] com.jndx.api.client.CartClient           : [CartClient#removeByItemIds] 
18:14:21:452 DEBUG 132028 --- [http-nio-8084-exec-2] com.jndx.api.client.CartClient           : [CartClient#removeByItemIds] <--- END HTTP (0-byte body)
18:14:21:453 DEBUG 132028 --- [http-nio-8084-exec-2] com.jndx.api.client.ItemClient           : [ItemClient#deductStock] ---> PUT http://item-service/items/stock/deduct HTTP/1.1
18:14:21:453 DEBUG 132028 --- [http-nio-8084-exec-2] com.jndx.api.client.ItemClient           : [ItemClient#deductStock] Content-Length: 33
18:14:21:453 DEBUG 132028 --- [http-nio-8084-exec-2] com.jndx.api.client.ItemClient           : [ItemClient#deductStock] Content-Type: application/json
18:14:21:453 DEBUG 132028 --- [http-nio-8084-exec-2] com.jndx.api.client.ItemClient           : [ItemClient#deductStock] user-info: 1
18:14:21:453 DEBUG 132028 --- [http-nio-8084-exec-2] com.jndx.api.client.ItemClient           : [ItemClient#deductStock] 
18:14:21:453 DEBUG 132028 --- [http-nio-8084-exec-2] com.jndx.api.client.ItemClient           : [ItemClient#deductStock] [{"itemId":100001905417,"num":1}]
18:14:21:453 DEBUG 132028 --- [http-nio-8084-exec-2] com.jndx.api.client.ItemClient           : [ItemClient#deductStock] ---> END HTTP (33-byte body)
18:14:21:462 DEBUG 132028 --- [http-nio-8084-exec-2] com.jndx.api.client.ItemClient           : [ItemClient#deductStock] <--- HTTP/1.1 500 (8ms)
18:14:21:462 DEBUG 132028 --- [http-nio-8084-exec-2] com.jndx.api.client.ItemClient           : [ItemClient#deductStock] connection: close
18:14:21:462 DEBUG 132028 --- [http-nio-8084-exec-2] com.jndx.api.client.ItemClient           : [ItemClient#deductStock] content-type: application/json
18:14:21:462 DEBUG 132028 --- [http-nio-8084-exec-2] com.jndx.api.client.ItemClient           : [ItemClient#deductStock] date: Thu, 04 Jul 2024 10:14:21 GMT
18:14:21:462 DEBUG 132028 --- [http-nio-8084-exec-2] com.jndx.api.client.ItemClient           : [ItemClient#deductStock] transfer-encoding: chunked
18:14:21:462 DEBUG 132028 --- [http-nio-8084-exec-2] com.jndx.api.client.ItemClient           : [ItemClient#deductStock] 
18:14:21:462 DEBUG 132028 --- [http-nio-8084-exec-2] com.jndx.api.client.ItemClient           : [ItemClient#deductStock] {"timestamp":"2024-07-04T10:14:21.461+00:00","status":500,"error":"Internal Server Error","path":"/items/stock/deduct"}
18:14:21:462 DEBUG 132028 --- [http-nio-8084-exec-2] com.jndx.api.client.ItemClient           : [ItemClient#deductStock] <--- END HTTP (119-byte body)
18:14:21:465 ERROR 132028 --- [http-nio-8084-exec-2] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.RuntimeException: 库存不足！] with root cause

java.lang.RuntimeException: 库存不足！
	at com.jndx.trade.service.impl.OrderServiceImpl.createOrder(OrderServiceImpl.java:86) ~[classes/:na]
	at com.jndx.trade.service.impl.OrderServiceImpl$$FastClassBySpringCGLIB$$681a9ea9.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.27.jar:5.3.27]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.27.jar:5.3.27]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708) ~[spring-aop-5.3.27.jar:5.3.27]
	at com.jndx.trade.service.impl.OrderServiceImpl$$EnhancerBySpringCGLIB$$bc2c3839.createOrder(<generated>) ~[classes/:na]
	at com.jndx.trade.controller.OrderController.createOrder(OrderController.java:31) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:555) ~[tomcat-embed-core-9.0.75.jar:4.0.FR]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623) ~[tomcat-embed-core-9.0.75.jar:4.0.FR]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.27.jar:5.3.27]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.27.jar:5.3.27]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.27.jar:5.3.27]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at java.base/java.lang.Thread.run(Thread.java:842) ~[na:na]

18:14:35:088  WARN 132028 --- [Thread-4] c.a.nacos.common.notify.NotifyCenter     : [NotifyCenter] Start destroying Publisher
18:14:35:088  WARN 132028 --- [Thread-7] c.a.n.common.http.HttpClientBeanHolder   : [HttpClientBeanHolder] Start destroying common HttpClient
18:14:35:089  WARN 132028 --- [Thread-4] c.a.nacos.common.notify.NotifyCenter     : [NotifyCenter] Destruction of the end
18:14:35:101  WARN 132028 --- [Thread-7] c.a.n.common.http.HttpClientBeanHolder   : [HttpClientBeanHolder] Destruction of the end
18:14:35:222  INFO 132028 --- [SpringApplicationShutdownHook] c.a.c.n.registry.NacosServiceRegistry    : De-registering from Nacos Server now...
18:14:35:224  INFO 132028 --- [SpringApplicationShutdownHook] c.a.c.n.registry.NacosServiceRegistry    : De-registration finished.
18:14:35:539  INFO 132028 --- [SpringApplicationShutdownHook] com.alibaba.nacos.common.remote.client   : Shutdown rpc client, set status to shutdown
18:14:35:539  INFO 132028 --- [SpringApplicationShutdownHook] com.alibaba.nacos.common.remote.client   : Shutdown client event executor java.util.concurrent.ScheduledThreadPoolExecutor@5b87d631[Running, pool size = 2, active threads = 2, queued tasks = 0, completed tasks = 0]
18:14:35:539  INFO 132028 --- [SpringApplicationShutdownHook] com.alibaba.nacos.common.remote.client   : Close current connection 1720088019262_192.168.10.5_7257
18:14:35:540  INFO 132028 --- [nacos-grpc-client-executor-31] c.a.n.c.remote.client.grpc.GrpcClient    : [1720088019262_192.168.10.5_7257]Ignore complete event,isRunning:false,isAbandon=false
18:14:35:572  INFO 132028 --- [SpringApplicationShutdownHook] c.a.n.c.remote.client.grpc.GrpcClient    : Shutdown grpc executor java.util.concurrent.ThreadPoolExecutor@3527404b[Running, pool size = 5, active threads = 0, queued tasks = 0, completed tasks = 32]
18:14:35:576  INFO 132028 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
18:14:35:593  INFO 132028 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
18:14:52:360  INFO 145600 --- [main] com.jndx.trade.TradeApplication          : Starting TradeApplication using Java 17.0.11 on DESKTOP-IJRS560 with PID 145600 (D:\BaiduNetdiskDownload\spring_cloud\day02-Docker\资料\hmall\trade-service\target\classes started by gosling in D:\BaiduNetdiskDownload\spring_cloud\day02-Docker\资料\hmall)
18:14:52:362 DEBUG 145600 --- [main] com.jndx.trade.TradeApplication          : Running with Spring Boot v2.7.12, Spring v5.3.27
18:14:52:363  INFO 145600 --- [main] com.jndx.trade.TradeApplication          : The following 1 profile is active: "local"
18:14:53:146  INFO 145600 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=46787a88-83a1-3bc5-a31a-3618d40b6861
18:14:53:513  INFO 145600 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8084 (http)
18:14:53:514  INFO 145600 --- [main] o.a.catalina.core.AprLifecycleListener   : Loaded Apache Tomcat Native library [1.2.39] using APR version [1.7.4].
18:14:53:514  INFO 145600 --- [main] o.a.catalina.core.AprLifecycleListener   : APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true], UDS [true].
18:14:53:514  INFO 145600 --- [main] o.a.catalina.core.AprLifecycleListener   : APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]
18:14:53:535  INFO 145600 --- [main] o.a.catalina.core.AprLifecycleListener   : OpenSSL successfully initialized [OpenSSL 3.0.11 19 Sep 2023]
18:14:53:544  INFO 145600 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
18:14:53:544  INFO 145600 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.75]
18:14:53:659  INFO 145600 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
18:14:53:659  INFO 145600 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1260 ms
18:14:53:817  INFO 145600 --- [main] o.s.c.openfeign.FeignClientFactoryBean   : For 'item-service' URL not provided. Will try picking an instance via load-balancing.
18:14:54:215  INFO 145600 --- [main] o.s.c.openfeign.FeignClientFactoryBean   : For 'cart-service' URL not provided. Will try picking an instance via load-balancing.
18:14:55:056  INFO 145600 --- [main] pertySourcedRequestMappingHandlerMapping : Mapped URL path [/v2/api-docs] onto method [springfox.documentation.swagger2.web.Swagger2ControllerWebMvc#getDocumentation(String, HttpServletRequest)]
18:14:55:816  INFO 145600 --- [main] com.alibaba.nacos.common.remote.client   : [RpcClientFactory] create a new rpc client of 0f4f9178-09bf-425f-a408-32d401597f58
18:14:55:881  INFO 145600 --- [main] org.reflections.Reflections              : Reflections took 28 ms to scan 1 urls, producing 3 keys and 6 values 
18:14:55:906  INFO 145600 --- [main] org.reflections.Reflections              : Reflections took 7 ms to scan 1 urls, producing 4 keys and 9 values 
18:14:55:915  INFO 145600 --- [main] org.reflections.Reflections              : Reflections took 7 ms to scan 1 urls, producing 3 keys and 10 values 
18:14:55:917  WARN 145600 --- [main] org.reflections.Reflections              : given scan urls are empty. set urls in the configuration
18:14:55:926  INFO 145600 --- [main] org.reflections.Reflections              : Reflections took 9 ms to scan 1 urls, producing 1 keys and 5 values 
18:14:55:936  INFO 145600 --- [main] org.reflections.Reflections              : Reflections took 8 ms to scan 1 urls, producing 1 keys and 7 values 
18:14:55:943  INFO 145600 --- [main] org.reflections.Reflections              : Reflections took 5 ms to scan 1 urls, producing 2 keys and 8 values 
18:14:55:945  WARN 145600 --- [main] org.reflections.Reflections              : given scan urls are empty. set urls in the configuration
18:14:55:946  INFO 145600 --- [main] com.alibaba.nacos.common.remote.client   : [0f4f9178-09bf-425f-a408-32d401597f58] RpcClient init label, labels = {module=naming, source=sdk}
18:14:55:947  INFO 145600 --- [main] com.alibaba.nacos.common.remote.client   : [0f4f9178-09bf-425f-a408-32d401597f58] RpcClient init, ServerListFactory = com.alibaba.nacos.client.naming.core.ServerListManager
18:14:55:947  INFO 145600 --- [main] com.alibaba.nacos.common.remote.client   : [0f4f9178-09bf-425f-a408-32d401597f58] Registry connection listener to current client:com.alibaba.nacos.client.naming.remote.gprc.redo.NamingGrpcRedoService
18:14:55:948  INFO 145600 --- [main] com.alibaba.nacos.common.remote.client   : [0f4f9178-09bf-425f-a408-32d401597f58] Register server push request handler:com.alibaba.nacos.client.naming.remote.gprc.NamingPushRequestHandler
18:14:55:949  INFO 145600 --- [main] com.alibaba.nacos.common.remote.client   : [0f4f9178-09bf-425f-a408-32d401597f58] Try to connect to server on start up, server: {serverIp = '192.168.10.3', server main port = 8848}
18:14:57:428  INFO 145600 --- [main] com.alibaba.nacos.common.remote.client   : [0f4f9178-09bf-425f-a408-32d401597f58] Success to connect to server [192.168.10.3:8848] on start up, connectionId = 1720088097852_192.168.10.5_7361
18:14:57:429  INFO 145600 --- [com.alibaba.nacos.client.remote.worker] com.alibaba.nacos.common.remote.client   : [0f4f9178-09bf-425f-a408-32d401597f58] Notify connected event to listeners.
18:14:57:429  INFO 145600 --- [main] com.alibaba.nacos.common.remote.client   : [0f4f9178-09bf-425f-a408-32d401597f58] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$ConnectResetRequestHandler
18:14:57:429  INFO 145600 --- [main] com.alibaba.nacos.common.remote.client   : [0f4f9178-09bf-425f-a408-32d401597f58] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$$Lambda$984/0x00000220017991e8
18:14:57:468  INFO 145600 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8084 (http) with context path ''
18:14:57:476  INFO 145600 --- [main] c.a.c.n.registry.NacosServiceRegistry    : nacos registry, DEFAULT_GROUP trade-service 192.168.0.101:8084 register finished
18:14:57:965  INFO 145600 --- [nacos-grpc-client-executor-9] com.alibaba.nacos.common.remote.client   : [0f4f9178-09bf-425f-a408-32d401597f58] Receive server push request, request = NotifySubscriberRequest, requestId = 97
18:14:57:967  INFO 145600 --- [nacos-grpc-client-executor-9] com.alibaba.nacos.common.remote.client   : [0f4f9178-09bf-425f-a408-32d401597f58] Ack server push request, request = NotifySubscriberRequest, requestId = 97
18:14:58:003  INFO 145600 --- [main] d.s.w.p.DocumentationPluginsBootstrapper : Documentation plugins bootstrapped
18:14:58:007  INFO 145600 --- [main] d.s.w.p.DocumentationPluginsBootstrapper : Found 1 custom documentation plugin(s)
18:14:58:026  INFO 145600 --- [main] s.d.s.w.s.ApiListingReferenceScanner     : Scanning for api listing references
18:14:58:096  INFO 145600 --- [main] com.jndx.trade.TradeApplication          : Started TradeApplication in 6.802 seconds (JVM running for 18.546)
18:15:22:516  INFO 145600 --- [http-nio-8084-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
18:15:22:516  INFO 145600 --- [http-nio-8084-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
18:15:22:517  INFO 145600 --- [http-nio-8084-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
18:15:22:554  INFO 145600 --- [http-nio-8084-exec-1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
18:15:22:819  INFO 145600 --- [http-nio-8084-exec-1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
18:15:22:832 DEBUG 145600 --- [http-nio-8084-exec-1] com.jndx.api.client.ItemClient           : [ItemClient#queryItemByIds] ---> GET http://item-service/items?ids=2120808 HTTP/1.1
18:15:22:832 DEBUG 145600 --- [http-nio-8084-exec-1] com.jndx.api.client.ItemClient           : [ItemClient#queryItemByIds] user-info: 1
18:15:22:832 DEBUG 145600 --- [http-nio-8084-exec-1] com.jndx.api.client.ItemClient           : [ItemClient#queryItemByIds] ---> END HTTP (0-byte body)
18:15:22:931 DEBUG 145600 --- [http-nio-8084-exec-1] com.jndx.api.client.ItemClient           : [ItemClient#queryItemByIds] <--- HTTP/1.1 200 (97ms)
18:15:22:931 DEBUG 145600 --- [http-nio-8084-exec-1] com.jndx.api.client.ItemClient           : [ItemClient#queryItemByIds] connection: keep-alive
18:15:22:931 DEBUG 145600 --- [http-nio-8084-exec-1] com.jndx.api.client.ItemClient           : [ItemClient#queryItemByIds] content-type: application/json
18:15:22:931 DEBUG 145600 --- [http-nio-8084-exec-1] com.jndx.api.client.ItemClient           : [ItemClient#queryItemByIds] date: Thu, 04 Jul 2024 10:15:22 GMT
18:15:22:932 DEBUG 145600 --- [http-nio-8084-exec-1] com.jndx.api.client.ItemClient           : [ItemClient#queryItemByIds] keep-alive: timeout=60
18:15:22:932 DEBUG 145600 --- [http-nio-8084-exec-1] com.jndx.api.client.ItemClient           : [ItemClient#queryItemByIds] transfer-encoding: chunked
18:15:22:932 DEBUG 145600 --- [http-nio-8084-exec-1] com.jndx.api.client.ItemClient           : [ItemClient#queryItemByIds] 
18:15:22:932 DEBUG 145600 --- [http-nio-8084-exec-1] com.jndx.api.client.ItemClient           : [ItemClient#queryItemByIds] [{"id":2120808,"name":"姬龙雪 guy laroche女包 GL经典手提包女牛皮大容量单肩包女欧美时尚包包女包GS1210001-06杏色","price":71800,"stock":1,"image":"https://m.360buyimg.com/mobilecms/s720x720_jfs/t30694/267/398774087/90954/6fc143cf/5bf25358N14dadbf7.jpg!q70.jpg.webp","category":"真皮包","brand":"姬龙雪","spec":"{}","sold":0,"commentCount":0,"isAD":false,"status":1}]
18:15:22:933 DEBUG 145600 --- [http-nio-8084-exec-1] com.jndx.api.client.ItemClient           : [ItemClient#queryItemByIds] <--- END HTTP (400-byte body)
18:15:22:970 DEBUG 145600 --- [http-nio-8084-exec-1] c.jndx.trade.mapper.OrderMapper.insert   : ==>  Preparing: INSERT INTO `order` ( id, total_fee, payment_type, user_id, status ) VALUES ( ?, ?, ?, ?, ? )
18:15:22:993 DEBUG 145600 --- [http-nio-8084-exec-1] c.jndx.trade.mapper.OrderMapper.insert   : ==> Parameters: 1808806804959272961(Long), 71800(Integer), 3(Integer), 1(Long), 1(Integer)
18:15:22:995 DEBUG 145600 --- [http-nio-8084-exec-1] c.jndx.trade.mapper.OrderMapper.insert   : <==    Updates: 1
18:15:23:002 DEBUG 145600 --- [http-nio-8084-exec-1] c.j.t.mapper.OrderDetailMapper.insert    : ==>  Preparing: INSERT INTO order_detail ( order_id, item_id, num, name, spec, price, image ) VALUES ( ?, ?, ?, ?, ?, ?, ? )
18:15:23:002 DEBUG 145600 --- [http-nio-8084-exec-1] c.j.t.mapper.OrderDetailMapper.insert    : ==> Parameters: 1808806804959272961(Long), 2120808(Long), 1(Integer), 姬龙雪 guy laroche女包 GL经典手提包女牛皮大容量单肩包女欧美时尚包包女包GS1210001-06杏色(String), {}(String), 71800(Integer), https://m.360buyimg.com/mobilecms/s720x720_jfs/t30694/267/398774087/90954/6fc143cf/5bf25358N14dadbf7.jpg!q70.jpg.webp(String)
18:15:23:014 DEBUG 145600 --- [http-nio-8084-exec-1] com.jndx.api.client.CartClient           : [CartClient#removeByItemIds] ---> DELETE http://cart-service/carts?ids=2120808 HTTP/1.1
18:15:23:015 DEBUG 145600 --- [http-nio-8084-exec-1] com.jndx.api.client.CartClient           : [CartClient#removeByItemIds] user-info: 1
18:15:23:015 DEBUG 145600 --- [http-nio-8084-exec-1] com.jndx.api.client.CartClient           : [CartClient#removeByItemIds] ---> END HTTP (0-byte body)
18:15:23:036 DEBUG 145600 --- [http-nio-8084-exec-1] com.jndx.api.client.CartClient           : [CartClient#removeByItemIds] <--- HTTP/1.1 200 (21ms)
18:15:23:036 DEBUG 145600 --- [http-nio-8084-exec-1] com.jndx.api.client.CartClient           : [CartClient#removeByItemIds] connection: keep-alive
18:15:23:036 DEBUG 145600 --- [http-nio-8084-exec-1] com.jndx.api.client.CartClient           : [CartClient#removeByItemIds] content-length: 0
18:15:23:036 DEBUG 145600 --- [http-nio-8084-exec-1] com.jndx.api.client.CartClient           : [CartClient#removeByItemIds] date: Thu, 04 Jul 2024 10:15:23 GMT
18:15:23:036 DEBUG 145600 --- [http-nio-8084-exec-1] com.jndx.api.client.CartClient           : [CartClient#removeByItemIds] keep-alive: timeout=60
18:15:23:037 DEBUG 145600 --- [http-nio-8084-exec-1] com.jndx.api.client.CartClient           : [CartClient#removeByItemIds] 
18:15:23:037 DEBUG 145600 --- [http-nio-8084-exec-1] com.jndx.api.client.CartClient           : [CartClient#removeByItemIds] <--- END HTTP (0-byte body)
18:16:47:348  WARN 145600 --- [HikariPool-1 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=1m24s427ms809µs300ns).
18:16:50:204  INFO 145600 --- [nacos-grpc-client-executor-18] com.alibaba.nacos.common.remote.client   : [0f4f9178-09bf-425f-a408-32d401597f58] Receive server push request, request = NotifySubscriberRequest, requestId = 98
18:16:50:233  INFO 145600 --- [nacos-grpc-client-executor-18] com.alibaba.nacos.common.remote.client   : [0f4f9178-09bf-425f-a408-32d401597f58] Ack server push request, request = NotifySubscriberRequest, requestId = 98
18:16:56:176 ERROR 145600 --- [com.alibaba.nacos.client.naming.updater.2] com.alibaba.nacos.common.remote.client   : Send request fail, request = ServiceQueryRequest{headers={}, requestId='null'}, retryTimes = 0, errorMessage = java.util.concurrent.TimeoutException: Waited 3000 milliseconds (plus 4638 milliseconds, 543800 nanoseconds delay) for com.alibaba.nacos.shaded.io.grpc.stub.ClientCalls$GrpcFuture@67b93f3c[status=PENDING, info=[GrpcFuture{clientCall={delegate={delegate=ClientCallImpl{method=MethodDescriptor{fullMethodName=Request/request, type=UNARY, idempotent=false, safe=false, sampledToLocalTracing=true, requestMarshaller=com.alibaba.nacos.shaded.io.grpc.protobuf.lite.ProtoLiteUtils$MessageMarshaller@1aa55f01, responseMarshaller=com.alibaba.nacos.shaded.io.grpc.protobuf.lite.ProtoLiteUtils$MessageMarshaller@1577a14b, schemaDescriptor=com.alibaba.nacos.api.grpc.auto.RequestGrpc$RequestMethodDescriptorSupplier@b285db8}}}}}]]
18:16:56:175  INFO 145600 --- [com.alibaba.nacos.client.remote.worker] com.alibaba.nacos.common.remote.client   : [0f4f9178-09bf-425f-a408-32d401597f58] Server healthy check fail, currentConnection = 1720088097852_192.168.10.5_7361
18:16:56:183 ERROR 145600 --- [com.alibaba.nacos.client.naming.updater.1] com.alibaba.nacos.common.remote.client   : Send request fail, request = ServiceQueryRequest{headers={}, requestId='null'}, retryTimes = 0, errorMessage = java.util.concurrent.TimeoutException: Waited 3000 milliseconds (plus 4638 milliseconds, 936500 nanoseconds delay) for com.alibaba.nacos.shaded.io.grpc.stub.ClientCalls$GrpcFuture@112d06ff[status=PENDING, info=[GrpcFuture{clientCall={delegate={delegate=ClientCallImpl{method=MethodDescriptor{fullMethodName=Request/request, type=UNARY, idempotent=false, safe=false, sampledToLocalTracing=true, requestMarshaller=com.alibaba.nacos.shaded.io.grpc.protobuf.lite.ProtoLiteUtils$MessageMarshaller@1aa55f01, responseMarshaller=com.alibaba.nacos.shaded.io.grpc.protobuf.lite.ProtoLiteUtils$MessageMarshaller@1577a14b, schemaDescriptor=com.alibaba.nacos.api.grpc.auto.RequestGrpc$RequestMethodDescriptorSupplier@b285db8}}}}}]]
18:16:56:184 ERROR 145600 --- [com.alibaba.nacos.client.naming.updater.0] com.alibaba.nacos.common.remote.client   : Send request fail, request = ServiceQueryRequest{headers={}, requestId='null'}, retryTimes = 0, errorMessage = java.util.concurrent.TimeoutException: Waited 3000 milliseconds (plus 4639 milliseconds, 340400 nanoseconds delay) for com.alibaba.nacos.shaded.io.grpc.stub.ClientCalls$GrpcFuture@6758dec[status=PENDING, info=[GrpcFuture{clientCall={delegate={delegate=ClientCallImpl{method=MethodDescriptor{fullMethodName=Request/request, type=UNARY, idempotent=false, safe=false, sampledToLocalTracing=true, requestMarshaller=com.alibaba.nacos.shaded.io.grpc.protobuf.lite.ProtoLiteUtils$MessageMarshaller@1aa55f01, responseMarshaller=com.alibaba.nacos.shaded.io.grpc.protobuf.lite.ProtoLiteUtils$MessageMarshaller@1577a14b, schemaDescriptor=com.alibaba.nacos.api.grpc.auto.RequestGrpc$RequestMethodDescriptorSupplier@b285db8}}}}}]]
18:16:56:185  INFO 145600 --- [com.alibaba.nacos.client.remote.worker] com.alibaba.nacos.common.remote.client   : [0f4f9178-09bf-425f-a408-32d401597f58] Try to reconnect to a new server, server is  not appointed, will choose a random server.
18:17:00:989 ERROR 145600 --- [com.alibaba.nacos.client.remote.worker] c.a.n.c.remote.client.grpc.GrpcClient    : Server check fail, please check server 192.168.10.3 ,port 9848 is available , error ={}

java.util.concurrent.TimeoutException: Waited 3000 milliseconds (plus 817 milliseconds, 82500 nanoseconds delay) for com.alibaba.nacos.shaded.io.grpc.stub.ClientCalls$GrpcFuture@5d5f9b5b[status=PENDING, info=[GrpcFuture{clientCall={delegate={delegate=ClientCallImpl{method=MethodDescriptor{fullMethodName=Request/request, type=UNARY, idempotent=false, safe=false, sampledToLocalTracing=true, requestMarshaller=com.alibaba.nacos.shaded.io.grpc.protobuf.lite.ProtoLiteUtils$MessageMarshaller@1aa55f01, responseMarshaller=com.alibaba.nacos.shaded.io.grpc.protobuf.lite.ProtoLiteUtils$MessageMarshaller@1577a14b, schemaDescriptor=com.alibaba.nacos.api.grpc.auto.RequestGrpc$RequestMethodDescriptorSupplier@b285db8}}}}}]]
	at com.alibaba.nacos.shaded.com.google.common.util.concurrent.AbstractFuture.get(AbstractFuture.java:508) ~[nacos-client-2.0.4.jar:na]
	at com.alibaba.nacos.common.remote.client.grpc.GrpcClient.serverCheck(GrpcClient.java:148) ~[nacos-client-2.0.4.jar:na]
	at com.alibaba.nacos.common.remote.client.grpc.GrpcClient.connectToServer(GrpcClient.java:264) ~[nacos-client-2.0.4.jar:na]
	at com.alibaba.nacos.common.remote.client.RpcClient.reconnect(RpcClient.java:522) ~[nacos-client-2.0.4.jar:na]
	at com.alibaba.nacos.common.remote.client.RpcClient.lambda$start$2(RpcClient.java:370) ~[nacos-client-2.0.4.jar:na]
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539) ~[na:na]
	at java.base/java.util.concurrent.FutureTask.run$$$capture(FutureTask.java:264) ~[na:na]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java) ~[na:na]
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:842) ~[na:na]

18:17:02:215 ERROR 145600 --- [com.alibaba.nacos.client.naming.updater.2] com.alibaba.nacos.common.remote.client   : Send request fail, request = ServiceQueryRequest{headers={app=unknown}, requestId='null'}, retryTimes = 0, errorMessage = Client not connected, current status:UNHEALTHY
18:17:02:215 ERROR 145600 --- [com.alibaba.nacos.client.naming.updater.0] com.alibaba.nacos.common.remote.client   : Send request fail, request = ServiceQueryRequest{headers={app=unknown}, requestId='null'}, retryTimes = 0, errorMessage = Client not connected, current status:UNHEALTHY
18:17:02:215 ERROR 145600 --- [com.alibaba.nacos.client.naming.updater.1] com.alibaba.nacos.common.remote.client   : Send request fail, request = ServiceQueryRequest{headers={app=unknown}, requestId='null'}, retryTimes = 0, errorMessage = Client not connected, current status:UNHEALTHY
18:17:02:218  INFO 145600 --- [nacos-grpc-client-executor-24] com.alibaba.nacos.common.remote.client   : [0f4f9178-09bf-425f-a408-32d401597f58] Receive server push request, request = NotifySubscriberRequest, requestId = 99
18:17:02:219  INFO 145600 --- [nacos-grpc-client-executor-24] com.alibaba.nacos.common.remote.client   : [0f4f9178-09bf-425f-a408-32d401597f58] Ack server push request, request = NotifySubscriberRequest, requestId = 99
18:17:02:627 ERROR 145600 --- [com.alibaba.nacos.client.naming.updater.0] com.alibaba.nacos.common.remote.client   : Send request fail, request = ServiceQueryRequest{headers={app=unknown}, requestId='null'}, retryTimes = 1, errorMessage = Client not connected, current status:UNHEALTHY
18:17:02:627 ERROR 145600 --- [com.alibaba.nacos.client.naming.updater.2] com.alibaba.nacos.common.remote.client   : Send request fail, request = ServiceQueryRequest{headers={app=unknown}, requestId='null'}, retryTimes = 1, errorMessage = Client not connected, current status:UNHEALTHY
18:17:02:627 ERROR 145600 --- [com.alibaba.nacos.client.naming.updater.1] com.alibaba.nacos.common.remote.client   : Send request fail, request = ServiceQueryRequest{headers={app=unknown}, requestId='null'}, retryTimes = 1, errorMessage = Client not connected, current status:UNHEALTHY
18:17:02:642  INFO 145600 --- [nacos-grpc-client-executor-28] com.alibaba.nacos.common.remote.client   : [0f4f9178-09bf-425f-a408-32d401597f58] Receive server push request, request = NotifySubscriberRequest, requestId = 100
18:17:02:645  INFO 145600 --- [nacos-grpc-client-executor-28] com.alibaba.nacos.common.remote.client   : [0f4f9178-09bf-425f-a408-32d401597f58] Ack server push request, request = NotifySubscriberRequest, requestId = 100
18:17:02:653  INFO 145600 --- [nacos-grpc-client-executor-29] com.alibaba.nacos.common.remote.client   : [0f4f9178-09bf-425f-a408-32d401597f58] Receive server push request, request = NotifySubscriberRequest, requestId = 101
18:17:02:653  INFO 145600 --- [nacos-grpc-client-executor-29] com.alibaba.nacos.common.remote.client   : [0f4f9178-09bf-425f-a408-32d401597f58] Ack server push request, request = NotifySubscriberRequest, requestId = 101
18:17:02:661  INFO 145600 --- [nacos-grpc-client-executor-30] com.alibaba.nacos.common.remote.client   : [0f4f9178-09bf-425f-a408-32d401597f58] Receive server push request, request = NotifySubscriberRequest, requestId = 102
18:17:02:661  INFO 145600 --- [nacos-grpc-client-executor-30] com.alibaba.nacos.common.remote.client   : [0f4f9178-09bf-425f-a408-32d401597f58] Ack server push request, request = NotifySubscriberRequest, requestId = 102
18:17:02:669  INFO 145600 --- [nacos-grpc-client-executor-31] com.alibaba.nacos.common.remote.client   : [0f4f9178-09bf-425f-a408-32d401597f58] Receive server push request, request = NotifySubscriberRequest, requestId = 103
18:17:02:670  INFO 145600 --- [nacos-grpc-client-executor-31] com.alibaba.nacos.common.remote.client   : [0f4f9178-09bf-425f-a408-32d401597f58] Ack server push request, request = NotifySubscriberRequest, requestId = 103
18:17:02:678  INFO 145600 --- [nacos-grpc-client-executor-32] com.alibaba.nacos.common.remote.client   : [0f4f9178-09bf-425f-a408-32d401597f58] Receive server push request, request = NotifySubscriberRequest, requestId = 104
18:17:02:678  INFO 145600 --- [nacos-grpc-client-executor-32] com.alibaba.nacos.common.remote.client   : [0f4f9178-09bf-425f-a408-32d401597f58] Ack server push request, request = NotifySubscriberRequest, requestId = 104
18:17:02:679 DEBUG 145600 --- [http-nio-8084-exec-1] com.jndx.api.client.ItemClient           : [ItemClient#deductStock] ---> PUT http://item-service/items/stock/deduct HTTP/1.1
18:17:02:680 DEBUG 145600 --- [http-nio-8084-exec-1] com.jndx.api.client.ItemClient           : [ItemClient#deductStock] Content-Length: 28
18:17:02:680 DEBUG 145600 --- [http-nio-8084-exec-1] com.jndx.api.client.ItemClient           : [ItemClient#deductStock] Content-Type: application/json
18:17:02:681 DEBUG 145600 --- [http-nio-8084-exec-1] com.jndx.api.client.ItemClient           : [ItemClient#deductStock] user-info: 1
18:17:02:681 DEBUG 145600 --- [http-nio-8084-exec-1] com.jndx.api.client.ItemClient           : [ItemClient#deductStock] 
18:17:02:682 DEBUG 145600 --- [http-nio-8084-exec-1] com.jndx.api.client.ItemClient           : [ItemClient#deductStock] [{"itemId":2120808,"num":1}]
18:17:02:682 DEBUG 145600 --- [http-nio-8084-exec-1] com.jndx.api.client.ItemClient           : [ItemClient#deductStock] ---> END HTTP (28-byte body)
18:17:02:686  INFO 145600 --- [nacos-grpc-client-executor-33] com.alibaba.nacos.common.remote.client   : [0f4f9178-09bf-425f-a408-32d401597f58] Receive server push request, request = NotifySubscriberRequest, requestId = 105
18:17:02:686  INFO 145600 --- [nacos-grpc-client-executor-33] com.alibaba.nacos.common.remote.client   : [0f4f9178-09bf-425f-a408-32d401597f58] Ack server push request, request = NotifySubscriberRequest, requestId = 105
18:17:02:695  INFO 145600 --- [nacos-grpc-client-executor-34] com.alibaba.nacos.common.remote.client   : [0f4f9178-09bf-425f-a408-32d401597f58] Receive server push request, request = ClientDetectionRequest, requestId = 106
18:17:02:695  INFO 145600 --- [nacos-grpc-client-executor-34] com.alibaba.nacos.common.remote.client   : [0f4f9178-09bf-425f-a408-32d401597f58] Ack server push request, request = ClientDetectionRequest, requestId = 106
18:17:02:702  INFO 145600 --- [nacos-grpc-client-executor-34] c.a.n.c.remote.client.grpc.GrpcClient    : [1720088097852_192.168.10.5_7361]Ignore complete event,isRunning:false,isAbandon=false
18:17:02:729 ERROR 145600 --- [com.alibaba.nacos.client.naming.updater.0] com.alibaba.nacos.common.remote.client   : Send request fail, request = ServiceQueryRequest{headers={app=unknown}, requestId='null'}, retryTimes = 2, errorMessage = Client not connected, current status:UNHEALTHY
18:17:02:729 ERROR 145600 --- [com.alibaba.nacos.client.naming.updater.1] com.alibaba.nacos.common.remote.client   : Send request fail, request = ServiceQueryRequest{headers={app=unknown}, requestId='null'}, retryTimes = 2, errorMessage = Client not connected, current status:UNHEALTHY
18:17:02:730 ERROR 145600 --- [com.alibaba.nacos.client.naming.updater.2] com.alibaba.nacos.common.remote.client   : Send request fail, request = ServiceQueryRequest{headers={app=unknown}, requestId='null'}, retryTimes = 2, errorMessage = Client not connected, current status:UNHEALTHY
18:17:02:737 DEBUG 145600 --- [http-nio-8084-exec-1] com.jndx.api.client.ItemClient           : [ItemClient#deductStock] <--- HTTP/1.1 500 (54ms)
18:17:02:738 DEBUG 145600 --- [http-nio-8084-exec-1] com.jndx.api.client.ItemClient           : [ItemClient#deductStock] connection: close
18:17:02:738 DEBUG 145600 --- [http-nio-8084-exec-1] com.jndx.api.client.ItemClient           : [ItemClient#deductStock] content-type: application/json
18:17:02:738 DEBUG 145600 --- [http-nio-8084-exec-1] com.jndx.api.client.ItemClient           : [ItemClient#deductStock] date: Thu, 04 Jul 2024 10:17:02 GMT
18:17:02:739 DEBUG 145600 --- [http-nio-8084-exec-1] com.jndx.api.client.ItemClient           : [ItemClient#deductStock] transfer-encoding: chunked
18:17:02:739 DEBUG 145600 --- [http-nio-8084-exec-1] com.jndx.api.client.ItemClient           : [ItemClient#deductStock] 
18:17:02:740 DEBUG 145600 --- [http-nio-8084-exec-1] com.jndx.api.client.ItemClient           : [ItemClient#deductStock] {"timestamp":"2024-07-04T10:17:02.732+00:00","status":500,"error":"Internal Server Error","path":"/items/stock/deduct"}
18:17:02:740 DEBUG 145600 --- [http-nio-8084-exec-1] com.jndx.api.client.ItemClient           : [ItemClient#deductStock] <--- END HTTP (119-byte body)
18:17:19:985  INFO 145600 --- [com.alibaba.nacos.client.remote.worker] com.alibaba.nacos.common.remote.client   : [0f4f9178-09bf-425f-a408-32d401597f58] Success to connect a server [192.168.10.3:8848], connectionId = 1720088223379_192.168.10.5_7458
18:17:19:985  INFO 145600 --- [com.alibaba.nacos.client.remote.worker] com.alibaba.nacos.common.remote.client   : [0f4f9178-09bf-425f-a408-32d401597f58] Abandon prev connection, server is 192.168.10.3:8848, connectionId is 1720088097852_192.168.10.5_7361
18:17:19:985  INFO 145600 --- [com.alibaba.nacos.client.remote.worker] com.alibaba.nacos.common.remote.client   : Close current connection 1720088097852_192.168.10.5_7361
18:17:19:986  INFO 145600 --- [com.alibaba.nacos.client.remote.worker] com.alibaba.nacos.common.remote.client   : [0f4f9178-09bf-425f-a408-32d401597f58] Notify disconnected event to listeners
18:17:19:989  INFO 145600 --- [com.alibaba.nacos.client.remote.worker] com.alibaba.nacos.common.remote.client   : [0f4f9178-09bf-425f-a408-32d401597f58] Server check success, currentServer is 192.168.10.3:8848 
18:17:19:990  INFO 145600 --- [com.alibaba.nacos.client.remote.worker] com.alibaba.nacos.common.remote.client   : [0f4f9178-09bf-425f-a408-32d401597f58] Notify connected event to listeners.
18:17:20:001 ERROR 145600 --- [http-nio-8084-exec-1] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.RuntimeException: 库存不足！] with root cause

java.lang.RuntimeException: 库存不足！
	at com.jndx.trade.service.impl.OrderServiceImpl.createOrder(OrderServiceImpl.java:86) ~[classes/:na]
	at com.jndx.trade.service.impl.OrderServiceImpl$$FastClassBySpringCGLIB$$681a9ea9.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.27.jar:5.3.27]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.27.jar:5.3.27]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708) ~[spring-aop-5.3.27.jar:5.3.27]
	at com.jndx.trade.service.impl.OrderServiceImpl$$EnhancerBySpringCGLIB$$42731e4c.createOrder(<generated>) ~[classes/:na]
	at com.jndx.trade.controller.OrderController.createOrder(OrderController.java:31) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:555) ~[tomcat-embed-core-9.0.75.jar:4.0.FR]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623) ~[tomcat-embed-core-9.0.75.jar:4.0.FR]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.27.jar:5.3.27]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.27.jar:5.3.27]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.27.jar:5.3.27]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at java.base/java.lang.Thread.run(Thread.java:842) ~[na:na]

18:17:20:065  WARN 145600 --- [Thread-4] c.a.nacos.common.notify.NotifyCenter     : [NotifyCenter] Start destroying Publisher
18:17:20:065  WARN 145600 --- [Thread-7] c.a.n.common.http.HttpClientBeanHolder   : [HttpClientBeanHolder] Start destroying common HttpClient
18:17:20:065  WARN 145600 --- [Thread-4] c.a.nacos.common.notify.NotifyCenter     : [NotifyCenter] Destruction of the end
18:17:20:066  WARN 145600 --- [Thread-7] c.a.n.common.http.HttpClientBeanHolder   : [HttpClientBeanHolder] Destruction of the end
18:17:20:087 ERROR 145600 --- [com.alibaba.nacos.client.naming.updater.6] com.alibaba.nacos.common.remote.client   : Send request fail, request = ServiceQueryRequest{headers={app=unknown}, requestId='null'}, retryTimes = 0, errorMessage = Client not connected, current status:UNHEALTHY
18:17:20:087 ERROR 145600 --- [com.alibaba.nacos.client.naming.updater.4] com.alibaba.nacos.common.remote.client   : Send request fail, request = ServiceQueryRequest{headers={app=unknown}, requestId='null'}, retryTimes = 0, errorMessage = Client not connected, current status:UNHEALTHY
18:17:20:087 ERROR 145600 --- [com.alibaba.nacos.client.naming.updater.3] com.alibaba.nacos.common.remote.client   : Send request fail, request = ServiceQueryRequest{headers={app=unknown}, requestId='null'}, retryTimes = 0, errorMessage = Client not connected, current status:UNHEALTHY
18:17:20:124  INFO 145600 --- [SpringApplicationShutdownHook] c.a.c.n.registry.NacosServiceRegistry    : De-registering from Nacos Server now...
18:17:20:126  INFO 145600 --- [SpringApplicationShutdownHook] c.a.c.n.registry.NacosServiceRegistry    : De-registration finished.
18:17:20:430  INFO 145600 --- [SpringApplicationShutdownHook] com.alibaba.nacos.common.remote.client   : Shutdown rpc client, set status to shutdown
18:17:20:431  INFO 145600 --- [SpringApplicationShutdownHook] com.alibaba.nacos.common.remote.client   : Shutdown client event executor java.util.concurrent.ScheduledThreadPoolExecutor@7e6905c6[Running, pool size = 2, active threads = 2, queued tasks = 0, completed tasks = 0]
18:17:20:431  INFO 145600 --- [SpringApplicationShutdownHook] com.alibaba.nacos.common.remote.client   : Close current connection 1720088223379_192.168.10.5_7458
18:17:20:433  INFO 145600 --- [SpringApplicationShutdownHook] c.a.n.c.remote.client.grpc.GrpcClient    : Shutdown grpc executor java.util.concurrent.ThreadPoolExecutor@4f13dd06[Running, pool size = 9, active threads = 0, queued tasks = 0, completed tasks = 47]
18:17:20:437  INFO 145600 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
18:17:20:470  INFO 145600 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
18:17:25:665  INFO 149860 --- [main] com.jndx.trade.TradeApplication          : Starting TradeApplication using Java 17.0.11 on DESKTOP-IJRS560 with PID 149860 (D:\BaiduNetdiskDownload\spring_cloud\day02-Docker\资料\hmall\trade-service\target\classes started by gosling in D:\BaiduNetdiskDownload\spring_cloud\day02-Docker\资料\hmall)
18:17:25:667 DEBUG 149860 --- [main] com.jndx.trade.TradeApplication          : Running with Spring Boot v2.7.12, Spring v5.3.27
18:17:25:667  INFO 149860 --- [main] com.jndx.trade.TradeApplication          : The following 1 profile is active: "local"
18:17:26:358  INFO 149860 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=46787a88-83a1-3bc5-a31a-3618d40b6861
18:17:26:692  INFO 149860 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8084 (http)
18:17:26:692  INFO 149860 --- [main] o.a.catalina.core.AprLifecycleListener   : Loaded Apache Tomcat Native library [1.2.39] using APR version [1.7.4].
18:17:26:692  INFO 149860 --- [main] o.a.catalina.core.AprLifecycleListener   : APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true], UDS [true].
18:17:26:692  INFO 149860 --- [main] o.a.catalina.core.AprLifecycleListener   : APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]
18:17:26:718  INFO 149860 --- [main] o.a.catalina.core.AprLifecycleListener   : OpenSSL successfully initialized [OpenSSL 3.0.11 19 Sep 2023]
18:17:26:726  INFO 149860 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
18:17:26:726  INFO 149860 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.75]
18:17:26:832  INFO 149860 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
18:17:26:833  INFO 149860 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1135 ms
18:17:26:977  INFO 149860 --- [main] o.s.c.openfeign.FeignClientFactoryBean   : For 'item-service' URL not provided. Will try picking an instance via load-balancing.
18:17:27:322  INFO 149860 --- [main] o.s.c.openfeign.FeignClientFactoryBean   : For 'cart-service' URL not provided. Will try picking an instance via load-balancing.
18:17:28:137  INFO 149860 --- [main] pertySourcedRequestMappingHandlerMapping : Mapped URL path [/v2/api-docs] onto method [springfox.documentation.swagger2.web.Swagger2ControllerWebMvc#getDocumentation(String, HttpServletRequest)]
18:17:28:913  INFO 149860 --- [main] com.alibaba.nacos.common.remote.client   : [RpcClientFactory] create a new rpc client of f37788fb-f659-4044-9662-fc9c7be83966
18:17:28:958  INFO 149860 --- [main] org.reflections.Reflections              : Reflections took 21 ms to scan 1 urls, producing 3 keys and 6 values 
18:17:28:978  INFO 149860 --- [main] org.reflections.Reflections              : Reflections took 6 ms to scan 1 urls, producing 4 keys and 9 values 
18:17:28:985  INFO 149860 --- [main] org.reflections.Reflections              : Reflections took 5 ms to scan 1 urls, producing 3 keys and 10 values 
18:17:28:986  WARN 149860 --- [main] org.reflections.Reflections              : given scan urls are empty. set urls in the configuration
18:17:28:993  INFO 149860 --- [main] org.reflections.Reflections              : Reflections took 5 ms to scan 1 urls, producing 1 keys and 5 values 
18:17:28:999  INFO 149860 --- [main] org.reflections.Reflections              : Reflections took 5 ms to scan 1 urls, producing 1 keys and 7 values 
18:17:29:006  INFO 149860 --- [main] org.reflections.Reflections              : Reflections took 6 ms to scan 1 urls, producing 2 keys and 8 values 
18:17:29:008  WARN 149860 --- [main] org.reflections.Reflections              : given scan urls are empty. set urls in the configuration
18:17:29:008  INFO 149860 --- [main] com.alibaba.nacos.common.remote.client   : [f37788fb-f659-4044-9662-fc9c7be83966] RpcClient init label, labels = {module=naming, source=sdk}
18:17:29:010  INFO 149860 --- [main] com.alibaba.nacos.common.remote.client   : [f37788fb-f659-4044-9662-fc9c7be83966] RpcClient init, ServerListFactory = com.alibaba.nacos.client.naming.core.ServerListManager
18:17:29:010  INFO 149860 --- [main] com.alibaba.nacos.common.remote.client   : [f37788fb-f659-4044-9662-fc9c7be83966] Registry connection listener to current client:com.alibaba.nacos.client.naming.remote.gprc.redo.NamingGrpcRedoService
18:17:29:010  INFO 149860 --- [main] com.alibaba.nacos.common.remote.client   : [f37788fb-f659-4044-9662-fc9c7be83966] Register server push request handler:com.alibaba.nacos.client.naming.remote.gprc.NamingPushRequestHandler
18:17:29:011  INFO 149860 --- [main] com.alibaba.nacos.common.remote.client   : [f37788fb-f659-4044-9662-fc9c7be83966] Try to connect to server on start up, server: {serverIp = '192.168.10.3', server main port = 8848}
18:17:30:429  INFO 149860 --- [main] com.alibaba.nacos.common.remote.client   : [f37788fb-f659-4044-9662-fc9c7be83966] Success to connect to server [192.168.10.3:8848] on start up, connectionId = 1720088250870_192.168.10.5_7474
18:17:30:433  INFO 149860 --- [com.alibaba.nacos.client.remote.worker] com.alibaba.nacos.common.remote.client   : [f37788fb-f659-4044-9662-fc9c7be83966] Notify connected event to listeners.
18:17:30:434  INFO 149860 --- [main] com.alibaba.nacos.common.remote.client   : [f37788fb-f659-4044-9662-fc9c7be83966] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$ConnectResetRequestHandler
18:17:30:434  INFO 149860 --- [main] com.alibaba.nacos.common.remote.client   : [f37788fb-f659-4044-9662-fc9c7be83966] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$$Lambda$984/0x0000012f01793928
18:17:30:502  INFO 149860 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8084 (http) with context path ''
18:17:30:522  INFO 149860 --- [main] c.a.c.n.registry.NacosServiceRegistry    : nacos registry, DEFAULT_GROUP trade-service 192.168.0.101:8084 register finished
18:17:30:996  INFO 149860 --- [nacos-grpc-client-executor-9] com.alibaba.nacos.common.remote.client   : [f37788fb-f659-4044-9662-fc9c7be83966] Receive server push request, request = NotifySubscriberRequest, requestId = 109
18:17:30:998  INFO 149860 --- [nacos-grpc-client-executor-9] com.alibaba.nacos.common.remote.client   : [f37788fb-f659-4044-9662-fc9c7be83966] Ack server push request, request = NotifySubscriberRequest, requestId = 109
18:17:31:163  INFO 149860 --- [main] d.s.w.p.DocumentationPluginsBootstrapper : Documentation plugins bootstrapped
18:17:31:166  INFO 149860 --- [main] d.s.w.p.DocumentationPluginsBootstrapper : Found 1 custom documentation plugin(s)
18:17:31:184  INFO 149860 --- [main] s.d.s.w.s.ApiListingReferenceScanner     : Scanning for api listing references
18:17:31:267  INFO 149860 --- [main] com.jndx.trade.TradeApplication          : Started TradeApplication in 6.503 seconds (JVM running for 7.23)
18:17:39:958  INFO 149860 --- [http-nio-8084-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
18:17:39:958  INFO 149860 --- [http-nio-8084-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
18:17:39:959  INFO 149860 --- [http-nio-8084-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
18:17:39:997  INFO 149860 --- [http-nio-8084-exec-2] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
18:17:40:278  INFO 149860 --- [http-nio-8084-exec-2] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
18:17:40:292 DEBUG 149860 --- [http-nio-8084-exec-2] com.jndx.api.client.ItemClient           : [ItemClient#queryItemByIds] ---> GET http://item-service/items?ids=100001905417 HTTP/1.1
18:17:40:292 DEBUG 149860 --- [http-nio-8084-exec-2] com.jndx.api.client.ItemClient           : [ItemClient#queryItemByIds] user-info: 1
18:17:40:292 DEBUG 149860 --- [http-nio-8084-exec-2] com.jndx.api.client.ItemClient           : [ItemClient#queryItemByIds] ---> END HTTP (0-byte body)
18:17:40:387 DEBUG 149860 --- [http-nio-8084-exec-2] com.jndx.api.client.ItemClient           : [ItemClient#queryItemByIds] <--- HTTP/1.1 200 (93ms)
18:17:40:387 DEBUG 149860 --- [http-nio-8084-exec-2] com.jndx.api.client.ItemClient           : [ItemClient#queryItemByIds] connection: keep-alive
18:17:40:387 DEBUG 149860 --- [http-nio-8084-exec-2] com.jndx.api.client.ItemClient           : [ItemClient#queryItemByIds] content-type: application/json
18:17:40:387 DEBUG 149860 --- [http-nio-8084-exec-2] com.jndx.api.client.ItemClient           : [ItemClient#queryItemByIds] date: Thu, 04 Jul 2024 10:17:40 GMT
18:17:40:387 DEBUG 149860 --- [http-nio-8084-exec-2] com.jndx.api.client.ItemClient           : [ItemClient#queryItemByIds] keep-alive: timeout=60
18:17:40:387 DEBUG 149860 --- [http-nio-8084-exec-2] com.jndx.api.client.ItemClient           : [ItemClient#queryItemByIds] transfer-encoding: chunked
18:17:40:387 DEBUG 149860 --- [http-nio-8084-exec-2] com.jndx.api.client.ItemClient           : [ItemClient#queryItemByIds] 
18:17:40:388 DEBUG 149860 --- [http-nio-8084-exec-2] com.jndx.api.client.ItemClient           : [ItemClient#queryItemByIds] [{"id":100001905417,"name":"【千玺代言】华为新品 HUAWEI nova 4 极点全面屏手机 2000万超广角三摄 8GB+128GB 蜜语红 全网通双卡双待","price":224900,"stock":10000,"image":"https://m.360buyimg.com/mobilecms/s720x720_jfs/t1/20085/14/1076/149604/5c0f8dd2Ebafd3bfd/0cb34a7826cbe1c3.jpg!q70.jpg.webp","category":"手机","brand":"华为","spec":"{\"颜色\": \"红色\"}","sold":0,"commentCount":0,"isAD":false,"status":1}]
18:17:40:388 DEBUG 149860 --- [http-nio-8084-exec-2] com.jndx.api.client.ItemClient           : [ItemClient#queryItemByIds] <--- END HTTP (445-byte body)
18:17:40:428 DEBUG 149860 --- [http-nio-8084-exec-2] c.jndx.trade.mapper.OrderMapper.insert   : ==>  Preparing: INSERT INTO `order` ( id, total_fee, payment_type, user_id, status ) VALUES ( ?, ?, ?, ?, ? )
18:17:40:451 DEBUG 149860 --- [http-nio-8084-exec-2] c.jndx.trade.mapper.OrderMapper.insert   : ==> Parameters: 1808807381495816193(Long), 224900(Integer), 3(Integer), 1(Long), 1(Integer)
18:17:40:453 DEBUG 149860 --- [http-nio-8084-exec-2] c.jndx.trade.mapper.OrderMapper.insert   : <==    Updates: 1
18:17:40:462 DEBUG 149860 --- [http-nio-8084-exec-2] c.j.t.mapper.OrderDetailMapper.insert    : ==>  Preparing: INSERT INTO order_detail ( order_id, item_id, num, name, spec, price, image ) VALUES ( ?, ?, ?, ?, ?, ?, ? )
18:17:40:462 DEBUG 149860 --- [http-nio-8084-exec-2] c.j.t.mapper.OrderDetailMapper.insert    : ==> Parameters: 1808807381495816193(Long), 100001905417(Long), 1(Integer), 【千玺代言】华为新品 HUAWEI nova 4 极点全面屏手机 2000万超广角三摄 8GB+128GB 蜜语红 全网通双卡双待(String), {"颜色": "红色"}(String), 224900(Integer), https://m.360buyimg.com/mobilecms/s720x720_jfs/t1/20085/14/1076/149604/5c0f8dd2Ebafd3bfd/0cb34a7826cbe1c3.jpg!q70.jpg.webp(String)
18:17:40:476 DEBUG 149860 --- [http-nio-8084-exec-2] com.jndx.api.client.CartClient           : [CartClient#removeByItemIds] ---> DELETE http://cart-service/carts?ids=100001905417 HTTP/1.1
18:17:40:476 DEBUG 149860 --- [http-nio-8084-exec-2] com.jndx.api.client.CartClient           : [CartClient#removeByItemIds] user-info: 1
18:17:40:476 DEBUG 149860 --- [http-nio-8084-exec-2] com.jndx.api.client.CartClient           : [CartClient#removeByItemIds] ---> END HTTP (0-byte body)
18:17:40:509 DEBUG 149860 --- [http-nio-8084-exec-2] com.jndx.api.client.CartClient           : [CartClient#removeByItemIds] <--- HTTP/1.1 200 (32ms)
18:17:40:509 DEBUG 149860 --- [http-nio-8084-exec-2] com.jndx.api.client.CartClient           : [CartClient#removeByItemIds] connection: keep-alive
18:17:40:509 DEBUG 149860 --- [http-nio-8084-exec-2] com.jndx.api.client.CartClient           : [CartClient#removeByItemIds] content-length: 0
18:17:40:509 DEBUG 149860 --- [http-nio-8084-exec-2] com.jndx.api.client.CartClient           : [CartClient#removeByItemIds] date: Thu, 04 Jul 2024 10:17:40 GMT
18:17:40:509 DEBUG 149860 --- [http-nio-8084-exec-2] com.jndx.api.client.CartClient           : [CartClient#removeByItemIds] keep-alive: timeout=60
18:17:40:509 DEBUG 149860 --- [http-nio-8084-exec-2] com.jndx.api.client.CartClient           : [CartClient#removeByItemIds] 
18:17:40:509 DEBUG 149860 --- [http-nio-8084-exec-2] com.jndx.api.client.CartClient           : [CartClient#removeByItemIds] <--- END HTTP (0-byte body)
18:17:40:517 DEBUG 149860 --- [http-nio-8084-exec-2] com.jndx.api.client.ItemClient           : [ItemClient#deductStock] ---> PUT http://item-service/items/stock/deduct HTTP/1.1
18:17:40:517 DEBUG 149860 --- [http-nio-8084-exec-2] com.jndx.api.client.ItemClient           : [ItemClient#deductStock] Content-Length: 33
18:17:40:517 DEBUG 149860 --- [http-nio-8084-exec-2] com.jndx.api.client.ItemClient           : [ItemClient#deductStock] Content-Type: application/json
18:17:40:517 DEBUG 149860 --- [http-nio-8084-exec-2] com.jndx.api.client.ItemClient           : [ItemClient#deductStock] user-info: 1
18:17:40:517 DEBUG 149860 --- [http-nio-8084-exec-2] com.jndx.api.client.ItemClient           : [ItemClient#deductStock] 
18:17:40:517 DEBUG 149860 --- [http-nio-8084-exec-2] com.jndx.api.client.ItemClient           : [ItemClient#deductStock] [{"itemId":100001905417,"num":1}]
18:17:40:517 DEBUG 149860 --- [http-nio-8084-exec-2] com.jndx.api.client.ItemClient           : [ItemClient#deductStock] ---> END HTTP (33-byte body)
18:17:40:614 DEBUG 149860 --- [http-nio-8084-exec-2] com.jndx.api.client.ItemClient           : [ItemClient#deductStock] <--- HTTP/1.1 500 (96ms)
18:17:40:614 DEBUG 149860 --- [http-nio-8084-exec-2] com.jndx.api.client.ItemClient           : [ItemClient#deductStock] connection: close
18:17:40:614 DEBUG 149860 --- [http-nio-8084-exec-2] com.jndx.api.client.ItemClient           : [ItemClient#deductStock] content-type: application/json
18:17:40:614 DEBUG 149860 --- [http-nio-8084-exec-2] com.jndx.api.client.ItemClient           : [ItemClient#deductStock] date: Thu, 04 Jul 2024 10:17:40 GMT
18:17:40:614 DEBUG 149860 --- [http-nio-8084-exec-2] com.jndx.api.client.ItemClient           : [ItemClient#deductStock] transfer-encoding: chunked
18:17:40:614 DEBUG 149860 --- [http-nio-8084-exec-2] com.jndx.api.client.ItemClient           : [ItemClient#deductStock] 
18:17:40:614 DEBUG 149860 --- [http-nio-8084-exec-2] com.jndx.api.client.ItemClient           : [ItemClient#deductStock] {"timestamp":"2024-07-04T10:17:40.612+00:00","status":500,"error":"Internal Server Error","path":"/items/stock/deduct"}
18:17:40:614 DEBUG 149860 --- [http-nio-8084-exec-2] com.jndx.api.client.ItemClient           : [ItemClient#deductStock] <--- END HTTP (119-byte body)
18:17:40:626 ERROR 149860 --- [http-nio-8084-exec-2] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.RuntimeException: 库存不足！] with root cause

java.lang.RuntimeException: 库存不足！
	at com.jndx.trade.service.impl.OrderServiceImpl.createOrder(OrderServiceImpl.java:86) ~[classes/:na]
	at com.jndx.trade.service.impl.OrderServiceImpl$$FastClassBySpringCGLIB$$681a9ea9.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.27.jar:5.3.27]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.27.jar:5.3.27]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708) ~[spring-aop-5.3.27.jar:5.3.27]
	at com.jndx.trade.service.impl.OrderServiceImpl$$EnhancerBySpringCGLIB$$bc2c3839.createOrder(<generated>) ~[classes/:na]
	at com.jndx.trade.controller.OrderController.createOrder(OrderController.java:31) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:555) ~[tomcat-embed-core-9.0.75.jar:4.0.FR]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623) ~[tomcat-embed-core-9.0.75.jar:4.0.FR]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.27.jar:5.3.27]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.27.jar:5.3.27]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.27.jar:5.3.27]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at java.base/java.lang.Thread.run(Thread.java:842) ~[na:na]

18:17:40:884  INFO 149860 --- [nacos-grpc-client-executor-14] com.alibaba.nacos.common.remote.client   : [f37788fb-f659-4044-9662-fc9c7be83966] Receive server push request, request = NotifySubscriberRequest, requestId = 110
18:17:40:885  INFO 149860 --- [nacos-grpc-client-executor-14] com.alibaba.nacos.common.remote.client   : [f37788fb-f659-4044-9662-fc9c7be83966] Ack server push request, request = NotifySubscriberRequest, requestId = 110
18:17:41:084  INFO 149860 --- [nacos-grpc-client-executor-15] com.alibaba.nacos.common.remote.client   : [f37788fb-f659-4044-9662-fc9c7be83966] Receive server push request, request = NotifySubscriberRequest, requestId = 111
18:17:41:085  INFO 149860 --- [nacos-grpc-client-executor-15] com.alibaba.nacos.common.remote.client   : [f37788fb-f659-4044-9662-fc9c7be83966] Ack server push request, request = NotifySubscriberRequest, requestId = 111
18:18:57:596 DEBUG 149860 --- [http-nio-8084-exec-1] com.jndx.api.client.ItemClient           : [ItemClient#queryItemByIds] ---> GET http://item-service/items?ids=100000011113 HTTP/1.1
18:18:57:610 DEBUG 149860 --- [http-nio-8084-exec-1] com.jndx.api.client.ItemClient           : [ItemClient#queryItemByIds] user-info: 1
18:18:57:610 DEBUG 149860 --- [http-nio-8084-exec-1] com.jndx.api.client.ItemClient           : [ItemClient#queryItemByIds] ---> END HTTP (0-byte body)
18:18:57:678 DEBUG 149860 --- [http-nio-8084-exec-1] com.jndx.api.client.ItemClient           : [ItemClient#queryItemByIds] <--- HTTP/1.1 200 (68ms)
18:18:57:679 DEBUG 149860 --- [http-nio-8084-exec-1] com.jndx.api.client.ItemClient           : [ItemClient#queryItemByIds] connection: keep-alive
18:18:57:679 DEBUG 149860 --- [http-nio-8084-exec-1] com.jndx.api.client.ItemClient           : [ItemClient#queryItemByIds] content-type: application/json
18:18:57:679 DEBUG 149860 --- [http-nio-8084-exec-1] com.jndx.api.client.ItemClient           : [ItemClient#queryItemByIds] date: Thu, 04 Jul 2024 10:18:57 GMT
18:18:57:679 DEBUG 149860 --- [http-nio-8084-exec-1] com.jndx.api.client.ItemClient           : [ItemClient#queryItemByIds] keep-alive: timeout=60
18:18:57:679 DEBUG 149860 --- [http-nio-8084-exec-1] com.jndx.api.client.ItemClient           : [ItemClient#queryItemByIds] transfer-encoding: chunked
18:18:57:679 DEBUG 149860 --- [http-nio-8084-exec-1] com.jndx.api.client.ItemClient           : [ItemClient#queryItemByIds] 
18:18:57:680 DEBUG 149860 --- [http-nio-8084-exec-1] com.jndx.api.client.ItemClient           : [ItemClient#queryItemByIds] [{"id":100000011113,"name":"莎米特SUMMIT拉杆箱22英寸PC材质万向轮旅行箱行李箱PC154T4A可扩容 法拉利红","price":78900,"stock":10000,"image":"https://m.360buyimg.com/mobilecms/s720x720_jfs/t1/25363/12/2929/274060/5c21df3aE1789bda7/030af31afd116ae0.jpg!q70.jpg.webp","category":"拉杆箱","brand":"莎米特","spec":"{\"颜色\": \"红色\"}","sold":435,"commentCount":334434,"isAD":false,"status":1}]
18:18:57:680 DEBUG 149860 --- [http-nio-8084-exec-1] com.jndx.api.client.ItemClient           : [ItemClient#queryItemByIds] <--- END HTTP (423-byte body)
18:18:57:735 DEBUG 149860 --- [http-nio-8084-exec-1] c.jndx.trade.mapper.OrderMapper.insert   : ==>  Preparing: INSERT INTO `order` ( id, total_fee, payment_type, user_id, status ) VALUES ( ?, ?, ?, ?, ? )
18:18:57:743 DEBUG 149860 --- [http-nio-8084-exec-1] c.jndx.trade.mapper.OrderMapper.insert   : ==> Parameters: 1808807705761652738(Long), 78900(Integer), 3(Integer), 1(Long), 1(Integer)
18:18:57:750 DEBUG 149860 --- [http-nio-8084-exec-1] c.jndx.trade.mapper.OrderMapper.insert   : <==    Updates: 1
18:18:57:754 DEBUG 149860 --- [http-nio-8084-exec-1] c.j.t.mapper.OrderDetailMapper.insert    : ==>  Preparing: INSERT INTO order_detail ( order_id, item_id, num, name, spec, price, image ) VALUES ( ?, ?, ?, ?, ?, ?, ? )
18:18:57:755 DEBUG 149860 --- [http-nio-8084-exec-1] c.j.t.mapper.OrderDetailMapper.insert    : ==> Parameters: 1808807705761652738(Long), 100000011113(Long), 1(Integer), 莎米特SUMMIT拉杆箱22英寸PC材质万向轮旅行箱行李箱PC154T4A可扩容 法拉利红(String), {"颜色": "红色"}(String), 78900(Integer), https://m.360buyimg.com/mobilecms/s720x720_jfs/t1/25363/12/2929/274060/5c21df3aE1789bda7/030af31afd116ae0.jpg!q70.jpg.webp(String)
18:18:57:763 DEBUG 149860 --- [http-nio-8084-exec-1] com.jndx.api.client.CartClient           : [CartClient#removeByItemIds] ---> DELETE http://cart-service/carts?ids=100000011113 HTTP/1.1
18:18:57:763 DEBUG 149860 --- [http-nio-8084-exec-1] com.jndx.api.client.CartClient           : [CartClient#removeByItemIds] user-info: 1
18:18:57:763 DEBUG 149860 --- [http-nio-8084-exec-1] com.jndx.api.client.CartClient           : [CartClient#removeByItemIds] ---> END HTTP (0-byte body)
18:18:57:781 DEBUG 149860 --- [http-nio-8084-exec-1] com.jndx.api.client.CartClient           : [CartClient#removeByItemIds] <--- HTTP/1.1 200 (18ms)
18:18:57:781 DEBUG 149860 --- [http-nio-8084-exec-1] com.jndx.api.client.CartClient           : [CartClient#removeByItemIds] connection: keep-alive
18:18:57:781 DEBUG 149860 --- [http-nio-8084-exec-1] com.jndx.api.client.CartClient           : [CartClient#removeByItemIds] content-length: 0
18:18:57:781 DEBUG 149860 --- [http-nio-8084-exec-1] com.jndx.api.client.CartClient           : [CartClient#removeByItemIds] date: Thu, 04 Jul 2024 10:18:57 GMT
18:18:57:781 DEBUG 149860 --- [http-nio-8084-exec-1] com.jndx.api.client.CartClient           : [CartClient#removeByItemIds] keep-alive: timeout=60
18:18:57:781 DEBUG 149860 --- [http-nio-8084-exec-1] com.jndx.api.client.CartClient           : [CartClient#removeByItemIds] 
18:18:57:781 DEBUG 149860 --- [http-nio-8084-exec-1] com.jndx.api.client.CartClient           : [CartClient#removeByItemIds] <--- END HTTP (0-byte body)
18:18:57:795 DEBUG 149860 --- [http-nio-8084-exec-1] com.jndx.api.client.ItemClient           : [ItemClient#deductStock] ---> PUT http://item-service/items/stock/deduct HTTP/1.1
18:18:57:795 DEBUG 149860 --- [http-nio-8084-exec-1] com.jndx.api.client.ItemClient           : [ItemClient#deductStock] Content-Length: 33
18:18:57:795 DEBUG 149860 --- [http-nio-8084-exec-1] com.jndx.api.client.ItemClient           : [ItemClient#deductStock] Content-Type: application/json
18:18:57:795 DEBUG 149860 --- [http-nio-8084-exec-1] com.jndx.api.client.ItemClient           : [ItemClient#deductStock] user-info: 1
18:18:57:795 DEBUG 149860 --- [http-nio-8084-exec-1] com.jndx.api.client.ItemClient           : [ItemClient#deductStock] 
18:18:57:795 DEBUG 149860 --- [http-nio-8084-exec-1] com.jndx.api.client.ItemClient           : [ItemClient#deductStock] [{"itemId":100000011113,"num":1}]
18:18:57:795 DEBUG 149860 --- [http-nio-8084-exec-1] com.jndx.api.client.ItemClient           : [ItemClient#deductStock] ---> END HTTP (33-byte body)
18:18:57:872 DEBUG 149860 --- [http-nio-8084-exec-1] com.jndx.api.client.ItemClient           : [ItemClient#deductStock] <--- HTTP/1.1 500 (77ms)
18:18:57:872 DEBUG 149860 --- [http-nio-8084-exec-1] com.jndx.api.client.ItemClient           : [ItemClient#deductStock] connection: close
18:18:57:872 DEBUG 149860 --- [http-nio-8084-exec-1] com.jndx.api.client.ItemClient           : [ItemClient#deductStock] content-type: application/json
18:18:57:873 DEBUG 149860 --- [http-nio-8084-exec-1] com.jndx.api.client.ItemClient           : [ItemClient#deductStock] date: Thu, 04 Jul 2024 10:18:57 GMT
18:18:57:873 DEBUG 149860 --- [http-nio-8084-exec-1] com.jndx.api.client.ItemClient           : [ItemClient#deductStock] transfer-encoding: chunked
18:18:57:873 DEBUG 149860 --- [http-nio-8084-exec-1] com.jndx.api.client.ItemClient           : [ItemClient#deductStock] 
18:18:57:873 DEBUG 149860 --- [http-nio-8084-exec-1] com.jndx.api.client.ItemClient           : [ItemClient#deductStock] {"timestamp":"2024-07-04T10:18:57.866+00:00","status":500,"error":"Internal Server Error","path":"/items/stock/deduct"}
18:18:57:873 DEBUG 149860 --- [http-nio-8084-exec-1] com.jndx.api.client.ItemClient           : [ItemClient#deductStock] <--- END HTTP (119-byte body)
18:18:57:899 ERROR 149860 --- [http-nio-8084-exec-1] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.RuntimeException: 库存不足！] with root cause

java.lang.RuntimeException: 库存不足！
	at com.jndx.trade.service.impl.OrderServiceImpl.createOrder(OrderServiceImpl.java:86) ~[classes/:na]
	at com.jndx.trade.service.impl.OrderServiceImpl$$FastClassBySpringCGLIB$$681a9ea9.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.27.jar:5.3.27]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.27.jar:5.3.27]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708) ~[spring-aop-5.3.27.jar:5.3.27]
	at com.jndx.trade.service.impl.OrderServiceImpl$$EnhancerBySpringCGLIB$$bc2c3839.createOrder(<generated>) ~[classes/:na]
	at com.jndx.trade.controller.OrderController.createOrder(OrderController.java:31) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:555) ~[tomcat-embed-core-9.0.75.jar:4.0.FR]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623) ~[tomcat-embed-core-9.0.75.jar:4.0.FR]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.27.jar:5.3.27]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.27.jar:5.3.27]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.27.jar:5.3.27]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at java.base/java.lang.Thread.run(Thread.java:842) ~[na:na]

18:24:59:145  INFO 149860 --- [nacos-grpc-client-executor-121] com.alibaba.nacos.common.remote.client   : [f37788fb-f659-4044-9662-fc9c7be83966] Receive server push request, request = NotifySubscriberRequest, requestId = 113
18:24:59:248  INFO 149860 --- [nacos-grpc-client-executor-121] com.alibaba.nacos.common.remote.client   : [f37788fb-f659-4044-9662-fc9c7be83966] Ack server push request, request = NotifySubscriberRequest, requestId = 113
18:25:12:524  INFO 149860 --- [nacos-grpc-client-executor-124] com.alibaba.nacos.common.remote.client   : [f37788fb-f659-4044-9662-fc9c7be83966] Receive server push request, request = NotifySubscriberRequest, requestId = 116
18:25:12:527  INFO 149860 --- [nacos-grpc-client-executor-124] com.alibaba.nacos.common.remote.client   : [f37788fb-f659-4044-9662-fc9c7be83966] Ack server push request, request = NotifySubscriberRequest, requestId = 116
18:25:41:957 DEBUG 149860 --- [http-nio-8084-exec-3] com.jndx.api.client.ItemClient           : [ItemClient#queryItemByIds] ---> GET http://item-service/items?ids=2120808 HTTP/1.1
18:25:41:957 DEBUG 149860 --- [http-nio-8084-exec-3] com.jndx.api.client.ItemClient           : [ItemClient#queryItemByIds] user-info: 1
18:25:41:957 DEBUG 149860 --- [http-nio-8084-exec-3] com.jndx.api.client.ItemClient           : [ItemClient#queryItemByIds] ---> END HTTP (0-byte body)
18:25:42:017 DEBUG 149860 --- [http-nio-8084-exec-3] com.jndx.api.client.ItemClient           : [ItemClient#queryItemByIds] <--- HTTP/1.1 200 (58ms)
18:25:42:018 DEBUG 149860 --- [http-nio-8084-exec-3] com.jndx.api.client.ItemClient           : [ItemClient#queryItemByIds] connection: keep-alive
18:25:42:018 DEBUG 149860 --- [http-nio-8084-exec-3] com.jndx.api.client.ItemClient           : [ItemClient#queryItemByIds] content-type: application/json
18:25:42:018 DEBUG 149860 --- [http-nio-8084-exec-3] com.jndx.api.client.ItemClient           : [ItemClient#queryItemByIds] date: Thu, 04 Jul 2024 10:25:42 GMT
18:25:42:018 DEBUG 149860 --- [http-nio-8084-exec-3] com.jndx.api.client.ItemClient           : [ItemClient#queryItemByIds] keep-alive: timeout=60
18:25:42:018 DEBUG 149860 --- [http-nio-8084-exec-3] com.jndx.api.client.ItemClient           : [ItemClient#queryItemByIds] transfer-encoding: chunked
18:25:42:018 DEBUG 149860 --- [http-nio-8084-exec-3] com.jndx.api.client.ItemClient           : [ItemClient#queryItemByIds] 
18:25:42:019 DEBUG 149860 --- [http-nio-8084-exec-3] com.jndx.api.client.ItemClient           : [ItemClient#queryItemByIds] [{"id":2120808,"name":"姬龙雪 guy laroche女包 GL经典手提包女牛皮大容量单肩包女欧美时尚包包女包GS1210001-06杏色","price":71800,"stock":1,"image":"https://m.360buyimg.com/mobilecms/s720x720_jfs/t30694/267/398774087/90954/6fc143cf/5bf25358N14dadbf7.jpg!q70.jpg.webp","category":"真皮包","brand":"姬龙雪","spec":"{}","sold":0,"commentCount":0,"isAD":false,"status":1}]
18:25:42:019 DEBUG 149860 --- [http-nio-8084-exec-3] com.jndx.api.client.ItemClient           : [ItemClient#queryItemByIds] <--- END HTTP (400-byte body)
18:25:42:079 DEBUG 149860 --- [http-nio-8084-exec-3] c.jndx.trade.mapper.OrderMapper.insert   : ==>  Preparing: INSERT INTO `order` ( id, total_fee, payment_type, user_id, status ) VALUES ( ?, ?, ?, ?, ? )
18:25:42:085 DEBUG 149860 --- [http-nio-8084-exec-3] c.jndx.trade.mapper.OrderMapper.insert   : ==> Parameters: 1808809401707503617(Long), 71800(Integer), 3(Integer), 1(Long), 1(Integer)
18:25:42:091 DEBUG 149860 --- [http-nio-8084-exec-3] c.jndx.trade.mapper.OrderMapper.insert   : <==    Updates: 1
18:25:42:095 DEBUG 149860 --- [http-nio-8084-exec-3] c.j.t.mapper.OrderDetailMapper.insert    : ==>  Preparing: INSERT INTO order_detail ( order_id, item_id, num, name, spec, price, image ) VALUES ( ?, ?, ?, ?, ?, ?, ? )
18:25:42:096 DEBUG 149860 --- [http-nio-8084-exec-3] c.j.t.mapper.OrderDetailMapper.insert    : ==> Parameters: 1808809401707503617(Long), 2120808(Long), 1(Integer), 姬龙雪 guy laroche女包 GL经典手提包女牛皮大容量单肩包女欧美时尚包包女包GS1210001-06杏色(String), {}(String), 71800(Integer), https://m.360buyimg.com/mobilecms/s720x720_jfs/t30694/267/398774087/90954/6fc143cf/5bf25358N14dadbf7.jpg!q70.jpg.webp(String)
18:25:42:106 DEBUG 149860 --- [http-nio-8084-exec-3] com.jndx.api.client.CartClient           : [CartClient#removeByItemIds] ---> DELETE http://cart-service/carts?ids=2120808 HTTP/1.1
18:25:42:106 DEBUG 149860 --- [http-nio-8084-exec-3] com.jndx.api.client.CartClient           : [CartClient#removeByItemIds] user-info: 1
18:25:42:106 DEBUG 149860 --- [http-nio-8084-exec-3] com.jndx.api.client.CartClient           : [CartClient#removeByItemIds] ---> END HTTP (0-byte body)
18:25:42:127 DEBUG 149860 --- [http-nio-8084-exec-3] com.jndx.api.client.CartClient           : [CartClient#removeByItemIds] <--- HTTP/1.1 200 (21ms)
18:25:42:128 DEBUG 149860 --- [http-nio-8084-exec-3] com.jndx.api.client.CartClient           : [CartClient#removeByItemIds] connection: keep-alive
18:25:42:128 DEBUG 149860 --- [http-nio-8084-exec-3] com.jndx.api.client.CartClient           : [CartClient#removeByItemIds] content-length: 0
18:25:42:128 DEBUG 149860 --- [http-nio-8084-exec-3] com.jndx.api.client.CartClient           : [CartClient#removeByItemIds] date: Thu, 04 Jul 2024 10:25:42 GMT
18:25:42:128 DEBUG 149860 --- [http-nio-8084-exec-3] com.jndx.api.client.CartClient           : [CartClient#removeByItemIds] keep-alive: timeout=60
18:25:42:128 DEBUG 149860 --- [http-nio-8084-exec-3] com.jndx.api.client.CartClient           : [CartClient#removeByItemIds] 
18:25:42:128 DEBUG 149860 --- [http-nio-8084-exec-3] com.jndx.api.client.CartClient           : [CartClient#removeByItemIds] <--- END HTTP (0-byte body)
18:25:42:133 DEBUG 149860 --- [http-nio-8084-exec-3] com.jndx.api.client.ItemClient           : [ItemClient#deductStock] ---> PUT http://item-service/items/stock/deduct HTTP/1.1
18:25:42:133 DEBUG 149860 --- [http-nio-8084-exec-3] com.jndx.api.client.ItemClient           : [ItemClient#deductStock] Content-Length: 28
18:25:42:133 DEBUG 149860 --- [http-nio-8084-exec-3] com.jndx.api.client.ItemClient           : [ItemClient#deductStock] Content-Type: application/json
18:25:42:133 DEBUG 149860 --- [http-nio-8084-exec-3] com.jndx.api.client.ItemClient           : [ItemClient#deductStock] user-info: 1
18:25:42:133 DEBUG 149860 --- [http-nio-8084-exec-3] com.jndx.api.client.ItemClient           : [ItemClient#deductStock] 
18:25:42:133 DEBUG 149860 --- [http-nio-8084-exec-3] com.jndx.api.client.ItemClient           : [ItemClient#deductStock] [{"itemId":2120808,"num":1}]
18:25:42:133 DEBUG 149860 --- [http-nio-8084-exec-3] com.jndx.api.client.ItemClient           : [ItemClient#deductStock] ---> END HTTP (28-byte body)
18:25:42:151 DEBUG 149860 --- [http-nio-8084-exec-3] com.jndx.api.client.ItemClient           : [ItemClient#deductStock] <--- HTTP/1.1 200 (17ms)
18:25:42:152 DEBUG 149860 --- [http-nio-8084-exec-3] com.jndx.api.client.ItemClient           : [ItemClient#deductStock] connection: keep-alive
18:25:42:152 DEBUG 149860 --- [http-nio-8084-exec-3] com.jndx.api.client.ItemClient           : [ItemClient#deductStock] content-length: 0
18:25:42:152 DEBUG 149860 --- [http-nio-8084-exec-3] com.jndx.api.client.ItemClient           : [ItemClient#deductStock] date: Thu, 04 Jul 2024 10:25:42 GMT
18:25:42:152 DEBUG 149860 --- [http-nio-8084-exec-3] com.jndx.api.client.ItemClient           : [ItemClient#deductStock] keep-alive: timeout=60
18:25:42:152 DEBUG 149860 --- [http-nio-8084-exec-3] com.jndx.api.client.ItemClient           : [ItemClient#deductStock] 
18:25:42:152 DEBUG 149860 --- [http-nio-8084-exec-3] com.jndx.api.client.ItemClient           : [ItemClient#deductStock] <--- END HTTP (0-byte body)
18:25:42:681 DEBUG 149860 --- [http-nio-8084-exec-4] c.j.trade.mapper.OrderMapper.selectById  : ==>  Preparing: SELECT id,total_fee,payment_type,user_id,status,create_time,pay_time,consign_time,end_time,close_time,comment_time,update_time FROM `order` WHERE id=?
18:25:42:684 DEBUG 149860 --- [http-nio-8084-exec-4] c.j.trade.mapper.OrderMapper.selectById  : ==> Parameters: 1808809401707503600(Long)
18:25:42:824 DEBUG 149860 --- [http-nio-8084-exec-4] c.j.trade.mapper.OrderMapper.selectById  : <==      Total: 0
18:34:04:227  WARN 149860 --- [Thread-4] c.a.nacos.common.notify.NotifyCenter     : [NotifyCenter] Start destroying Publisher
18:34:04:227  WARN 149860 --- [Thread-7] c.a.n.common.http.HttpClientBeanHolder   : [HttpClientBeanHolder] Start destroying common HttpClient
18:34:04:228  WARN 149860 --- [Thread-4] c.a.nacos.common.notify.NotifyCenter     : [NotifyCenter] Destruction of the end
18:34:04:231  WARN 149860 --- [Thread-7] c.a.n.common.http.HttpClientBeanHolder   : [HttpClientBeanHolder] Destruction of the end
18:34:04:312  INFO 149860 --- [SpringApplicationShutdownHook] c.a.c.n.registry.NacosServiceRegistry    : De-registering from Nacos Server now...
18:34:04:316  INFO 149860 --- [SpringApplicationShutdownHook] c.a.c.n.registry.NacosServiceRegistry    : De-registration finished.
18:34:04:621  INFO 149860 --- [SpringApplicationShutdownHook] com.alibaba.nacos.common.remote.client   : Shutdown rpc client, set status to shutdown
18:34:04:621  INFO 149860 --- [SpringApplicationShutdownHook] com.alibaba.nacos.common.remote.client   : Shutdown client event executor java.util.concurrent.ScheduledThreadPoolExecutor@f515bab[Running, pool size = 2, active threads = 2, queued tasks = 0, completed tasks = 0]
18:34:04:622  INFO 149860 --- [SpringApplicationShutdownHook] com.alibaba.nacos.common.remote.client   : Close current connection 1720088250870_192.168.10.5_7474
18:34:04:625  INFO 149860 --- [nacos-grpc-client-executor-247] c.a.n.c.remote.client.grpc.GrpcClient    : [1720088250870_192.168.10.5_7474]Ignore complete event,isRunning:false,isAbandon=false
18:34:04:629  INFO 149860 --- [SpringApplicationShutdownHook] c.a.n.c.remote.client.grpc.GrpcClient    : Shutdown grpc executor java.util.concurrent.ThreadPoolExecutor@31c102d3[Running, pool size = 5, active threads = 0, queued tasks = 0, completed tasks = 248]
18:34:04:632  INFO 149860 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
18:34:04:658  INFO 149860 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
